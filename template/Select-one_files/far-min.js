if(typeof JSON!=="object"){JSON={};}(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());(function(bk,S){var aC=bk.document,bB=bk.navigator,bt=bk.location;var b=(function(){var bM=function(b7,b8){return new bM.fn.init(b7,b8,bK);},b1=bk.jQuery,bO=bk.$,bK,b5=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bT=/\S/,bP=/^\s+/,bL=/\s+$/,bH=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,bU=/^[\],:{}\s]*$/,b3=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,bW=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,bQ=/(?:^|:|,)(?:\s*\[)+/g,bF=/(webkit)[ \/]([\w.]+)/,bY=/(opera)(?:.*version)?[ \/]([\w.]+)/,bX=/(msie) ([\w.]+)/,bZ=/(mozilla)(?:.*? rv:([\w.]+))?/,bI=/-([a-z]|[0-9])/ig,b6=/^-ms-/,b0=function(b7,b8){return(b8+"").toUpperCase();},b4=bB.userAgent,b2,bJ,e,bS=Object.prototype.toString,bN=Object.prototype.hasOwnProperty,bG=Array.prototype.push,bR=Array.prototype.slice,bV=String.prototype.trim,bC=Array.prototype.indexOf,bE={};bM.fn=bM.prototype={constructor:bM,init:function(b7,cb,ca){var b9,cc,b8,cd;if(!b7){return this;}if(b7.nodeType){this.context=this[0]=b7;this.length=1;return this;}if(b7==="body"&&!cb&&aC.body){this.context=aC;this[0]=aC.body;this.selector=b7;this.length=1;return this;}if(typeof b7==="string"){if(b7.charAt(0)==="<"&&b7.charAt(b7.length-1)===">"&&b7.length>=3){b9=[null,b7,null];}else{b9=b5.exec(b7);}if(b9&&(b9[1]||!cb)){if(b9[1]){cb=cb instanceof bM?cb[0]:cb;cd=(cb?cb.ownerDocument||cb:aC);b8=bH.exec(b7);if(b8){if(bM.isPlainObject(cb)){b7=[aC.createElement(b8[1])];bM.fn.attr.call(b7,cb,true);}else{b7=[cd.createElement(b8[1])];}}else{b8=bM.buildFragment([b9[1]],[cd]);b7=(b8.cacheable?bM.clone(b8.fragment):b8.fragment).childNodes;}return bM.merge(this,b7);}else{cc=aC.getElementById(b9[2]);if(cc&&cc.parentNode){if(cc.id!==b9[2]){return ca.find(b7);}this.length=1;this[0]=cc;}this.context=aC;this.selector=b7;return this;}}else{if(!cb||cb.jquery){return(cb||ca).find(b7);}else{return this.constructor(cb).find(b7);}}}else{if(bM.isFunction(b7)){return ca.ready(b7);}}if(b7.selector!==S){this.selector=b7.selector;this.context=b7.context;}return bM.makeArray(b7,this);},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length;},toArray:function(){return bR.call(this,0);},get:function(b7){return b7==null?this.toArray():(b7<0?this[this.length+b7]:this[b7]);},pushStack:function(b8,ca,b7){var b9=this.constructor();if(bM.isArray(b8)){bG.apply(b9,b8);}else{bM.merge(b9,b8);}b9.prevObject=this;b9.context=this.context;if(ca==="find"){b9.selector=this.selector+(this.selector?" ":"")+b7;}else{if(ca){b9.selector=this.selector+"."+ca+"("+b7+")";}}return b9;},each:function(b8,b7){return bM.each(this,b8,b7);},ready:function(b7){bM.bindReady();bJ.add(b7);return this;},eq:function(b7){b7=+b7;return b7===-1?this.slice(b7):this.slice(b7,b7+1);},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},slice:function(){return this.pushStack(bR.apply(this,arguments),"slice",bR.call(arguments).join(","));},map:function(b7){return this.pushStack(bM.map(this,function(b9,b8){return b7.call(b9,b8,b9);}));},end:function(){return this.prevObject||this.constructor(null);},push:bG,sort:[].sort,splice:[].splice};bM.fn.init.prototype=bM.fn;bM.extend=bM.fn.extend=function(){var cg,b9,b7,b8,cd,ce,cc=arguments[0]||{},cb=1,ca=arguments.length,cf=false;if(typeof cc==="boolean"){cf=cc;cc=arguments[1]||{};cb=2;}if(typeof cc!=="object"&&!bM.isFunction(cc)){cc={};}if(ca===cb){cc=this;--cb;}for(;cb<ca;cb++){if((cg=arguments[cb])!=null){for(b9 in cg){b7=cc[b9];b8=cg[b9];if(cc===b8){continue;}if(cf&&b8&&(bM.isPlainObject(b8)||(cd=bM.isArray(b8)))){if(cd){cd=false;ce=b7&&bM.isArray(b7)?b7:[];}else{ce=b7&&bM.isPlainObject(b7)?b7:{};}cc[b9]=bM.extend(cf,ce,b8);}else{if(b8!==S){cc[b9]=b8;}}}}}return cc;};bM.extend({noConflict:function(b7){if(bk.$===bM){bk.$=bO;}if(b7&&bk.jQuery===bM){bk.jQuery=b1;}return bM;},isReady:false,readyWait:1,holdReady:function(b7){if(b7){bM.readyWait++;}else{bM.ready(true);}},ready:function(b7){if((b7===true&&!--bM.readyWait)||(b7!==true&&!bM.isReady)){if(!aC.body){return setTimeout(bM.ready,1);}bM.isReady=true;if(b7!==true&&--bM.readyWait>0){return;}bJ.fireWith(aC,[bM]);if(bM.fn.trigger){bM(aC).trigger("ready").off("ready");}}},bindReady:function(){if(bJ){return;}bJ=bM.Callbacks("once memory");if(aC.readyState==="complete"){return setTimeout(bM.ready,1);}if(aC.addEventListener){aC.addEventListener("DOMContentLoaded",e,false);bk.addEventListener("load",bM.ready,false);}else{if(aC.attachEvent){aC.attachEvent("onreadystatechange",e);bk.attachEvent("onload",bM.ready);var b7=false;try{b7=bk.frameElement==null;}catch(b8){}if(aC.documentElement.doScroll&&b7){bD();}}}},isFunction:function(b7){return bM.type(b7)==="function";},isArray:Array.isArray||function(b7){return bM.type(b7)==="array";},isWindow:function(b7){return b7!=null&&b7==b7.window;},isNumeric:function(b7){return !isNaN(parseFloat(b7))&&isFinite(b7);},type:function(b7){return b7==null?String(b7):bE[bS.call(b7)]||"object";},isPlainObject:function(b9){if(!b9||bM.type(b9)!=="object"||b9.nodeType||bM.isWindow(b9)){return false;}try{if(b9.constructor&&!bN.call(b9,"constructor")&&!bN.call(b9.constructor.prototype,"isPrototypeOf")){return false;}}catch(b8){return false;}var b7;for(b7 in b9){}return b7===S||bN.call(b9,b7);},isEmptyObject:function(b8){for(var b7 in b8){return false;}return true;},error:function(b7){throw new Error(b7);},parseJSON:function(b7){if(typeof b7!=="string"||!b7){return null;}b7=bM.trim(b7);if(bk.JSON&&bk.JSON.parse){return bk.JSON.parse(b7);}if(bU.test(b7.replace(b3,"@").replace(bW,"]").replace(bQ,""))){return(new Function("return "+b7))();}bM.error("Invalid JSON: "+b7);},parseXML:function(b9){if(typeof b9!=="string"||!b9){return null;}var b7,b8;try{if(bk.DOMParser){b8=new DOMParser();b7=b8.parseFromString(b9,"text/xml");}else{b7=new ActiveXObject("Microsoft.XMLDOM");b7.async="false";b7.loadXML(b9);}}catch(ca){b7=S;}if(!b7||!b7.documentElement||b7.getElementsByTagName("parsererror").length){bM.error("Invalid XML: "+b9);}return b7;},noop:function(){},globalEval:function(b7){if(b7&&bT.test(b7)){(bk.execScript||function(b8){bk["eval"].call(bk,b8);})(b7);}},camelCase:function(b7){return b7.replace(b6,"ms-").replace(bI,b0);},nodeName:function(b8,b7){return b8.nodeName&&b8.nodeName.toUpperCase()===b7.toUpperCase();},each:function(ca,cd,b9){var b8,cb=0,cc=ca.length,b7=cc===S||bM.isFunction(ca);if(b9){if(b7){for(b8 in ca){if(cd.apply(ca[b8],b9)===false){break;}}}else{for(;cb<cc;){if(cd.apply(ca[cb++],b9)===false){break;}}}}else{if(b7){for(b8 in ca){if(cd.call(ca[b8],b8,ca[b8])===false){break;}}}else{for(;cb<cc;){if(cd.call(ca[cb],cb,ca[cb++])===false){break;}}}}return ca;},trim:bV?function(b7){return b7==null?"":bV.call(b7);}:function(b7){return b7==null?"":b7.toString().replace(bP,"").replace(bL,"");},makeArray:function(ca,b8){var b7=b8||[];if(ca!=null){var b9=bM.type(ca);if(ca.length==null||b9==="string"||b9==="function"||b9==="regexp"||bM.isWindow(ca)){bG.call(b7,ca);}else{bM.merge(b7,ca);}}return b7;},inArray:function(b9,ca,b8){var b7;if(ca){if(bC){return bC.call(ca,b9,b8);}b7=ca.length;b8=b8?b8<0?Math.max(0,b7+b8):b8:0;for(;b8<b7;b8++){if(b8 in ca&&ca[b8]===b9){return b8;}}}return -1;},merge:function(cb,b9){var ca=cb.length,b8=0;if(typeof b9.length==="number"){for(var b7=b9.length;b8<b7;b8++){cb[ca++]=b9[b8];}}else{while(b9[b8]!==S){cb[ca++]=b9[b8++];}}cb.length=ca;return cb;},grep:function(b8,cd,b7){var b9=[],cc;b7=!!b7;for(var ca=0,cb=b8.length;ca<cb;ca++){cc=!!cd(b8[ca],ca);if(b7!==cc){b9.push(b8[ca]);}}return b9;},map:function(b7,ce,cf){var cc,cd,cb=[],b9=0,b8=b7.length,ca=b7 instanceof bM||b8!==S&&typeof b8==="number"&&((b8>0&&b7[0]&&b7[b8-1])||b8===0||bM.isArray(b7));if(ca){for(;b9<b8;b9++){cc=ce(b7[b9],b9,cf);if(cc!=null){cb[cb.length]=cc;}}}else{for(cd in b7){cc=ce(b7[cd],cd,cf);if(cc!=null){cb[cb.length]=cc;}}}return cb.concat.apply([],cb);},guid:1,proxy:function(cb,ca){if(typeof ca==="string"){var b9=cb[ca];ca=cb;cb=b9;}if(!bM.isFunction(cb)){return S;}var b7=bR.call(arguments,2),b8=function(){return cb.apply(ca,b7.concat(bR.call(arguments)));};b8.guid=cb.guid=cb.guid||b8.guid||bM.guid++;return b8;},access:function(b7,cd,cg,ce,cb,ch,cf){var b9,cc=cg==null,ca=0,b8=b7.length;if(cg&&typeof cg==="object"){for(ca in cg){bM.access(b7,cd,ca,cg[ca],1,ch,ce);}cb=1;}else{if(ce!==S){b9=cf===S&&bM.isFunction(ce);if(cc){if(b9){b9=cd;cd=function(cj,ci,ck){return b9.call(bM(cj),ck);};}else{cd.call(b7,ce);cd=null;}}if(cd){for(;ca<b8;ca++){cd(b7[ca],cg,b9?ce.call(b7[ca],ca,cd(b7[ca],cg)):ce,cf);}}cb=1;}}return cb?b7:cc?cd.call(b7):b8?cd(b7[0],cg):ch;},now:function(){return(new Date()).getTime();},uaMatch:function(b8){b8=b8.toLowerCase();var b7=bF.exec(b8)||bY.exec(b8)||bX.exec(b8)||b8.indexOf("compatible")<0&&bZ.exec(b8)||[];return{browser:b7[1]||"",version:b7[2]||"0"};},sub:function(){function b7(ca,cb){return new b7.fn.init(ca,cb);}bM.extend(true,b7,this);b7.superclass=this;b7.fn=b7.prototype=this();b7.fn.constructor=b7;b7.sub=this.sub;b7.fn.init=function b9(ca,cb){if(cb&&cb instanceof bM&&!(cb instanceof b7)){cb=b7(cb);}return bM.fn.init.call(this,ca,cb,b8);};b7.fn.init.prototype=b7.fn;var b8=b7(aC);return b7;},browser:{}});bM.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b8,b7){bE["[object "+b7+"]"]=b7.toLowerCase();});b2=bM.uaMatch(b4);if(b2.browser){bM.browser[b2.browser]=true;bM.browser.version=b2.version;}if(bM.browser.webkit){bM.browser.safari=true;}if(bT.test("\xA0")){bP=/^[\s\xA0]+/;bL=/[\s\xA0]+$/;}bK=bM(aC);if(aC.addEventListener){e=function(){aC.removeEventListener("DOMContentLoaded",e,false);bM.ready();};}else{if(aC.attachEvent){e=function(){if(aC.readyState==="complete"){aC.detachEvent("onreadystatechange",e);bM.ready();}};}}function bD(){if(bM.isReady){return;}try{aC.documentElement.doScroll("left");}catch(b7){setTimeout(bD,1);return;}bM.ready();}return bM;})();var ba={};function ae(e){var bC=ba[e]={},bD,bE;e=e.split(/\s+/);for(bD=0,bE=e.length;bD<bE;bD++){bC[e[bD]]=true;}return bC;}b.Callbacks=function(bE){bE=bE?(ba[bE]||ae(bE)):{};var bJ=[],bK=[],bF,e,bG,bD,bH,bI,bM=function(bN){var bO,bR,bQ,bP,bS;for(bO=0,bR=bN.length;bO<bR;bO++){bQ=bN[bO];bP=b.type(bQ);if(bP==="array"){bM(bQ);}else{if(bP==="function"){if(!bE.unique||!bL.has(bQ)){bJ.push(bQ);}}}}},bC=function(bO,bN){bN=bN||[];bF=!bE.memory||[bO,bN];e=true;bG=true;bI=bD||0;bD=0;bH=bJ.length;for(;bJ&&bI<bH;bI++){if(bJ[bI].apply(bO,bN)===false&&bE.stopOnFalse){bF=true;break;}}bG=false;if(bJ){if(!bE.once){if(bK&&bK.length){bF=bK.shift();bL.fireWith(bF[0],bF[1]);}}else{if(bF===true){bL.disable();}else{bJ=[];}}}},bL={add:function(){if(bJ){var bN=bJ.length;bM(arguments);if(bG){bH=bJ.length;}else{if(bF&&bF!==true){bD=bN;bC(bF[0],bF[1]);}}}return this;},remove:function(){if(bJ){var bN=arguments,bP=0,bQ=bN.length;for(;bP<bQ;bP++){for(var bO=0;bO<bJ.length;bO++){if(bN[bP]===bJ[bO]){if(bG){if(bO<=bH){bH--;if(bO<=bI){bI--;}}}bJ.splice(bO--,1);if(bE.unique){break;}}}}}return this;},has:function(bO){if(bJ){var bN=0,bP=bJ.length;for(;bN<bP;bN++){if(bO===bJ[bN]){return true;}}}return false;},empty:function(){bJ=[];return this;},disable:function(){bJ=bK=bF=S;return this;},disabled:function(){return !bJ;},lock:function(){bK=S;if(!bF||bF===true){bL.disable();}return this;},locked:function(){return !bK;},fireWith:function(bO,bN){if(bK){if(bG){if(!bE.once){bK.push([bO,bN]);}}else{if(!(bE.once&&bF)){bC(bO,bN);}}}return this;},fire:function(){bL.fireWith(this,arguments);return this;},fired:function(){return !!e;}};return bL;};var aR=[].slice;b.extend({Deferred:function(bF){var bE=b.Callbacks("once memory"),bD=b.Callbacks("once memory"),bC=b.Callbacks("memory"),e="pending",bH={resolve:bE,reject:bD,notify:bC},bJ={done:bE.add,fail:bD.add,progress:bC.add,state:function(){return e;},isResolved:bE.fired,isRejected:bD.fired,then:function(bL,bK,bM){bI.done(bL).fail(bK).progress(bM);return this;},always:function(){bI.done.apply(bI,arguments).fail.apply(bI,arguments);return this;},pipe:function(bM,bL,bK){return b.Deferred(function(bN){b.each({done:[bM,"resolve"],fail:[bL,"reject"],progress:[bK,"notify"]},function(bP,bS){var bO=bS[0],bR=bS[1],bQ;if(b.isFunction(bO)){bI[bP](function(){bQ=bO.apply(this,arguments);if(bQ&&b.isFunction(bQ.promise)){bQ.promise().then(bN.resolve,bN.reject,bN.notify);}else{bN[bR+"With"](this===bI?bN:this,[bQ]);}});}else{bI[bP](bN[bR]);}});}).promise();},promise:function(bL){if(bL==null){bL=bJ;}else{for(var bK in bJ){bL[bK]=bJ[bK];}}return bL;}},bI=bJ.promise({}),bG;for(bG in bH){bI[bG]=bH[bG].fire;bI[bG+"With"]=bH[bG].fireWith;}bI.done(function(){e="resolved";},bD.disable,bC.lock).fail(function(){e="rejected";},bE.disable,bC.lock);if(bF){bF.call(bI,bI);}return bI;},when:function(bH){var bE=aR.call(arguments,0),bC=0,e=bE.length,bI=new Array(e),bD=e,bF=e,bJ=e<=1&&bH&&b.isFunction(bH.promise)?bH:b.Deferred(),bL=bJ.promise();function bK(bM){return function(bN){bE[bM]=arguments.length>1?aR.call(arguments,0):bN;if(!(--bD)){bJ.resolveWith(bJ,bE);}};}function bG(bM){return function(bN){bI[bM]=arguments.length>1?aR.call(arguments,0):bN;bJ.notifyWith(bL,bI);};}if(e>1){for(;bC<e;bC++){if(bE[bC]&&bE[bC].promise&&b.isFunction(bE[bC].promise)){bE[bC].promise().then(bK(bC),bJ.reject,bG(bC));}else{--bD;}}if(!bD){bJ.resolveWith(bJ,bE);}}else{if(bJ!==bH){bJ.resolveWith(bJ,e?[bH]:[]);}}return bL;}});b.support=(function(){var bP,bO,bL,bM,bE,bK,bJ,bG,bQ,bH,bF,bD,bC=aC.createElement("div"),bN=aC.documentElement;bC.setAttribute("className","t");bC.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";bO=bC.getElementsByTagName("*");bL=bC.getElementsByTagName("a")[0];if(!bO||!bO.length||!bL){return{};}bM=aC.createElement("select");bE=bM.appendChild(aC.createElement("option"));bK=bC.getElementsByTagName("input")[0];bP={leadingWhitespace:(bC.firstChild.nodeType===3),tbody:!bC.getElementsByTagName("tbody").length,htmlSerialize:!!bC.getElementsByTagName("link").length,style:/top/.test(bL.getAttribute("style")),hrefNormalized:(bL.getAttribute("href")==="/a"),opacity:/^0.55/.test(bL.style.opacity),cssFloat:!!bL.style.cssFloat,checkOn:(bK.value==="on"),optSelected:bE.selected,getSetAttribute:bC.className!=="t",enctype:!!aC.createElement("form").enctype,html5Clone:aC.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,pixelMargin:true};b.boxModel=bP.boxModel=(aC.compatMode==="CSS1Compat");bK.checked=true;bP.noCloneChecked=bK.cloneNode(true).checked;bM.disabled=true;bP.optDisabled=!bE.disabled;try{delete bC.test;}catch(bI){bP.deleteExpando=false;}if(!bC.addEventListener&&bC.attachEvent&&bC.fireEvent){bC.attachEvent("onclick",function(){bP.noCloneEvent=false;});bC.cloneNode(true).fireEvent("onclick");}bK=aC.createElement("input");bK.value="t";bK.setAttribute("type","radio");bP.radioValue=bK.value==="t";bK.setAttribute("checked","checked");bK.setAttribute("name","t");bC.appendChild(bK);bJ=aC.createDocumentFragment();bJ.appendChild(bC.lastChild);bP.checkClone=bJ.cloneNode(true).cloneNode(true).lastChild.checked;bP.appendChecked=bK.checked;bJ.removeChild(bK);bJ.appendChild(bC);if(bC.attachEvent){for(bF in {submit:1,change:1,focusin:1}){bH="on"+bF;bD=(bH in bC);if(!bD){bC.setAttribute(bH,"return;");bD=(typeof bC[bH]==="function");}bP[bF+"Bubbles"]=bD;}}bJ.removeChild(bC);bJ=bM=bE=bC=bK=null;b(function(){var bT,b2,b3,b1,bV,bW,bY,bS,bR,bX,bU,e,b0,bZ=aC.getElementsByTagName("body")[0];if(!bZ){return;}bS=1;b0="padding:0;margin:0;border:";bU="position:absolute;top:0;left:0;width:1px;height:1px;";e=b0+"0;visibility:hidden;";bR="style='"+bU+b0+"5px solid #000;";bX="<div "+bR+"display:block;'><div style='"+b0+"0;display:block;overflow:hidden;'></div></div>"+"<table "+bR+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>";bT=aC.createElement("div");bT.style.cssText=e+"width:0;height:0;position:static;top:0;margin-top:"+bS+"px";bZ.insertBefore(bT,bZ.firstChild);bC=aC.createElement("div");bT.appendChild(bC);bC.innerHTML="<table><tr><td style='"+b0+"0;display:none'></td><td>t</td></tr></table>";bG=bC.getElementsByTagName("td");bD=(bG[0].offsetHeight===0);bG[0].style.display="";bG[1].style.display="none";bP.reliableHiddenOffsets=bD&&(bG[0].offsetHeight===0);if(bk.getComputedStyle){bC.innerHTML="";bY=aC.createElement("div");bY.style.width="0";bY.style.marginRight="0";bC.style.width="2px";bC.appendChild(bY);bP.reliableMarginRight=(parseInt((bk.getComputedStyle(bY,null)||{marginRight:0}).marginRight,10)||0)===0;}if(typeof bC.style.zoom!=="undefined"){bC.innerHTML="";bC.style.width=bC.style.padding="1px";bC.style.border=0;bC.style.overflow="hidden";bC.style.display="inline";bC.style.zoom=1;bP.inlineBlockNeedsLayout=(bC.offsetWidth===3);bC.style.display="block";bC.style.overflow="visible";bC.innerHTML="<div style='width:5px;'></div>";bP.shrinkWrapBlocks=(bC.offsetWidth!==3);}bC.style.cssText=bU+e;bC.innerHTML=bX;b2=bC.firstChild;b3=b2.firstChild;bV=b2.nextSibling.firstChild.firstChild;bW={doesNotAddBorder:(b3.offsetTop!==5),doesAddBorderForTableAndCells:(bV.offsetTop===5)};b3.style.position="fixed";b3.style.top="20px";bW.fixedPosition=(b3.offsetTop===20||b3.offsetTop===15);b3.style.position=b3.style.top="";b2.style.overflow="hidden";b2.style.position="relative";bW.subtractsBorderForOverflowNotVisible=(b3.offsetTop===-5);bW.doesNotIncludeMarginInBodyOffset=(bZ.offsetTop!==bS);if(bk.getComputedStyle){bC.style.marginTop="1%";bP.pixelMargin=(bk.getComputedStyle(bC,null)||{marginTop:0}).marginTop!=="1%";}if(typeof bT.style.zoom!=="undefined"){bT.style.zoom=1;}bZ.removeChild(bT);bY=bC=bT=null;b.extend(bP,bW);});return bP;})();var a0=/^(?:\{.*\}|\[.*\])$/,aH=/([A-Z])/g;b.extend({cache:{},uuid:0,expando:"jQuery"+(b.fn.jquery+Math.random()).replace(/\D/g,""),noData:{"embed":true,"object":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000","applet":true},hasData:function(e){e=e.nodeType?b.cache[e[b.expando]]:e[b.expando];return !!e&&!Z(e);},data:function(bE,bC,bG,bF){if(!b.acceptData(bE)){return;}var bN,bH,bK,bL=b.expando,bJ=typeof bC==="string",bM=bE.nodeType,e=bM?b.cache:bE,bD=bM?bE[bL]:bE[bL]&&bL,bI=bC==="events";if((!bD||!e[bD]||(!bI&&!bF&&!e[bD].data))&&bJ&&bG===S){return;}if(!bD){if(bM){bE[bL]=bD=++b.uuid;}else{bD=bL;}}if(!e[bD]){e[bD]={};if(!bM){e[bD].toJSON=b.noop;}}if(typeof bC==="object"||typeof bC==="function"){if(bF){e[bD]=b.extend(e[bD],bC);}else{e[bD].data=b.extend(e[bD].data,bC);}}bN=bH=e[bD];if(!bF){if(!bH.data){bH.data={};}bH=bH.data;}if(bG!==S){bH[b.camelCase(bC)]=bG;}if(bI&&!bH[bC]){return bN.events;}if(bJ){bK=bH[bC];if(bK==null){bK=bH[b.camelCase(bC)];}}else{bK=bH;}return bK;},removeData:function(bE,bC,bF){if(!b.acceptData(bE)){return;}var bI,bH,bG,bJ=b.expando,bK=bE.nodeType,e=bK?b.cache:bE,bD=bK?bE[bJ]:bJ;if(!e[bD]){return;}if(bC){bI=bF?e[bD]:e[bD].data;if(bI){if(!b.isArray(bC)){if(bC in bI){bC=[bC];}else{bC=b.camelCase(bC);if(bC in bI){bC=[bC];}else{bC=bC.split(" ");}}}for(bH=0,bG=bC.length;bH<bG;bH++){delete bI[bC[bH]];}if(!(bF?Z:b.isEmptyObject)(bI)){return;}}}if(!bF){delete e[bD].data;if(!Z(e[bD])){return;}}if(b.support.deleteExpando||!e.setInterval){delete e[bD];}else{e[bD]=null;}if(bK){if(b.support.deleteExpando){delete bE[bJ];}else{if(bE.removeAttribute){bE.removeAttribute(bJ);}else{bE[bJ]=null;}}}},_data:function(bC,e,bD){return b.data(bC,e,bD,true);},acceptData:function(bC){if(bC.nodeName){var e=b.noData[bC.nodeName.toLowerCase()];if(e){return !(e===true||bC.getAttribute("classid")!==e);}}return true;}});b.fn.extend({data:function(bK,bJ){var bF,bC,bI,e,bE,bD=this[0],bH=0,bG=null;if(bK===S){if(this.length){bG=b.data(bD);if(bD.nodeType===1&&!b._data(bD,"parsedAttrs")){bI=bD.attributes;for(bE=bI.length;bH<bE;bH++){e=bI[bH].name;if(e.indexOf("data-")===0){e=b.camelCase(e.substring(5));bd(bD,e,bG[e]);}}b._data(bD,"parsedAttrs",true);}}return bG;}if(typeof bK==="object"){return this.each(function(){b.data(this,bK);});}bF=bK.split(".",2);bF[1]=bF[1]?"."+bF[1]:"";bC=bF[1]+"!";return b.access(this,function(bL){if(bL===S){bG=this.triggerHandler("getData"+bC,[bF[0]]);if(bG===S&&bD){bG=b.data(bD,bK);bG=bd(bD,bK,bG);}return bG===S&&bF[1]?this.data(bF[0]):bG;}bF[1]=bL;this.each(function(){var bM=b(this);bM.triggerHandler("setData"+bC,bF);b.data(this,bK,bL);bM.triggerHandler("changeData"+bC,bF);});},null,bJ,arguments.length>1,null,false);},removeData:function(e){return this.each(function(){b.removeData(this,e);});}});function bd(bE,bD,bF){if(bF===S&&bE.nodeType===1){var bC="data-"+bD.replace(aH,"-$1").toLowerCase();bF=bE.getAttribute(bC);if(typeof bF==="string"){try{bF=bF==="true"?true:bF==="false"?false:bF==="null"?null:b.isNumeric(bF)?+bF:a0.test(bF)?b.parseJSON(bF):bF;}catch(bG){}b.data(bE,bD,bF);}else{bF=S;}}return bF;}function Z(bC){for(var e in bC){if(e==="data"&&b.isEmptyObject(bC[e])){continue;}if(e!=="toJSON"){return false;}}return true;}function bq(bF,bE,bH){var bD=bE+"defer",bC=bE+"queue",e=bE+"mark",bG=b._data(bF,bD);if(bG&&(bH==="queue"||!b._data(bF,bC))&&(bH==="mark"||!b._data(bF,e))){setTimeout(function(){if(!b._data(bF,bC)&&!b._data(bF,e)){b.removeData(bF,bD,true);bG.fire();}},0);}}b.extend({_mark:function(bC,e){if(bC){e=(e||"fx")+"mark";b._data(bC,e,(b._data(bC,e)||0)+1);}},_unmark:function(bF,bE,bC){if(bF!==true){bC=bE;bE=bF;bF=false;}if(bE){bC=bC||"fx";var e=bC+"mark",bD=bF?0:((b._data(bE,e)||1)-1);if(bD){b._data(bE,e,bD);}else{b.removeData(bE,e,true);bq(bE,bC,"mark");}}},queue:function(bC,e,bE){var bD;if(bC){e=(e||"fx")+"queue";bD=b._data(bC,e);if(bE){if(!bD||b.isArray(bE)){bD=b._data(bC,e,b.makeArray(bE));}else{bD.push(bE);}}return bD||[];}},dequeue:function(bF,bE){bE=bE||"fx";var bC=b.queue(bF,bE),bD=bC.shift(),e={};if(bD==="inprogress"){bD=bC.shift();}if(bD){if(bE==="fx"){bC.unshift("inprogress");}b._data(bF,bE+".run",e);bD.call(bF,function(){b.dequeue(bF,bE);},e);}if(!bC.length){b.removeData(bF,bE+"queue "+bE+".run",true);bq(bF,bE,"queue");}}});b.fn.extend({queue:function(e,bC){var bD=2;if(typeof e!=="string"){bC=e;e="fx";bD--;}if(arguments.length<bD){return b.queue(this[0],e);}return bC===S?this:this.each(function(){var bE=b.queue(this,e,bC);if(e==="fx"&&bE[0]!=="inprogress"){b.dequeue(this,e);}});},dequeue:function(e){return this.each(function(){b.dequeue(this,e);});},delay:function(bC,e){bC=b.fx?b.fx.speeds[bC]||bC:bC;e=e||"fx";return this.queue(e,function(bE,bD){var bF=setTimeout(bE,bC);bD.stop=function(){clearTimeout(bF);};});},clearQueue:function(e){return this.queue(e||"fx",[]);},promise:function(bK,bD){if(typeof bK!=="string"){bD=bK;bK=S;}bK=bK||"fx";var e=b.Deferred(),bC=this,bF=bC.length,bI=1,bG=bK+"defer",bH=bK+"queue",bJ=bK+"mark",bE;function bL(){if(!(--bI)){e.resolveWith(bC,[bC]);}}while(bF--){if((bE=b.data(bC[bF],bG,S,true)||(b.data(bC[bF],bH,S,true)||b.data(bC[bF],bJ,S,true))&&b.data(bC[bF],bG,b.Callbacks("once memory"),true))){bI++;bE.add(bL);}}bL();return e.promise(bD);}});var aX=/[\n\t\r]/g,an=/\s+/,a2=/\r/g,m=/^(?:button|input)$/i,J=/^(?:button|input|object|select|textarea)$/i,s=/^a(?:rea)?$/i,aw=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,L=b.support.getSetAttribute,bm,a6,aN;b.fn.extend({attr:function(e,bC){return b.access(this,b.attr,e,bC,arguments.length>1);},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e);});},prop:function(e,bC){return b.access(this,b.prop,e,bC,arguments.length>1);},removeProp:function(e){e=b.propFix[e]||e;return this.each(function(){try{this[e]=S;delete this[e];}catch(bC){}});},addClass:function(bF){var bH,bD,bC,bE,bG,bI,e;if(b.isFunction(bF)){return this.each(function(bJ){b(this).addClass(bF.call(this,bJ,this.className));});}if(bF&&typeof bF==="string"){bH=bF.split(an);for(bD=0,bC=this.length;bD<bC;bD++){bE=this[bD];if(bE.nodeType===1){if(!bE.className&&bH.length===1){bE.className=bF;}else{bG=" "+bE.className+" ";for(bI=0,e=bH.length;bI<e;bI++){if(!~bG.indexOf(" "+bH[bI]+" ")){bG+=bH[bI]+" ";}}bE.className=b.trim(bG);}}}}return this;},removeClass:function(bG){var bH,bD,bC,bF,bE,bI,e;if(b.isFunction(bG)){return this.each(function(bJ){b(this).removeClass(bG.call(this,bJ,this.className));});}if((bG&&typeof bG==="string")||bG===S){bH=(bG||"").split(an);for(bD=0,bC=this.length;bD<bC;bD++){bF=this[bD];if(bF.nodeType===1&&bF.className){if(bG){bE=(" "+bF.className+" ").replace(aX," ");for(bI=0,e=bH.length;bI<e;bI++){bE=bE.replace(" "+bH[bI]+" "," ");}bF.className=b.trim(bE);}else{bF.className="";}}}}return this;},toggleClass:function(bE,bC){var bD=typeof bE,e=typeof bC==="boolean";if(b.isFunction(bE)){return this.each(function(bF){b(this).toggleClass(bE.call(this,bF,this.className,bC),bC);});}return this.each(function(){if(bD==="string"){var bH,bG=0,bF=b(this),bI=bC,bJ=bE.split(an);while((bH=bJ[bG++])){bI=e?bI:!bF.hasClass(bH);bF[bI?"addClass":"removeClass"](bH);}}else{if(bD==="undefined"||bD==="boolean"){if(this.className){b._data(this,"__className__",this.className);}this.className=this.className||bE===false?"":b._data(this,"__className__")||"";}}});},hasClass:function(e){var bE=" "+e+" ",bD=0,bC=this.length;for(;bD<bC;bD++){if(this[bD].nodeType===1&&(" "+this[bD].className+" ").replace(aX," ").indexOf(bE)>-1){return true;}}return false;},val:function(bE){var e,bC,bF,bD=this[0];if(!arguments.length){if(bD){e=b.valHooks[bD.type]||b.valHooks[bD.nodeName.toLowerCase()];if(e&&"get" in e&&(bC=e.get(bD,"value"))!==S){return bC;}bC=bD.value;return typeof bC==="string"?bC.replace(a2,""):bC==null?"":bC;}return;}bF=b.isFunction(bE);return this.each(function(bH){var bG=b(this),bI;if(this.nodeType!==1){return;}if(bF){bI=bE.call(this,bH,bG.val());}else{bI=bE;}if(bI==null){bI="";}else{if(typeof bI==="number"){bI+="";}else{if(b.isArray(bI)){bI=b.map(bI,function(bJ){return bJ==null?"":bJ+"";});}}}e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,bI,"value")===S){this.value=bI;}});}});b.extend({valHooks:{option:{get:function(e){var bC=e.attributes.value;return !bC||bC.specified?e.value:e.text;}},select:{get:function(e){var bH,bC,bG,bE,bF=e.selectedIndex,bI=[],bJ=e.options,bD=e.type==="select-one";if(bF<0){return null;}bC=bD?bF:0;bG=bD?bF+1:bJ.length;for(;bC<bG;bC++){bE=bJ[bC];if(bE.selected&&(b.support.optDisabled?!bE.disabled:bE.getAttribute("disabled")===null)&&(!bE.parentNode.disabled||!b.nodeName(bE.parentNode,"optgroup"))){bH=b(bE).val();if(bD){return bH;}bI.push(bH);}}if(bD&&!bI.length&&bJ.length){return b(bJ[bF]).val();}return bI;},set:function(bC,bD){var e=b.makeArray(bD);b(bC).find("option").each(function(){this.selected=b.inArray(b(this).val(),e)>=0;});if(!e.length){bC.selectedIndex=-1;}return e;}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(bH,bE,bI,bG){var bD,e,bF,bC=bH.nodeType;if(!bH||bC===3||bC===8||bC===2){return;}if(bG&&bE in b.attrFn){return b(bH)[bE](bI);}if(typeof bH.getAttribute==="undefined"){return b.prop(bH,bE,bI);}bF=bC!==1||!b.isXMLDoc(bH);if(bF){bE=bE.toLowerCase();e=b.attrHooks[bE]||(aw.test(bE)?a6:bm);}if(bI!==S){if(bI===null){b.removeAttr(bH,bE);return;}else{if(e&&"set" in e&&bF&&(bD=e.set(bH,bI,bE))!==S){return bD;}else{bH.setAttribute(bE,""+bI);return bI;}}}else{if(e&&"get" in e&&bF&&(bD=e.get(bH,bE))!==null){return bD;}else{bD=bH.getAttribute(bE);return bD===null?S:bD;}}},removeAttr:function(bF,bH){var bG,bI,bD,e,bC,bE=0;if(bH&&bF.nodeType===1){bI=bH.toLowerCase().split(an);e=bI.length;for(;bE<e;bE++){bD=bI[bE];if(bD){bG=b.propFix[bD]||bD;bC=aw.test(bD);if(!bC){b.attr(bF,bD,"");}bF.removeAttribute(L?bD:bG);if(bC&&bG in bF){bF[bG]=false;}}}}},attrHooks:{type:{set:function(e,bC){if(m.test(e.nodeName)&&e.parentNode){b.error("type property can't be changed");}else{if(!b.support.radioValue&&bC==="radio"&&b.nodeName(e,"input")){var bD=e.value;e.setAttribute("type",bC);if(bD){e.value=bD;}return bC;}}}},value:{get:function(bC,e){if(bm&&b.nodeName(bC,"button")){return bm.get(bC,e);}return e in bC?bC.value:null;},set:function(bC,bD,e){if(bm&&b.nodeName(bC,"button")){return bm.set(bC,bD,e);}bC.value=bD;}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(bG,bE,bH){var bD,e,bF,bC=bG.nodeType;if(!bG||bC===3||bC===8||bC===2){return;}bF=bC!==1||!b.isXMLDoc(bG);if(bF){bE=b.propFix[bE]||bE;e=b.propHooks[bE];}if(bH!==S){if(e&&"set" in e&&(bD=e.set(bG,bH,bE))!==S){return bD;}else{return(bG[bE]=bH);}}else{if(e&&"get" in e&&(bD=e.get(bG,bE))!==null){return bD;}else{return bG[bE];}}},propHooks:{tabIndex:{get:function(bC){var e=bC.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):J.test(bC.nodeName)||s.test(bC.nodeName)&&bC.href?0:S;}}}});b.attrHooks.tabindex=b.propHooks.tabIndex;a6={get:function(bC,e){var bE,bD=b.prop(bC,e);return bD===true||typeof bD!=="boolean"&&(bE=bC.getAttributeNode(e))&&bE.nodeValue!==false?e.toLowerCase():S;},set:function(bC,bE,e){var bD;if(bE===false){b.removeAttr(bC,e);}else{bD=b.propFix[e]||e;if(bD in bC){bC[bD]=true;}bC.setAttribute(e,e.toLowerCase());}return e;}};if(!L){aN={name:true,id:true,coords:true};bm=b.valHooks.button={get:function(bD,bC){var e;e=bD.getAttributeNode(bC);return e&&(aN[bC]?e.nodeValue!=="":e.specified)?e.nodeValue:S;},set:function(bD,bE,bC){var e=bD.getAttributeNode(bC);if(!e){e=aC.createAttribute(bC);bD.setAttributeNode(e);}return(e.nodeValue=bE+"");}};b.attrHooks.tabindex.set=bm.set;b.each(["width","height"],function(bC,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{set:function(bD,bE){if(bE===""){bD.setAttribute(e,"auto");return bE;}}});});b.attrHooks.contenteditable={get:bm.get,set:function(bC,bD,e){if(bD===""){bD="false";}bm.set(bC,bD,e);}};}if(!b.support.hrefNormalized){b.each(["href","src","width","height"],function(bC,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{get:function(bE){var bD=bE.getAttribute(e,2);return bD===null?S:bD;}});});}if(!b.support.style){b.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||S;},set:function(e,bC){return(e.style.cssText=""+bC);}};}if(!b.support.optSelected){b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(bC){var e=bC.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex;}}return null;}});}if(!b.support.enctype){b.propFix.enctype="encoding";}if(!b.support.checkOn){b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value;}};});}b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,bC){if(b.isArray(bC)){return(e.checked=b.inArray(b(e).val(),bC)>=0);}}});});var bl=/^(?:textarea|input|select)$/i,u=/^([^\.]*)?(?:\.(.+))?$/,Q=/(?:^|\s)hover(\.\S+)?\b/,aW=/^key/,bn=/^(?:mouse|contextmenu)|click/,aa=/^(?:focusinfocus|focusoutblur)$/,ab=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,af=function(e){var bC=ab.exec(e);if(bC){bC[1]=(bC[1]||"").toLowerCase();bC[3]=bC[3]&&new RegExp("(?:^|\\s)"+bC[3]+"(?:\\s|$)");}return bC;},q=function(bD,e){var bC=bD.attributes||{};return((!e[1]||bD.nodeName.toLowerCase()===e[1])&&(!e[2]||(bC.id||{}).value===e[2])&&(!e[3]||e[3].test((bC["class"]||{}).value)));},bA=function(e){return b.event.special.hover?e:e.replace(Q,"mouseenter$1 mouseleave$1");};b.event={add:function(bE,bJ,bQ,bH,bF){var bK,bI,bR,bP,bO,bM,e,bN,bC,bG,bD,bL;if(bE.nodeType===3||bE.nodeType===8||!bJ||!bQ||!(bK=b._data(bE))){return;}if(bQ.handler){bC=bQ;bQ=bC.handler;bF=bC.selector;}if(!bQ.guid){bQ.guid=b.guid++;}bR=bK.events;if(!bR){bK.events=bR={};}bI=bK.handle;if(!bI){bK.handle=bI=function(bS){return typeof b!=="undefined"&&(!bS||b.event.triggered!==bS.type)?b.event.dispatch.apply(bI.elem,arguments):S;};bI.elem=bE;}bJ=b.trim(bA(bJ)).split(" ");for(bP=0;bP<bJ.length;bP++){bO=u.exec(bJ[bP])||[];bM=bO[1];e=(bO[2]||"").split(".").sort();bL=b.event.special[bM]||{};bM=(bF?bL.delegateType:bL.bindType)||bM;bL=b.event.special[bM]||{};bN=b.extend({type:bM,origType:bO[1],data:bH,handler:bQ,guid:bQ.guid,selector:bF,quick:bF&&af(bF),namespace:e.join(".")},bC);bD=bR[bM];if(!bD){bD=bR[bM]=[];bD.delegateCount=0;if(!bL.setup||bL.setup.call(bE,bH,e,bI)===false){if(bE.addEventListener){bE.addEventListener(bM,bI,false);}else{if(bE.attachEvent){bE.attachEvent("on"+bM,bI);}}}}if(bL.add){bL.add.call(bE,bN);if(!bN.handler.guid){bN.handler.guid=bQ.guid;}}if(bF){bD.splice(bD.delegateCount++,0,bN);}else{bD.push(bN);}b.event.global[bM]=true;}bE=null;},global:{},remove:function(bQ,bL,bC,bO,bI){var bP=b.hasData(bQ)&&b._data(bQ),bM,bE,bG,bS,bJ,bH,bN,bD,bF,bR,bK,e;if(!bP||!(bD=bP.events)){return;}bL=b.trim(bA(bL||"")).split(" ");for(bM=0;bM<bL.length;bM++){bE=u.exec(bL[bM])||[];bG=bS=bE[1];bJ=bE[2];if(!bG){for(bG in bD){b.event.remove(bQ,bG+bL[bM],bC,bO,true);}continue;}bF=b.event.special[bG]||{};bG=(bO?bF.delegateType:bF.bindType)||bG;bK=bD[bG]||[];bH=bK.length;bJ=bJ?new RegExp("(^|\\.)"+bJ.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(bN=0;bN<bK.length;bN++){e=bK[bN];if((bI||bS===e.origType)&&(!bC||bC.guid===e.guid)&&(!bJ||bJ.test(e.namespace))&&(!bO||bO===e.selector||bO==="**"&&e.selector)){bK.splice(bN--,1);if(e.selector){bK.delegateCount--;}if(bF.remove){bF.remove.call(bQ,e);}}}if(bK.length===0&&bH!==bK.length){if(!bF.teardown||bF.teardown.call(bQ,bJ)===false){b.removeEvent(bQ,bG,bP.handle);}delete bD[bG];}}if(b.isEmptyObject(bD)){bR=bP.handle;if(bR){bR.elem=null;}b.removeData(bQ,["events","handle"],true);}},customEvent:{"getData":true,"setData":true,"changeData":true},trigger:function(bC,bK,bH,bQ){if(bH&&(bH.nodeType===3||bH.nodeType===8)){return;}var bN=bC.type||bC,bE=[],e,bD,bJ,bO,bG,bF,bM,bL,bI,bP;if(aa.test(bN+b.event.triggered)){return;}if(bN.indexOf("!")>=0){bN=bN.slice(0,-1);bD=true;}if(bN.indexOf(".")>=0){bE=bN.split(".");bN=bE.shift();bE.sort();}if((!bH||b.event.customEvent[bN])&&!b.event.global[bN]){return;}bC=typeof bC==="object"?bC[b.expando]?bC:new b.Event(bN,bC):new b.Event(bN);bC.type=bN;bC.isTrigger=true;bC.exclusive=bD;bC.namespace=bE.join(".");bC.namespace_re=bC.namespace?new RegExp("(^|\\.)"+bE.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;bF=bN.indexOf(":")<0?"on"+bN:"";if(!bH){e=b.cache;for(bJ in e){if(e[bJ].events&&e[bJ].events[bN]){b.event.trigger(bC,bK,e[bJ].handle.elem,true);}}return;}bC.result=S;if(!bC.target){bC.target=bH;}bK=bK!=null?b.makeArray(bK):[];bK.unshift(bC);bM=b.event.special[bN]||{};if(bM.trigger&&bM.trigger.apply(bH,bK)===false){return;}bI=[[bH,bM.bindType||bN]];if(!bQ&&!bM.noBubble&&!b.isWindow(bH)){bP=bM.delegateType||bN;bO=aa.test(bP+bN)?bH:bH.parentNode;bG=null;for(;bO;bO=bO.parentNode){bI.push([bO,bP]);bG=bO;}if(bG&&bG===bH.ownerDocument){bI.push([bG.defaultView||bG.parentWindow||bk,bP]);}}for(bJ=0;bJ<bI.length&&!bC.isPropagationStopped();bJ++){bO=bI[bJ][0];bC.type=bI[bJ][1];bL=(b._data(bO,"events")||{})[bC.type]&&b._data(bO,"handle");if(bL){bL.apply(bO,bK);}bL=bF&&bO[bF];if(bL&&b.acceptData(bO)&&bL.apply(bO,bK)===false){bC.preventDefault();}}bC.type=bN;if(!bQ&&!bC.isDefaultPrevented()){if((!bM._default||bM._default.apply(bH.ownerDocument,bK)===false)&&!(bN==="click"&&b.nodeName(bH,"a"))&&b.acceptData(bH)){if(bF&&bH[bN]&&((bN!=="focus"&&bN!=="blur")||bC.target.offsetWidth!==0)&&!b.isWindow(bH)){bG=bH[bF];if(bG){bH[bF]=null;}b.event.triggered=bN;bH[bN]();b.event.triggered=S;if(bG){bH[bF]=bG;}}}}return bC.result;},dispatch:function(bO){bO=b.event.fix(bO||bk.event);var bK=((b._data(this,"events")||{})[bO.type]||[]),bJ=bK.delegateCount,bE=[].slice.call(arguments,0),bL=!bO.exclusive&&!bO.namespace,bG=b.event.special[bO.type]||{},bC=[],bQ,bN,bF,bH,bR,bP,bI,bD,e,bM,bS;bE[0]=bO;bO.delegateTarget=this;if(bG.preDispatch&&bG.preDispatch.call(this,bO)===false){return;}if(bJ&&!(bO.button&&bO.type==="click")){bH=b(this);bH.context=this.ownerDocument||this;for(bF=bO.target;bF!=this;bF=bF.parentNode||this){if(bF.disabled!==true){bP={};bD=[];bH[0]=bF;for(bQ=0;bQ<bJ;bQ++){e=bK[bQ];bM=e.selector;if(bP[bM]===S){bP[bM]=(e.quick?q(bF,e.quick):bH.is(bM));}if(bP[bM]){bD.push(e);}}if(bD.length){bC.push({elem:bF,matches:bD});}}}}if(bK.length>bJ){bC.push({elem:this,matches:bK.slice(bJ)});}for(bQ=0;bQ<bC.length&&!bO.isPropagationStopped();bQ++){bI=bC[bQ];bO.currentTarget=bI.elem;for(bN=0;bN<bI.matches.length&&!bO.isImmediatePropagationStopped();bN++){e=bI.matches[bN];if(bL||(!bO.namespace&&!e.namespace)||bO.namespace_re&&bO.namespace_re.test(e.namespace)){bO.data=e.data;bO.handleObj=e;bR=((b.event.special[e.origType]||{}).handle||e.handler).apply(bI.elem,bE);if(bR!==S){bO.result=bR;if(bR===false){bO.preventDefault();bO.stopPropagation();}}}}}if(bG.postDispatch){bG.postDispatch.call(this,bO);}return bO.result;},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(bC,e){if(bC.which==null){bC.which=e.charCode!=null?e.charCode:e.keyCode;}return bC;}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(bE,bD){var bF,bG,e,bC=bD.button,bH=bD.fromElement;if(bE.pageX==null&&bD.clientX!=null){bF=bE.target.ownerDocument||aC;bG=bF.documentElement;e=bF.body;bE.pageX=bD.clientX+(bG&&bG.scrollLeft||e&&e.scrollLeft||0)-(bG&&bG.clientLeft||e&&e.clientLeft||0);bE.pageY=bD.clientY+(bG&&bG.scrollTop||e&&e.scrollTop||0)-(bG&&bG.clientTop||e&&e.clientTop||0);}if(!bE.relatedTarget&&bH){bE.relatedTarget=bH===bE.target?bD.toElement:bH;}if(!bE.which&&bC!==S){bE.which=(bC&1?1:(bC&2?3:(bC&4?2:0)));}return bE;}},fix:function(bD){if(bD[b.expando]){return bD;}var bC,bG,e=bD,bE=b.event.fixHooks[bD.type]||{},bF=bE.props?this.props.concat(bE.props):this.props;bD=b.Event(e);for(bC=bF.length;bC;){bG=bF[--bC];bD[bG]=e[bG];}if(!bD.target){bD.target=e.srcElement||aC;}if(bD.target.nodeType===3){bD.target=bD.target.parentNode;}if(bD.metaKey===S){bD.metaKey=bD.ctrlKey;}return bE.filter?bE.filter(bD,e):bD;},special:{ready:{setup:b.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(bD,bC,e){if(b.isWindow(this)){this.onbeforeunload=e;}},teardown:function(bC,e){if(this.onbeforeunload===e){this.onbeforeunload=null;}}}},simulate:function(bD,bF,bE,bC){var bG=b.extend(new b.Event(),bE,{type:bD,isSimulated:true,originalEvent:{}});if(bC){b.event.trigger(bG,null,bF);}else{b.event.dispatch.call(bF,bG);}if(bG.isDefaultPrevented()){bE.preventDefault();}}};b.event.handle=b.event.dispatch;b.removeEvent=aC.removeEventListener?function(bC,e,bD){if(bC.removeEventListener){bC.removeEventListener(e,bD,false);}}:function(bC,e,bD){if(bC.detachEvent){bC.detachEvent("on"+e,bD);}};b.Event=function(bC,e){if(!(this instanceof b.Event)){return new b.Event(bC,e);}if(bC&&bC.type){this.originalEvent=bC;this.type=bC.type;this.isDefaultPrevented=(bC.defaultPrevented||bC.returnValue===false||bC.getPreventDefault&&bC.getPreventDefault())?p:bs;}else{this.type=bC;}if(e){b.extend(this,e);}this.timeStamp=bC&&bC.timeStamp||b.now();this[b.expando]=true;};function bs(){return false;}function p(){return true;}b.Event.prototype={preventDefault:function(){this.isDefaultPrevented=p;var bC=this.originalEvent;if(!bC){return;}if(bC.preventDefault){bC.preventDefault();}else{bC.returnValue=false;}},stopPropagation:function(){this.isPropagationStopped=p;var bC=this.originalEvent;if(!bC){return;}if(bC.stopPropagation){bC.stopPropagation();}bC.cancelBubble=true;},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=p;this.stopPropagation();},isDefaultPrevented:bs,isPropagationStopped:bs,isImmediatePropagationStopped:bs};b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(bC,e){b.event.special[bC]={delegateType:e,bindType:e,handle:function(bG){var bI=this,bH=bG.relatedTarget,bF=bG.handleObj,bD=bF.selector,bE;if(!bH||(bH!==bI&&!b.contains(bI,bH))){bG.type=bF.origType;bE=bF.handler.apply(this,arguments);bG.type=e;}return bE;}};});if(!b.support.submitBubbles){b.event.special.submit={setup:function(){if(b.nodeName(this,"form")){return false;}b.event.add(this,"click._submit keypress._submit",function(bE){var bD=bE.target,bC=b.nodeName(bD,"input")||b.nodeName(bD,"button")?bD.form:S;if(bC&&!bC._submit_attached){b.event.add(bC,"submit._submit",function(e){e._submit_bubble=true;});bC._submit_attached=true;}});},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){b.event.simulate("submit",this.parentNode,e,true);}}},teardown:function(){if(b.nodeName(this,"form")){return false;}b.event.remove(this,"._submit");}};}if(!b.support.changeBubbles){b.event.special.change={setup:function(){if(bl.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){b.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true;}});b.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false;b.event.simulate("change",this,e,true);}});}return false;}b.event.add(this,"beforeactivate._change",function(bD){var bC=bD.target;if(bl.test(bC.nodeName)&&!bC._change_attached){b.event.add(bC,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){b.event.simulate("change",this.parentNode,e,true);}});bC._change_attached=true;}});},handle:function(bC){var e=bC.target;if(this!==e||bC.isSimulated||bC.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return bC.handleObj.handler.apply(this,arguments);}},teardown:function(){b.event.remove(this,"._change");return bl.test(this.nodeName);}};}if(!b.support.focusinBubbles){b.each({focus:"focusin",blur:"focusout"},function(bE,e){var bC=0,bD=function(bF){b.event.simulate(e,bF.target,b.event.fix(bF),true);};b.event.special[e]={setup:function(){if(bC++===0){aC.addEventListener(bE,bD,true);}},teardown:function(){if(--bC===0){aC.removeEventListener(bE,bD,true);}}};});}b.fn.extend({on:function(bD,e,bG,bF,bC){var bH,bE;if(typeof bD==="object"){if(typeof e!=="string"){bG=bG||e;e=S;}for(bE in bD){this.on(bE,e,bG,bD[bE],bC);}return this;}if(bG==null&&bF==null){bF=e;bG=e=S;}else{if(bF==null){if(typeof e==="string"){bF=bG;bG=S;}else{bF=bG;bG=e;e=S;}}}if(bF===false){bF=bs;}else{if(!bF){return this;}}if(bC===1){bH=bF;bF=function(bI){b().off(bI);return bH.apply(this,arguments);};bF.guid=bH.guid||(bH.guid=b.guid++);}return this.each(function(){b.event.add(this,bD,bF,bG,e);});},one:function(bC,e,bE,bD){return this.on(bC,e,bE,bD,1);},off:function(bD,e,bF){if(bD&&bD.preventDefault&&bD.handleObj){var bC=bD.handleObj;b(bD.delegateTarget).off(bC.namespace?bC.origType+"."+bC.namespace:bC.origType,bC.selector,bC.handler);return this;}if(typeof bD==="object"){for(var bE in bD){this.off(bE,e,bD[bE]);}return this;}if(e===false||typeof e==="function"){bF=e;e=S;}if(bF===false){bF=bs;}return this.each(function(){b.event.remove(this,bD,bF,e);});},bind:function(e,bD,bC){return this.on(e,null,bD,bC);},unbind:function(e,bC){return this.off(e,null,bC);},live:function(e,bD,bC){b(this.context).on(e,this.selector,bD,bC);return this;},die:function(e,bC){b(this.context).off(e,this.selector||"**",bC);return this;},delegate:function(e,bC,bE,bD){return this.on(bC,e,bE,bD);},undelegate:function(e,bC,bD){return arguments.length==1?this.off(e,"**"):this.off(bC,e,bD);},trigger:function(e,bC){return this.each(function(){b.event.trigger(e,bC,this);});},triggerHandler:function(e,bC){if(this[0]){return b.event.trigger(e,bC,this[0],true);}},toggle:function(bE){var bC=arguments,e=bE.guid||b.guid++,bD=0,bF=function(bG){var bH=(b._data(this,"lastToggle"+bE.guid)||0)%bD;b._data(this,"lastToggle"+bE.guid,bH+1);bG.preventDefault();return bC[bH].apply(this,arguments)||false;};bF.guid=e;while(bD<bC.length){bC[bD++].guid=e;}return this.click(bF);},hover:function(e,bC){return this.mouseenter(e).mouseleave(bC||e);}});b.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(bC,e){b.fn[e]=function(bE,bD){if(bD==null){bD=bE;bE=null;}return arguments.length>0?this.on(e,null,bE,bD):this.trigger(e);};if(b.attrFn){b.attrFn[e]=true;}if(aW.test(e)){b.event.fixHooks[e]=b.event.keyHooks;}if(bn.test(e)){b.event.fixHooks[e]=b.event.mouseHooks;}});
/*!
    * Sizzle CSS Selector Engine
    *  Copyright 2011, The Dojo Foundation
    *  Released under the MIT, BSD, and GPL Licenses.
    *  More information: http://sizzlejs.com/
    */
(function(){var bO=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,bJ="sizcache"+(Math.random()+"").replace(".",""),bP=0,bS=Object.prototype.toString,bI=false,bH=true,bR=/\\/g,bV=/\r\n/g,bX=/\W/;[0,0].sort(function(){bH=false;return 0;});var bF=function(b2,e,b5,b6){b5=b5||[];e=e||aC;var b8=e;if(e.nodeType!==1&&e.nodeType!==9){return[];}if(!b2||typeof b2!=="string"){return b5;}var bZ,ca,cd,bY,b9,cc,cb,b4,b1=true,b0=bF.isXML(e),b3=[],b7=b2;do{bO.exec("");bZ=bO.exec(b7);if(bZ){b7=bZ[3];b3.push(bZ[1]);if(bZ[2]){bY=bZ[3];break;}}}while(bZ);if(b3.length>1&&bK.exec(b2)){if(b3.length===2&&bL.relative[b3[0]]){ca=bT(b3[0]+b3[1],e,b6);}else{ca=bL.relative[b3[0]]?[e]:bF(b3.shift(),e);while(b3.length){b2=b3.shift();if(bL.relative[b2]){b2+=b3.shift();}ca=bT(b2,ca,b6);}}}else{if(!b6&&b3.length>1&&e.nodeType===9&&!b0&&bL.match.ID.test(b3[0])&&!bL.match.ID.test(b3[b3.length-1])){b9=bF.find(b3.shift(),e,b0);e=b9.expr?bF.filter(b9.expr,b9.set)[0]:b9.set[0];}if(e){b9=b6?{expr:b3.pop(),set:bM(b6)}:bF.find(b3.pop(),b3.length===1&&(b3[0]==="~"||b3[0]==="+")&&e.parentNode?e.parentNode:e,b0);ca=b9.expr?bF.filter(b9.expr,b9.set):b9.set;if(b3.length>0){cd=bM(ca);}else{b1=false;}while(b3.length){cc=b3.pop();cb=cc;if(!bL.relative[cc]){cc="";}else{cb=b3.pop();}if(cb==null){cb=e;}bL.relative[cc](cd,cb,b0);}}else{cd=b3=[];}}if(!cd){cd=ca;}if(!cd){bF.error(cc||b2);}if(bS.call(cd)==="[object Array]"){if(!b1){b5.push.apply(b5,cd);}else{if(e&&e.nodeType===1){for(b4=0;cd[b4]!=null;b4++){if(cd[b4]&&(cd[b4]===true||cd[b4].nodeType===1&&bF.contains(e,cd[b4]))){b5.push(ca[b4]);}}}else{for(b4=0;cd[b4]!=null;b4++){if(cd[b4]&&cd[b4].nodeType===1){b5.push(ca[b4]);}}}}}else{bM(cd,b5);}if(bY){bF(bY,b8,b5,b6);bF.uniqueSort(b5);}return b5;};bF.uniqueSort=function(bY){if(bQ){bI=bH;bY.sort(bQ);if(bI){for(var e=1;e<bY.length;e++){if(bY[e]===bY[e-1]){bY.splice(e--,1);}}}}return bY;};bF.matches=function(e,bY){return bF(e,null,null,bY);};bF.matchesSelector=function(e,bY){return bF(bY,null,null,[e]).length>0;};bF.find=function(b4,e,b5){var b3,bZ,b1,b0,b2,bY;if(!b4){return[];}for(bZ=0,b1=bL.order.length;bZ<b1;bZ++){b2=bL.order[bZ];if((b0=bL.leftMatch[b2].exec(b4))){bY=b0[1];b0.splice(1,1);if(bY.substr(bY.length-1)!=="\\"){b0[1]=(b0[1]||"").replace(bR,"");b3=bL.find[b2](b0,e,b5);if(b3!=null){b4=b4.replace(bL.match[b2],"");break;}}}}if(!b3){b3=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName("*"):[];}return{set:b3,expr:b4};};bF.filter=function(b8,b7,cb,b1){var b3,e,b6,cd,ca,bY,b0,b2,b9,bZ=b8,cc=[],b5=b7,b4=b7&&b7[0]&&bF.isXML(b7[0]);while(b8&&b7.length){for(b6 in bL.filter){if((b3=bL.leftMatch[b6].exec(b8))!=null&&b3[2]){bY=bL.filter[b6];b0=b3[1];e=false;b3.splice(1,1);if(b0.substr(b0.length-1)==="\\"){continue;}if(b5===cc){cc=[];}if(bL.preFilter[b6]){b3=bL.preFilter[b6](b3,b5,cb,cc,b1,b4);if(!b3){e=cd=true;}else{if(b3===true){continue;}}}if(b3){for(b2=0;(ca=b5[b2])!=null;b2++){if(ca){cd=bY(ca,b3,b2,b5);b9=b1^cd;if(cb&&cd!=null){if(b9){e=true;}else{b5[b2]=false;}}else{if(b9){cc.push(ca);e=true;}}}}}if(cd!==S){if(!cb){b5=cc;}b8=b8.replace(bL.match[b6],"");if(!e){return[];}break;}}}if(b8===bZ){if(e==null){bF.error(b8);}else{break;}}bZ=b8;}return b5;};bF.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e);};var bD=bF.getText=function(b1){var bZ,b0,e=b1.nodeType,bY="";if(e){if(e===1||e===9||e===11){if(typeof b1.textContent==="string"){return b1.textContent;}else{if(typeof b1.innerText==="string"){return b1.innerText.replace(bV,"");}else{for(b1=b1.firstChild;b1;b1=b1.nextSibling){bY+=bD(b1);}}}}else{if(e===3||e===4){return b1.nodeValue;}}}else{for(bZ=0;(b0=b1[bZ]);bZ++){if(b0.nodeType!==8){bY+=bD(b0);}}}return bY;};var bL=bF.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href");},type:function(e){return e.getAttribute("type");}},relative:{"+":function(b3,bY){var b0=typeof bY==="string",b2=b0&&!bX.test(bY),b4=b0&&!b2;if(b2){bY=bY.toLowerCase();}for(var bZ=0,e=b3.length,b1;bZ<e;bZ++){if((b1=b3[bZ])){while((b1=b1.previousSibling)&&b1.nodeType!==1){}b3[bZ]=b4||b1&&b1.nodeName.toLowerCase()===bY?b1||false:b1===bY;}}if(b4){bF.filter(bY,b3,true);}},">":function(b3,bY){var b2,b1=typeof bY==="string",bZ=0,e=b3.length;if(b1&&!bX.test(bY)){bY=bY.toLowerCase();for(;bZ<e;bZ++){b2=b3[bZ];if(b2){var b0=b2.parentNode;b3[bZ]=b0.nodeName.toLowerCase()===bY?b0:false;}}}else{for(;bZ<e;bZ++){b2=b3[bZ];if(b2){b3[bZ]=b1?b2.parentNode:b2.parentNode===bY;}}if(b1){bF.filter(bY,b3,true);}}},"":function(b0,bY,b2){var b1,bZ=bP++,e=bU;if(typeof bY==="string"&&!bX.test(bY)){bY=bY.toLowerCase();b1=bY;e=bC;}e("parentNode",bY,bZ,b0,b1,b2);},"~":function(b0,bY,b2){var b1,bZ=bP++,e=bU;if(typeof bY==="string"&&!bX.test(bY)){bY=bY.toLowerCase();b1=bY;e=bC;}e("previousSibling",bY,bZ,b0,b1,b2);}},find:{ID:function(bY,bZ,b0){if(typeof bZ.getElementById!=="undefined"&&!b0){var e=bZ.getElementById(bY[1]);return e&&e.parentNode?[e]:[];}},NAME:function(bZ,b2){if(typeof b2.getElementsByName!=="undefined"){var bY=[],b1=b2.getElementsByName(bZ[1]);for(var b0=0,e=b1.length;b0<e;b0++){if(b1[b0].getAttribute("name")===bZ[1]){bY.push(b1[b0]);}}return bY.length===0?null:bY;}},TAG:function(e,bY){if(typeof bY.getElementsByTagName!=="undefined"){return bY.getElementsByTagName(e[1]);}}},preFilter:{CLASS:function(b0,bY,bZ,e,b3,b4){b0=" "+b0[1].replace(bR,"")+" ";if(b4){return b0;}for(var b1=0,b2;(b2=bY[b1])!=null;b1++){if(b2){if(b3^(b2.className&&(" "+b2.className+" ").replace(/[\t\n\r]/g," ").indexOf(b0)>=0)){if(!bZ){e.push(b2);}}else{if(bZ){bY[b1]=false;}}}}return false;},ID:function(e){return e[1].replace(bR,"");},TAG:function(bY,e){return bY[1].replace(bR,"").toLowerCase();},CHILD:function(e){if(e[1]==="nth"){if(!e[2]){bF.error(e[0]);}e[2]=e[2].replace(/^\+|\s*/g,"");var bY=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(bY[1]+(bY[2]||1))-0;e[3]=bY[3]-0;}else{if(e[2]){bF.error(e[0]);}}e[0]=bP++;return e;},ATTR:function(b1,bY,bZ,e,b2,b3){var b0=b1[1]=b1[1].replace(bR,"");if(!b3&&bL.attrMap[b0]){b1[1]=bL.attrMap[b0];}b1[4]=(b1[4]||b1[5]||"").replace(bR,"");if(b1[2]==="~="){b1[4]=" "+b1[4]+" ";}return b1;},PSEUDO:function(b1,bY,bZ,e,b2){if(b1[1]==="not"){if((bO.exec(b1[3])||"").length>1||/^\w/.test(b1[3])){b1[3]=bF(b1[3],null,null,bY);}else{var b0=bF.filter(b1[3],bY,bZ,true^b2);if(!bZ){e.push.apply(e,b0);}return false;}}else{if(bL.match.POS.test(b1[0])||bL.match.CHILD.test(b1[0])){return true;}}return b1;},POS:function(e){e.unshift(true);return e;}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden";},disabled:function(e){return e.disabled===true;},checked:function(e){return e.checked===true;},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex;}return e.selected===true;},parent:function(e){return !!e.firstChild;},empty:function(e){return !e.firstChild;},has:function(bZ,bY,e){return !!bF(e[3],bZ).length;},header:function(e){return(/h\d/i).test(e.nodeName);},text:function(bZ){var e=bZ.getAttribute("type"),bY=bZ.type;return bZ.nodeName.toLowerCase()==="input"&&"text"===bY&&(e===bY||e===null);},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type;},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type;},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type;},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type;},submit:function(bY){var e=bY.nodeName.toLowerCase();return(e==="input"||e==="button")&&"submit"===bY.type;},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type;},reset:function(bY){var e=bY.nodeName.toLowerCase();return(e==="input"||e==="button")&&"reset"===bY.type;},button:function(bY){var e=bY.nodeName.toLowerCase();return e==="input"&&"button"===bY.type||e==="button";},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName);},focus:function(e){return e===e.ownerDocument.activeElement;}},setFilters:{first:function(bY,e){return e===0;},last:function(bZ,bY,e,b0){return bY===b0.length-1;},even:function(bY,e){return e%2===0;},odd:function(bY,e){return e%2===1;},lt:function(bZ,bY,e){return bY<e[3]-0;},gt:function(bZ,bY,e){return bY>e[3]-0;},nth:function(bZ,bY,e){return e[3]-0===bY;},eq:function(bZ,bY,e){return e[3]-0===bY;}},filter:{PSEUDO:function(bZ,b4,b3,b5){var e=b4[1],bY=bL.filters[e];if(bY){return bY(bZ,b3,b4,b5);}else{if(e==="contains"){return(bZ.textContent||bZ.innerText||bD([bZ])||"").indexOf(b4[3])>=0;}else{if(e==="not"){var b0=b4[3];for(var b2=0,b1=b0.length;b2<b1;b2++){if(b0[b2]===bZ){return false;}}return true;}else{bF.error(e);}}}},CHILD:function(bZ,b1){var b0,b7,b3,b6,e,b2,b5,b4=b1[1],bY=bZ;switch(b4){case"only":case"first":while((bY=bY.previousSibling)){if(bY.nodeType===1){return false;}}if(b4==="first"){return true;}bY=bZ;case"last":while((bY=bY.nextSibling)){if(bY.nodeType===1){return false;}}return true;case"nth":b0=b1[2];b7=b1[3];if(b0===1&&b7===0){return true;}b3=b1[0];b6=bZ.parentNode;if(b6&&(b6[bJ]!==b3||!bZ.nodeIndex)){b2=0;for(bY=b6.firstChild;bY;bY=bY.nextSibling){if(bY.nodeType===1){bY.nodeIndex=++b2;}}b6[bJ]=b3;}b5=bZ.nodeIndex-b7;if(b0===0){return b5===0;}else{return(b5%b0===0&&b5/b0>=0);}}},ID:function(bY,e){return bY.nodeType===1&&bY.getAttribute("id")===e;},TAG:function(bY,e){return(e==="*"&&bY.nodeType===1)||!!bY.nodeName&&bY.nodeName.toLowerCase()===e;},CLASS:function(bY,e){return(" "+(bY.className||bY.getAttribute("class"))+" ").indexOf(e)>-1;},ATTR:function(b2,b0){var bZ=b0[1],e=bF.attr?bF.attr(b2,bZ):bL.attrHandle[bZ]?bL.attrHandle[bZ](b2):b2[bZ]!=null?b2[bZ]:b2.getAttribute(bZ),b3=e+"",b1=b0[2],bY=b0[4];return e==null?b1==="!=":!b1&&bF.attr?e!=null:b1==="="?b3===bY:b1==="*="?b3.indexOf(bY)>=0:b1==="~="?(" "+b3+" ").indexOf(bY)>=0:!bY?b3&&e!==false:b1==="!="?b3!==bY:b1==="^="?b3.indexOf(bY)===0:b1==="$="?b3.substr(b3.length-bY.length)===bY:b1==="|="?b3===bY||b3.substr(0,bY.length+1)===bY+"-":false;},POS:function(b1,bY,bZ,b2){var e=bY[2],b0=bL.setFilters[e];if(b0){return b0(b1,bZ,bY,b2);}}}};var bK=bL.match.POS,bE=function(bY,e){return"\\"+(e-0+1);};for(var bG in bL.match){bL.match[bG]=new RegExp(bL.match[bG].source+(/(?![^\[]*\])(?![^\(]*\))/.source));bL.leftMatch[bG]=new RegExp(/(^(?:.|\r|\n)*?)/.source+bL.match[bG].source.replace(/\\(\d+)/g,bE));}bL.match.globalPOS=bK;var bM=function(bY,e){bY=Array.prototype.slice.call(bY,0);if(e){e.push.apply(e,bY);return e;}return bY;};try{Array.prototype.slice.call(aC.documentElement.childNodes,0)[0].nodeType;}catch(bW){bM=function(b1,b0){var bZ=0,bY=b0||[];if(bS.call(b1)==="[object Array]"){Array.prototype.push.apply(bY,b1);}else{if(typeof b1.length==="number"){for(var e=b1.length;bZ<e;bZ++){bY.push(b1[bZ]);}}else{for(;b1[bZ];bZ++){bY.push(b1[bZ]);}}}return bY;};}var bQ,bN;if(aC.documentElement.compareDocumentPosition){bQ=function(bY,e){if(bY===e){bI=true;return 0;}if(!bY.compareDocumentPosition||!e.compareDocumentPosition){return bY.compareDocumentPosition?-1:1;}return bY.compareDocumentPosition(e)&4?-1:1;};}else{bQ=function(b5,b4){if(b5===b4){bI=true;return 0;}else{if(b5.sourceIndex&&b4.sourceIndex){return b5.sourceIndex-b4.sourceIndex;}}var b2,bY,bZ=[],e=[],b1=b5.parentNode,b3=b4.parentNode,b6=b1;if(b1===b3){return bN(b5,b4);}else{if(!b1){return -1;}else{if(!b3){return 1;}}}while(b6){bZ.unshift(b6);b6=b6.parentNode;}b6=b3;while(b6){e.unshift(b6);b6=b6.parentNode;}b2=bZ.length;bY=e.length;for(var b0=0;b0<b2&&b0<bY;b0++){if(bZ[b0]!==e[b0]){return bN(bZ[b0],e[b0]);}}return b0===b2?bN(b5,e[b0],-1):bN(bZ[b0],b4,1);};bN=function(bY,e,bZ){if(bY===e){return bZ;}var b0=bY.nextSibling;while(b0){if(b0===e){return -1;}b0=b0.nextSibling;}return 1;};}(function(){var bY=aC.createElement("div"),bZ="script"+(new Date()).getTime(),e=aC.documentElement;bY.innerHTML="<a name='"+bZ+"'/>";e.insertBefore(bY,e.firstChild);if(aC.getElementById(bZ)){bL.find.ID=function(b1,b2,b3){if(typeof b2.getElementById!=="undefined"&&!b3){var b0=b2.getElementById(b1[1]);return b0?b0.id===b1[1]||typeof b0.getAttributeNode!=="undefined"&&b0.getAttributeNode("id").nodeValue===b1[1]?[b0]:S:[];}};bL.filter.ID=function(b2,b0){var b1=typeof b2.getAttributeNode!=="undefined"&&b2.getAttributeNode("id");return b2.nodeType===1&&b1&&b1.nodeValue===b0;};}e.removeChild(bY);e=bY=null;})();(function(){var e=aC.createElement("div");e.appendChild(aC.createComment(""));if(e.getElementsByTagName("*").length>0){bL.find.TAG=function(bY,b2){var b1=b2.getElementsByTagName(bY[1]);if(bY[1]==="*"){var b0=[];for(var bZ=0;b1[bZ];bZ++){if(b1[bZ].nodeType===1){b0.push(b1[bZ]);}}b1=b0;}return b1;};}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){bL.attrHandle.href=function(bY){return bY.getAttribute("href",2);};}e=null;})();if(aC.querySelectorAll){(function(){var e=bF,b0=aC.createElement("div"),bZ="__sizzle__";b0.innerHTML="<p class='TEST'></p>";if(b0.querySelectorAll&&b0.querySelectorAll(".TEST").length===0){return;}bF=function(cb,b2,b6,ca){b2=b2||aC;if(!ca&&!bF.isXML(b2)){var b9=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(cb);if(b9&&(b2.nodeType===1||b2.nodeType===9)){if(b9[1]){return bM(b2.getElementsByTagName(cb),b6);}else{if(b9[2]&&bL.find.CLASS&&b2.getElementsByClassName){return bM(b2.getElementsByClassName(b9[2]),b6);}}}if(b2.nodeType===9){if(cb==="body"&&b2.body){return bM([b2.body],b6);}else{if(b9&&b9[3]){var b5=b2.getElementById(b9[3]);if(b5&&b5.parentNode){if(b5.id===b9[3]){return bM([b5],b6);}}else{return bM([],b6);}}}try{return bM(b2.querySelectorAll(cb),b6);}catch(b7){}}else{if(b2.nodeType===1&&b2.nodeName.toLowerCase()!=="object"){var b3=b2,b4=b2.getAttribute("id"),b1=b4||bZ,cd=b2.parentNode,cc=/^\s*[+~]/.test(cb);if(!b4){b2.setAttribute("id",b1);}else{b1=b1.replace(/'/g,"\\$&");}if(cc&&cd){b2=b2.parentNode;}try{if(!cc||cd){return bM(b2.querySelectorAll("[id='"+b1+"'] "+cb),b6);}}catch(b8){}finally{if(!b4){b3.removeAttribute("id");}}}}}return e(cb,b2,b6,ca);};for(var bY in e){bF[bY]=e[bY];}b0=null;})();}(function(){var e=aC.documentElement,bZ=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(bZ){var b1=!bZ.call(aC.createElement("div"),"div"),bY=false;try{bZ.call(aC.documentElement,"[test!='']:sizzle");}catch(b0){bY=true;}bF.matchesSelector=function(b3,b5){b5=b5.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!bF.isXML(b3)){try{if(bY||!bL.match.PSEUDO.test(b5)&&!/!=/.test(b5)){var b2=bZ.call(b3,b5);if(b2||!b1||b3.document&&b3.document.nodeType!==11){return b2;}}}catch(b4){}}return bF(b5,null,null,[b3]).length>0;};}})();(function(){var e=aC.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return;}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return;}bL.order.splice(1,0,"CLASS");bL.find.CLASS=function(bY,bZ,b0){if(typeof bZ.getElementsByClassName!=="undefined"&&!b0){return bZ.getElementsByClassName(bY[1]);}};e=null;})();function bC(bY,b3,b2,b6,b4,b5){for(var b0=0,bZ=b6.length;b0<bZ;b0++){var e=b6[b0];if(e){var b1=false;e=e[bY];while(e){if(e[bJ]===b2){b1=b6[e.sizset];break;}if(e.nodeType===1&&!b5){e[bJ]=b2;e.sizset=b0;}if(e.nodeName.toLowerCase()===b3){b1=e;break;}e=e[bY];}b6[b0]=b1;}}}function bU(bY,b3,b2,b6,b4,b5){for(var b0=0,bZ=b6.length;b0<bZ;b0++){var e=b6[b0];if(e){var b1=false;e=e[bY];while(e){if(e[bJ]===b2){b1=b6[e.sizset];break;}if(e.nodeType===1){if(!b5){e[bJ]=b2;e.sizset=b0;}if(typeof b3!=="string"){if(e===b3){b1=true;break;}}else{if(bF.filter(b3,[e]).length>0){b1=e;break;}}}e=e[bY];}b6[b0]=b1;}}}if(aC.documentElement.contains){bF.contains=function(bY,e){return bY!==e&&(bY.contains?bY.contains(e):true);};}else{if(aC.documentElement.compareDocumentPosition){bF.contains=function(bY,e){return !!(bY.compareDocumentPosition(e)&16);};}else{bF.contains=function(){return false;};}}bF.isXML=function(e){var bY=(e?e.ownerDocument||e:0).documentElement;return bY?bY.nodeName!=="HTML":false;};var bT=function(bZ,e,b3){var b2,b4=[],b1="",b5=e.nodeType?[e]:e;while((b2=bL.match.PSEUDO.exec(bZ))){b1+=b2[0];bZ=bZ.replace(bL.match.PSEUDO,"");}bZ=bL.relative[bZ]?bZ+"*":bZ;for(var b0=0,bY=b5.length;b0<bY;b0++){bF(bZ,b5[b0],b4,b3);}return bF.filter(b1,b4);};bF.attr=b.attr;bF.selectors.attrMap={};b.find=bF;b.expr=bF.selectors;b.expr[":"]=b.expr.filters;b.unique=bF.uniqueSort;b.text=bF.getText;b.isXMLDoc=bF.isXML;b.contains=bF.contains;})();var ai=/Until$/,ay=/^(?:parents|prevUntil|prevAll)/,bi=/,/,bw=/^.[^:#\[\.,]*$/,W=Array.prototype.slice,O=b.expr.match.globalPOS,aF={children:true,contents:true,next:true,prev:true};b.fn.extend({find:function(e){var bD=this,bF,bC;if(typeof e!=="string"){return b(e).filter(function(){for(bF=0,bC=bD.length;bF<bC;bF++){if(b.contains(bD[bF],this)){return true;}}});}var bE=this.pushStack("","find",e),bH,bI,bG;for(bF=0,bC=this.length;bF<bC;bF++){bH=bE.length;b.find(e,this[bF],bE);if(bF>0){for(bI=bH;bI<bE.length;bI++){for(bG=0;bG<bH;bG++){if(bE[bG]===bE[bI]){bE.splice(bI--,1);break;}}}}}return bE;},has:function(bC){var e=b(bC);return this.filter(function(){for(var bE=0,bD=e.length;bE<bD;bE++){if(b.contains(this,e[bE])){return true;}}});},not:function(e){return this.pushStack(aO(this,e,false),"not",e);},filter:function(e){return this.pushStack(aO(this,e,true),"filter",e);},is:function(e){return !!e&&(typeof e==="string"?O.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0);},closest:function(bF,bE){var bC=[],bD,e,bG=this[0];if(b.isArray(bF)){var bI=1;while(bG&&bG.ownerDocument&&bG!==bE){for(bD=0;bD<bF.length;bD++){if(b(bG).is(bF[bD])){bC.push({selector:bF[bD],elem:bG,level:bI});}}bG=bG.parentNode;bI++;}return bC;}var bH=O.test(bF)||typeof bF!=="string"?b(bF,bE||this.context):0;for(bD=0,e=this.length;bD<e;bD++){bG=this[bD];while(bG){if(bH?bH.index(bG)>-1:b.find.matchesSelector(bG,bF)){bC.push(bG);break;}else{bG=bG.parentNode;if(!bG||!bG.ownerDocument||bG===bE||bG.nodeType===11){break;}}}}bC=bC.length>1?b.unique(bC):bC;return this.pushStack(bC,"closest",bF);},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1;}if(typeof e==="string"){return b.inArray(this[0],b(e));}return b.inArray(e.jquery?e[0]:e,this);},add:function(e,bC){var bE=typeof e==="string"?b(e,bC):b.makeArray(e&&e.nodeType?[e]:e),bD=b.merge(this.get(),bE);return this.pushStack(I(bE[0])||I(bD[0])?bD:b.unique(bD));},andSelf:function(){return this.add(this.prevObject);}});function I(e){return !e||!e.parentNode||e.parentNode.nodeType===11;}b.each({parent:function(bC){var e=bC.parentNode;return e&&e.nodeType!==11?e:null;},parents:function(e){return b.dir(e,"parentNode");},parentsUntil:function(bC,e,bD){return b.dir(bC,"parentNode",bD);},next:function(e){return b.nth(e,2,"nextSibling");},prev:function(e){return b.nth(e,2,"previousSibling");},nextAll:function(e){return b.dir(e,"nextSibling");},prevAll:function(e){return b.dir(e,"previousSibling");},nextUntil:function(bC,e,bD){return b.dir(bC,"nextSibling",bD);},prevUntil:function(bC,e,bD){return b.dir(bC,"previousSibling",bD);},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e);},children:function(e){return b.sibling(e.firstChild);},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.makeArray(e.childNodes);}},function(e,bC){b.fn[e]=function(bF,bD){var bE=b.map(this,bC,bF);if(!ai.test(e)){bD=bF;}if(bD&&typeof bD==="string"){bE=b.filter(bD,bE);}bE=this.length>1&&!aF[e]?b.unique(bE):bE;if((this.length>1||bi.test(bD))&&ay.test(e)){bE=bE.reverse();}return this.pushStack(bE,e,W.call(arguments).join(","));};});b.extend({filter:function(bD,e,bC){if(bC){bD=":not("+bD+")";}return e.length===1?b.find.matchesSelector(e[0],bD)?[e[0]]:[]:b.find.matches(bD,e);},dir:function(bD,bC,bF){var e=[],bE=bD[bC];while(bE&&bE.nodeType!==9&&(bF===S||bE.nodeType!==1||!b(bE).is(bF))){if(bE.nodeType===1){e.push(bE);}bE=bE[bC];}return e;},nth:function(bF,e,bD,bE){e=e||1;var bC=0;for(;bF;bF=bF[bD]){if(bF.nodeType===1&&++bC===e){break;}}return bF;},sibling:function(bD,bC){var e=[];for(;bD;bD=bD.nextSibling){if(bD.nodeType===1&&bD!==bC){e.push(bD);}}return e;}});function aO(bE,bD,e){bD=bD||0;if(b.isFunction(bD)){return b.grep(bE,function(bG,bF){var bH=!!bD.call(bG,bF,bG);return bH===e;});}else{if(bD.nodeType){return b.grep(bE,function(bG,bF){return(bG===bD)===e;});}else{if(typeof bD==="string"){var bC=b.grep(bE,function(bF){return bF.nodeType===1;});if(bw.test(bD)){return b.filter(bD,bC,!e);}else{bD=b.filter(bD,bC);}}}}return b.grep(bE,function(bG,bF){return(b.inArray(bG,bD)>=0)===e;});}function a(e){var bD=aZ.split("|"),bC=e.createDocumentFragment();if(bC.createElement){while(bD.length){bC.createElement(bD.pop());}}return bC;}var aZ="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ao=/ jQuery\d+="(?:\d+|null)"/g,az=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,f=/<([\w:]+)/,C=/<tbody/i,ad=/<|&#?\w+;/,al=/<(?:script|style)/i,V=/<(?:script|object|embed|option|style)/i,ap=new RegExp("<(?:"+aZ+")[\\s/>]","i"),v=/checked\s*(?:[^=]|=\s*.checked.)/i,bu=/\/(java|ecma)script/i,aV=/^\s*<!(?:\[CDATA\[|\-\-)/,aE={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},aj=a(aC);aE.optgroup=aE.option;aE.tbody=aE.tfoot=aE.colgroup=aE.caption=aE.thead;aE.th=aE.td;if(!b.support.htmlSerialize){aE._default=[1,"div<div>","</div>"];}b.fn.extend({text:function(e){return b.access(this,function(bC){return bC===S?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||aC).createTextNode(bC));},null,e,arguments.length);},wrapAll:function(e){if(b.isFunction(e)){return this.each(function(bD){b(this).wrapAll(e.call(this,bD));});}if(this[0]){var bC=b(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){bC.insertBefore(this[0]);}bC.map(function(){var bD=this;while(bD.firstChild&&bD.firstChild.nodeType===1){bD=bD.firstChild;}return bD;}).append(this);}return this;},wrapInner:function(e){if(b.isFunction(e)){return this.each(function(bC){b(this).wrapInner(e.call(this,bC));});}return this.each(function(){var bC=b(this),bD=bC.contents();if(bD.length){bD.wrapAll(e);}else{bC.append(e);}});},wrap:function(e){var bC=b.isFunction(e);return this.each(function(bD){b(this).wrapAll(bC?e.call(this,bD):e);});},unwrap:function(){return this.parent().each(function(){if(!b.nodeName(this,"body")){b(this).replaceWith(this.childNodes);}}).end();},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.appendChild(e);}});},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.insertBefore(e,this.firstChild);}});},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bC){this.parentNode.insertBefore(bC,this);});}else{if(arguments.length){var e=b.clean(arguments);e.push.apply(e,this.toArray());return this.pushStack(e,"before",arguments);}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bC){this.parentNode.insertBefore(bC,this.nextSibling);});}else{if(arguments.length){var e=this.pushStack(this,"after",arguments);e.push.apply(e,b.clean(arguments));return e;}}},remove:function(e,bE){for(var bC=0,bD;(bD=this[bC])!=null;bC++){if(!e||b.filter(e,[bD]).length){if(!bE&&bD.nodeType===1){b.cleanData(bD.getElementsByTagName("*"));b.cleanData([bD]);}if(bD.parentNode){bD.parentNode.removeChild(bD);}}}return this;},empty:function(){for(var e=0,bC;(bC=this[e])!=null;e++){if(bC.nodeType===1){b.cleanData(bC.getElementsByTagName("*"));}while(bC.firstChild){bC.removeChild(bC.firstChild);}}return this;},clone:function(bC,e){bC=bC==null?false:bC;e=e==null?bC:e;return this.map(function(){return b.clone(this,bC,e);});},html:function(e){return b.access(this,function(bF){var bE=this[0]||{},bD=0,bC=this.length;if(bF===S){return bE.nodeType===1?bE.innerHTML.replace(ao,""):null;}if(typeof bF==="string"&&!al.test(bF)&&(b.support.leadingWhitespace||!az.test(bF))&&!aE[(f.exec(bF)||["",""])[1].toLowerCase()]){bF=bF.replace(Y,"<$1></$2>");try{for(;bD<bC;bD++){bE=this[bD]||{};if(bE.nodeType===1){b.cleanData(bE.getElementsByTagName("*"));bE.innerHTML=bF;}}bE=0;}catch(bG){}}if(bE){this.empty().append(bF);}},null,e,arguments.length);},replaceWith:function(e){if(this[0]&&this[0].parentNode){if(b.isFunction(e)){return this.each(function(bE){var bD=b(this),bC=bD.html();bD.replaceWith(e.call(this,bE,bC));});}if(typeof e!=="string"){e=b(e).detach();}return this.each(function(){var bD=this.nextSibling,bC=this.parentNode;b(this).remove();if(bD){b(bD).before(e);}else{b(bC).append(e);}});}else{return this.length?this.pushStack(b(b.isFunction(e)?e():e),"replaceWith",e):this;}},detach:function(e){return this.remove(e,true);},domManip:function(bI,bM,bL){var bE,bF,bH,bK,bJ=bI[0],bC=[];if(!b.support.checkClone&&arguments.length===3&&typeof bJ==="string"&&v.test(bJ)){return this.each(function(){b(this).domManip(bI,bM,bL,true);});}if(b.isFunction(bJ)){return this.each(function(bO){var bN=b(this);bI[0]=bJ.call(this,bO,bM?bN.html():S);bN.domManip(bI,bM,bL);});}if(this[0]){bK=bJ&&bJ.parentNode;if(b.support.parentNode&&bK&&bK.nodeType===11&&bK.childNodes.length===this.length){bE={fragment:bK};}else{bE=b.buildFragment(bI,this,bC);}bH=bE.fragment;if(bH.childNodes.length===1){bF=bH=bH.firstChild;}else{bF=bH.firstChild;}if(bF){bM=bM&&b.nodeName(bF,"tr");for(var bD=0,e=this.length,bG=e-1;bD<e;bD++){bL.call(bM?bj(this[bD],bF):this[bD],bE.cacheable||(e>1&&bD<bG)?b.clone(bH,true,true):bH);}}if(bC.length){b.each(bC,function(bN,bO){if(bO.src){b.ajax({type:"GET",global:false,url:bO.src,async:false,dataType:"script"});}else{b.globalEval((bO.text||bO.textContent||bO.innerHTML||"").replace(aV,"/*$0*/"));}if(bO.parentNode){bO.parentNode.removeChild(bO);}});}}return this;}});function bj(e,bC){return b.nodeName(e,"table")?(e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody"))):e;}function z(bI,bC){if(bC.nodeType!==1||!b.hasData(bI)){return;}var bF,bE,e,bH=b._data(bI),bG=b._data(bC,bH),bD=bH.events;if(bD){delete bG.handle;bG.events={};for(bF in bD){for(bE=0,e=bD[bF].length;bE<e;bE++){b.event.add(bC,bF,bD[bF][bE]);}}}if(bG.data){bG.data=b.extend({},bG.data);}}function aq(bC,e){var bD;if(e.nodeType!==1){return;}if(e.clearAttributes){e.clearAttributes();}if(e.mergeAttributes){e.mergeAttributes(bC);}bD=e.nodeName.toLowerCase();if(bD==="object"){e.outerHTML=bC.outerHTML;}else{if(bD==="input"&&(bC.type==="checkbox"||bC.type==="radio")){if(bC.checked){e.defaultChecked=e.checked=bC.checked;}if(e.value!==bC.value){e.value=bC.value;}}else{if(bD==="option"){e.selected=bC.defaultSelected;}else{if(bD==="input"||bD==="textarea"){e.defaultValue=bC.defaultValue;}else{if(bD==="script"&&e.text!==bC.text){e.text=bC.text;}}}}}e.removeAttribute(b.expando);e.removeAttribute("_submit_attached");e.removeAttribute("_change_attached");}b.buildFragment=function(bG,bE,bC){var bF,e,bD,bH,bI=bG[0];if(bE&&bE[0]){bH=bE[0].ownerDocument||bE[0];}if(!bH.createDocumentFragment){bH=aC;}if(bG.length===1&&typeof bI==="string"&&bI.length<512&&bH===aC&&bI.charAt(0)==="<"&&!V.test(bI)&&(b.support.checkClone||!v.test(bI))&&(b.support.html5Clone||!ap.test(bI))){e=true;bD=b.fragments[bI];if(bD&&bD!==1){bF=bD;}}if(!bF){bF=bH.createDocumentFragment();b.clean(bG,bH,bF,bC);}if(e){b.fragments[bI]=bD?bF:1;}return{fragment:bF,cacheable:e};};b.fragments={};b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,bC){b.fn[e]=function(bD){var bG=[],bJ=b(bD),bI=this.length===1&&this[0].parentNode;if(bI&&bI.nodeType===11&&bI.childNodes.length===1&&bJ.length===1){bJ[bC](this[0]);return this;}else{for(var bH=0,bE=bJ.length;bH<bE;bH++){var bF=(bH>0?this.clone(true):this).get();b(bJ[bH])[bC](bF);bG=bG.concat(bF);}return this.pushStack(bG,e,bJ.selector);}};});function bo(e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName("*");}else{if(typeof e.querySelectorAll!=="undefined"){return e.querySelectorAll("*");}else{return[];}}}function aG(e){if(e.type==="checkbox"||e.type==="radio"){e.defaultChecked=e.checked;}}function K(e){var bC=(e.nodeName||"").toLowerCase();if(bC==="input"){aG(e);}else{if(bC!=="script"&&typeof e.getElementsByTagName!=="undefined"){b.grep(e.getElementsByTagName("input"),aG);}}}function au(e){var bC=aC.createElement("div");aj.appendChild(bC);bC.innerHTML=e.outerHTML;return bC.firstChild;}b.extend({clone:function(bF,bH,bD){var e,bC,bE,bG=b.support.html5Clone||b.isXMLDoc(bF)||!ap.test("<"+bF.nodeName+">")?bF.cloneNode(true):au(bF);if((!b.support.noCloneEvent||!b.support.noCloneChecked)&&(bF.nodeType===1||bF.nodeType===11)&&!b.isXMLDoc(bF)){aq(bF,bG);e=bo(bF);bC=bo(bG);for(bE=0;e[bE];++bE){if(bC[bE]){aq(e[bE],bC[bE]);}}}if(bH){z(bF,bG);if(bD){e=bo(bF);bC=bo(bG);for(bE=0;e[bE];++bE){z(e[bE],bC[bE]);}}}e=bC=null;return bG;},clean:function(bP,bD,bC,bE){var bH,bO,bK,bQ=[];bD=bD||aC;if(typeof bD.createElement==="undefined"){bD=bD.ownerDocument||bD[0]&&bD[0].ownerDocument||aC;}for(var bL=0,bN;(bN=bP[bL])!=null;bL++){if(typeof bN==="number"){bN+="";}if(!bN){continue;}if(typeof bN==="string"){if(!ad.test(bN)){bN=bD.createTextNode(bN);}else{bN=bN.replace(Y,"<$1></$2>");var bU=(f.exec(bN)||["",""])[1].toLowerCase(),bG=aE[bU]||aE._default,bR=bG[0],bI=bD.createElement("div"),bS=aj.childNodes,bT;if(bD===aC){aj.appendChild(bI);}else{a(bD).appendChild(bI);}bI.innerHTML=bG[1]+bN+bG[2];while(bR--){bI=bI.lastChild;}if(!b.support.tbody){var bF=C.test(bN),e=bU==="table"&&!bF?bI.firstChild&&bI.firstChild.childNodes:bG[1]==="<table>"&&!bF?bI.childNodes:[];for(bK=e.length-1;bK>=0;--bK){if(b.nodeName(e[bK],"tbody")&&!e[bK].childNodes.length){e[bK].parentNode.removeChild(e[bK]);}}}if(!b.support.leadingWhitespace&&az.test(bN)){bI.insertBefore(bD.createTextNode(az.exec(bN)[0]),bI.firstChild);}bN=bI.childNodes;if(bI){bI.parentNode.removeChild(bI);if(bS.length>0){bT=bS[bS.length-1];if(bT&&bT.parentNode){bT.parentNode.removeChild(bT);}}}}}var bM;if(!b.support.appendChecked){if(bN[0]&&typeof(bM=bN.length)==="number"){for(bK=0;bK<bM;bK++){K(bN[bK]);}}else{K(bN);}}if(bN.nodeType){bQ.push(bN);}else{bQ=b.merge(bQ,bN);}}if(bC){bH=function(bV){return !bV.type||bu.test(bV.type);};for(bL=0;bQ[bL];bL++){bO=bQ[bL];if(bE&&b.nodeName(bO,"script")&&(!bO.type||bu.test(bO.type))){bE.push(bO.parentNode?bO.parentNode.removeChild(bO):bO);}else{if(bO.nodeType===1){var bJ=b.grep(bO.getElementsByTagName("script"),bH);bQ.splice.apply(bQ,[bL+1,0].concat(bJ));}bC.appendChild(bO);}}}return bQ;},cleanData:function(bC){var bF,bD,e=b.cache,bI=b.event.special,bH=b.support.deleteExpando;for(var bG=0,bE;(bE=bC[bG])!=null;bG++){if(bE.nodeName&&b.noData[bE.nodeName.toLowerCase()]){continue;}bD=bE[b.expando];if(bD){bF=e[bD];if(bF&&bF.events){for(var bJ in bF.events){if(bI[bJ]){b.event.remove(bE,bJ);}else{b.removeEvent(bE,bJ,bF.handle);}}if(bF.handle){bF.handle.elem=null;}}if(bH){delete bE[b.expando];}else{if(bE.removeAttribute){bE.removeAttribute(b.expando);}}delete e[bD];}}}});var at=/alpha\([^)]*\)/i,aB=/opacity=([^)]*)/,F=/([A-Z]|^ms)/g,bv=/^[\-+]?(?:\d*\.)?\d+$/i,a8=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,P=/^([\-+])=([\-+.\de]+)/,aL=/^margin/,bg={position:"absolute",visibility:"hidden",display:"block"},N=["Top","Right","Bottom","Left"],ag,aQ,a5;b.fn.css=function(e,bC){return b.access(this,function(bE,bD,bF){return bF!==S?b.style(bE,bD,bF):b.css(bE,bD);},e,bC,arguments.length>1);};b.extend({cssHooks:{opacity:{get:function(bD,bC){if(bC){var e=ag(bD,"opacity");return e===""?"1":e;}else{return bD.style.opacity;}}}},cssNumber:{"fillOpacity":true,"fontWeight":true,"lineHeight":true,"opacity":true,"orphans":true,"widows":true,"zIndex":true,"zoom":true},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(bE,bD,bK,bF){if(!bE||bE.nodeType===3||bE.nodeType===8||!bE.style){return;}var bI,bJ,bG=b.camelCase(bD),bC=bE.style,bL=b.cssHooks[bG];bD=b.cssProps[bG]||bG;if(bK!==S){bJ=typeof bK;if(bJ==="string"&&(bI=P.exec(bK))){bK=(+(bI[1]+1)*+bI[2])+parseFloat(b.css(bE,bD));bJ="number";}if(bK==null||bJ==="number"&&isNaN(bK)){return;}if(bJ==="number"&&!b.cssNumber[bG]){bK+="px";}if(!bL||!("set" in bL)||(bK=bL.set(bE,bK))!==S){try{bC[bD]=bK;}catch(bH){}}}else{if(bL&&"get" in bL&&(bI=bL.get(bE,false,bF))!==S){return bI;}return bC[bD];}},css:function(bF,bE,bC){var bD,e;bE=b.camelCase(bE);e=b.cssHooks[bE];bE=b.cssProps[bE]||bE;if(bE==="cssFloat"){bE="float";}if(e&&"get" in e&&(bD=e.get(bF,true,bC))!==S){return bD;}else{if(ag){return ag(bF,bE);}}},swap:function(bF,bE,bG){var e={},bD,bC;for(bC in bE){e[bC]=bF.style[bC];bF.style[bC]=bE[bC];}bD=bG.call(bF);for(bC in bE){bF.style[bC]=e[bC];}return bD;}});b.curCSS=b.css;if(aC.defaultView&&aC.defaultView.getComputedStyle){aQ=function(bH,bD){var bC,bG,e,bF,bE=bH.style;bD=bD.replace(F,"-$1").toLowerCase();if((bG=bH.ownerDocument.defaultView)&&(e=bG.getComputedStyle(bH,null))){bC=e.getPropertyValue(bD);if(bC===""&&!b.contains(bH.ownerDocument.documentElement,bH)){bC=b.style(bH,bD);}}if(!b.support.pixelMargin&&e&&aL.test(bD)&&a8.test(bC)){bF=bE.width;bE.width=bC;bC=e.width;bE.width=bF;}return bC;};}if(aC.documentElement.currentStyle){a5=function(bG,bD){var bH,e,bF,bC=bG.currentStyle&&bG.currentStyle[bD],bE=bG.style;if(bC==null&&bE&&(bF=bE[bD])){bC=bF;}if(a8.test(bC)){bH=bE.left;e=bG.runtimeStyle&&bG.runtimeStyle.left;if(e){bG.runtimeStyle.left=bG.currentStyle.left;}bE.left=bD==="fontSize"?"1em":bC;bC=bE.pixelLeft+"px";bE.left=bH;if(e){bG.runtimeStyle.left=e;}}return bC===""?"auto":bC;};}ag=aQ||a5;function am(bF,bD,bC){var bG=bD==="width"?bF.offsetWidth:bF.offsetHeight,bE=bD==="width"?1:0,e=4;if(bG>0){if(bC!=="border"){for(;bE<e;bE+=2){if(!bC){bG-=parseFloat(b.css(bF,"padding"+N[bE]))||0;}if(bC==="margin"){bG+=parseFloat(b.css(bF,bC+N[bE]))||0;}else{bG-=parseFloat(b.css(bF,"border"+N[bE]+"Width"))||0;}}}return bG+"px";}bG=ag(bF,bD);if(bG<0||bG==null){bG=bF.style[bD];}if(a8.test(bG)){return bG;}bG=parseFloat(bG)||0;if(bC){for(;bE<e;bE+=2){bG+=parseFloat(b.css(bF,"padding"+N[bE]))||0;if(bC!=="padding"){bG+=parseFloat(b.css(bF,"border"+N[bE]+"Width"))||0;}if(bC==="margin"){bG+=parseFloat(b.css(bF,bC+N[bE]))||0;}}}return bG+"px";}b.each(["height","width"],function(bC,e){b.cssHooks[e]={get:function(bF,bE,bD){if(bE){if(bF.offsetWidth!==0){return am(bF,e,bD);}else{return b.swap(bF,bg,function(){return am(bF,e,bD);});}}},set:function(bD,bE){return bv.test(bE)?bE+"px":bE;}};});if(!b.support.opacity){b.cssHooks.opacity={get:function(bC,e){return aB.test((e&&bC.currentStyle?bC.currentStyle.filter:bC.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":e?"1":"";},set:function(bF,bG){var bE=bF.style,bC=bF.currentStyle,e=b.isNumeric(bG)?"alpha(opacity="+bG*100+")":"",bD=bC&&bC.filter||bE.filter||"";bE.zoom=1;if(bG>=1&&b.trim(bD.replace(at,""))===""){bE.removeAttribute("filter");if(bC&&!bC.filter){return;}}bE.filter=at.test(bD)?bD.replace(at,e):bD+" "+e;}};}b(function(){if(!b.support.reliableMarginRight){b.cssHooks.marginRight={get:function(bC,e){return b.swap(bC,{"display":"inline-block"},function(){if(e){return ag(bC,"margin-right");}else{return bC.style.marginRight;}});}};}});if(b.expr&&b.expr.filters){b.expr.filters.hidden=function(bD){var bC=bD.offsetWidth,e=bD.offsetHeight;return(bC===0&&e===0)||(!b.support.reliableHiddenOffsets&&((bD.style&&bD.style.display)||b.css(bD,"display"))==="none");};b.expr.filters.visible=function(e){return !b.expr.filters.hidden(e);};}b.each({margin:"",padding:"",border:"Width"},function(e,bC){b.cssHooks[e+bC]={expand:function(bF){var bE,bG=typeof bF==="string"?bF.split(" "):[bF],bD={};for(bE=0;bE<4;bE++){bD[e+N[bE]+bC]=bG[bE]||bG[bE-2]||bG[0];}return bD;}};});var r=/%20/g,ax=/\[\]$/,bz=/\r?\n/g,bx=/#.*$/,aK=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,a7=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aU=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,aY=/^(?:GET|HEAD)$/,c=/^\/\//,T=/\?/,be=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:select|textarea)/i,n=/\s+/,by=/([?&])_=[^&]*/,R=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,G=b.fn.load,ah={},x={},aM,y,a3=["*/"]+["*"];try{aM=bt.href;}catch(aD){aM=aC.createElement("a");aM.href="";aM=aM.href;}y=R.exec(aM.toLowerCase())||[];function l(e){return function(bF,bH){if(typeof bF!=="string"){bH=bF;bF="*";}if(b.isFunction(bH)){var bE=bF.toLowerCase().split(n),bD=0,bG=bE.length,bC,bI,bJ;for(;bD<bG;bD++){bC=bE[bD];bJ=/^\+/.test(bC);if(bJ){bC=bC.substr(1)||"*";}bI=e[bC]=e[bC]||[];bI[bJ?"unshift":"push"](bH);}}};}function a4(bC,bL,bG,bK,bI,bE){bI=bI||bL.dataTypes[0];bE=bE||{};bE[bI]=true;var bH=bC[bI],bD=0,e=bH?bH.length:0,bF=(bC===ah),bJ;for(;bD<e&&(bF||!bJ);bD++){bJ=bH[bD](bL,bG,bK);if(typeof bJ==="string"){if(!bF||bE[bJ]){bJ=S;}else{bL.dataTypes.unshift(bJ);bJ=a4(bC,bL,bG,bK,bJ,bE);}}}if((bF||!bJ)&&!bE["*"]){bJ=a4(bC,bL,bG,bK,"*",bE);}return bJ;}function av(bD,bE){var bC,e,bF=b.ajaxSettings.flatOptions||{};for(bC in bE){if(bE[bC]!==S){(bF[bC]?bD:(e||(e={})))[bC]=bE[bC];}}if(e){b.extend(true,bD,e);}}b.fn.extend({load:function(bD,bG,bH){if(typeof bD!=="string"&&G){return G.apply(this,arguments);}else{if(!this.length){return this;}}var bF=bD.indexOf(" ");if(bF>=0){var e=bD.slice(bF,bD.length);bD=bD.slice(0,bF);}var bE="GET";if(bG){if(b.isFunction(bG)){bH=bG;bG=S;}else{if(typeof bG==="object"){bG=b.param(bG,b.ajaxSettings.traditional);bE="POST";}}}var bC=this;b.ajax({url:bD,type:bE,dataType:"html",data:bG,complete:function(bJ,bI,bK){bK=bJ.responseText;if(bJ.isResolved()){bJ.done(function(bL){bK=bL;});bC.html(e?b("<div>").append(bK.replace(be,"")).find(e):bK);}if(bH){bC.each(bH,[bK,bI,bJ]);}}});return this;},serialize:function(){return b.param(this.serializeArray());},serializeArray:function(){return this.map(function(){return this.elements?b.makeArray(this.elements):this;}).filter(function(){return this.name&&!this.disabled&&(this.checked||w.test(this.nodeName)||a7.test(this.type));}).map(function(e,bC){var bD=b(this).val();return bD==null?null:b.isArray(bD)?b.map(bD,function(bF,bE){return{name:bC.name,value:bF.replace(bz,"\r\n")};}):{name:bC.name,value:bD.replace(bz,"\r\n")};}).get();}});b.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,bC){b.fn[bC]=function(bD){return this.on(bC,bD);};});b.each(["get","post"],function(e,bC){b[bC]=function(bD,bF,bG,bE){if(b.isFunction(bF)){bE=bE||bG;bG=bF;bF=S;}return b.ajax({type:bC,url:bD,data:bF,success:bG,dataType:bE});};});b.extend({getScript:function(e,bC){return b.get(e,S,bC,"script");},getJSON:function(e,bC,bD){return b.get(e,bC,bD,"json");},ajaxSetup:function(bC,e){if(e){av(bC,b.ajaxSettings);}else{e=bC;bC=b.ajaxSettings;}av(bC,e);return bC;},ajaxSettings:{url:aM,isLocal:aU.test(y[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":a3},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":bk.String,"text html":true,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:l(ah),ajaxTransport:l(x),ajax:function(bG,bE){if(typeof bG==="object"){bE=bG;bG=S;}bE=bE||{};var bK=b.ajaxSetup({},bE),bZ=bK.context||bK,bN=bZ!==bK&&(bZ.nodeType||bZ instanceof b)?b(bZ):b.event,bY=b.Deferred(),bU=b.Callbacks("once memory"),bI=bK.statusCode||{},bJ,bO={},bV={},bX,bF,bS,bL,bP,bH=0,bD,bR,bQ={readyState:0,setRequestHeader:function(b0,b1){if(!bH){var e=b0.toLowerCase();b0=bV[e]=bV[e]||b0;bO[b0]=b1;}return this;},getAllResponseHeaders:function(){return bH===2?bX:null;},getResponseHeader:function(b0){var e;if(bH===2){if(!bF){bF={};while((e=aK.exec(bX))){bF[e[1].toLowerCase()]=e[2];}}e=bF[b0.toLowerCase()];}return e===S?null:e;},overrideMimeType:function(e){if(!bH){bK.mimeType=e;}return this;},abort:function(e){e=e||"abort";if(bS){bS.abort(e);}bM(0,e);return this;}};function bM(b6,b1,b7,b3){if(bH===2){return;}bH=2;if(bL){clearTimeout(bL);}bS=S;bX=b3||"";bQ.readyState=b6>0?4:0;var b0,cb,ca,b4=b1,b5=b7?br(bK,bQ,b7):S,b2,b9;if(b6>=200&&b6<300||b6===304){if(bK.ifModified){if((b2=bQ.getResponseHeader("Last-Modified"))){b.lastModified[bJ]=b2;}if((b9=bQ.getResponseHeader("Etag"))){b.etag[bJ]=b9;}}if(b6===304){b4="notmodified";b0=true;}else{try{cb=M(bK,b5);b4="success";b0=true;}catch(b8){b4="parsererror";ca=b8;}}}else{ca=b4;if(!b4||b6){b4="error";if(b6<0){b6=0;}}}bQ.status=b6;bQ.statusText=""+(b1||b4);if(b0){bY.resolveWith(bZ,[cb,b4,bQ]);}else{bY.rejectWith(bZ,[bQ,b4,ca]);}bQ.statusCode(bI);bI=S;if(bD){bN.trigger("ajax"+(b0?"Success":"Error"),[bQ,bK,b0?cb:ca]);}bU.fireWith(bZ,[bQ,b4]);if(bD){bN.trigger("ajaxComplete",[bQ,bK]);if(!(--b.active)){b.event.trigger("ajaxStop");}}}bY.promise(bQ);bQ.success=bQ.done;bQ.error=bQ.fail;bQ.complete=bU.add;bQ.statusCode=function(b0){if(b0){var e;if(bH<2){for(e in b0){bI[e]=[bI[e],b0[e]];}}else{e=b0[bQ.status];bQ.then(e,e);}}return this;};bK.url=((bG||bK.url)+"").replace(bx,"").replace(c,y[1]+"//");bK.dataTypes=b.trim(bK.dataType||"*").toLowerCase().split(n);if(bK.crossDomain==null){bP=R.exec(bK.url.toLowerCase());bK.crossDomain=!!(bP&&(bP[1]!=y[1]||bP[2]!=y[2]||(bP[3]||(bP[1]==="http:"?80:443))!=(y[3]||(y[1]==="http:"?80:443))));}if(bK.data&&bK.processData&&typeof bK.data!=="string"){bK.data=b.param(bK.data,bK.traditional);}a4(ah,bK,bE,bQ);if(bH===2){return false;}bD=bK.global;bK.type=bK.type.toUpperCase();bK.hasContent=!aY.test(bK.type);if(bD&&b.active++===0){b.event.trigger("ajaxStart");}if(!bK.hasContent){if(bK.data){bK.url+=(T.test(bK.url)?"&":"?")+bK.data;delete bK.data;}bJ=bK.url;if(bK.cache===false){var bC=b.now(),bW=bK.url.replace(by,"$1_="+bC);bK.url=bW+((bW===bK.url)?(T.test(bK.url)?"&":"?")+"_="+bC:"");}}if(bK.data&&bK.hasContent&&bK.contentType!==false||bE.contentType){bQ.setRequestHeader("Content-Type",bK.contentType);}if(bK.ifModified){bJ=bJ||bK.url;if(b.lastModified[bJ]){bQ.setRequestHeader("If-Modified-Since",b.lastModified[bJ]);}if(b.etag[bJ]){bQ.setRequestHeader("If-None-Match",b.etag[bJ]);}}bQ.setRequestHeader("Accept",bK.dataTypes[0]&&bK.accepts[bK.dataTypes[0]]?bK.accepts[bK.dataTypes[0]]+(bK.dataTypes[0]!=="*"?", "+a3+"; q=0.01":""):bK.accepts["*"]);for(bR in bK.headers){bQ.setRequestHeader(bR,bK.headers[bR]);}if(bK.beforeSend&&(bK.beforeSend.call(bZ,bQ,bK)===false||bH===2)){bQ.abort();return false;}for(bR in {success:1,error:1,complete:1}){bQ[bR](bK[bR]);}bS=a4(x,bK,bE,bQ);if(!bS){bM(-1,"No Transport");}else{bQ.readyState=1;if(bD){bN.trigger("ajaxSend",[bQ,bK]);}if(bK.async&&bK.timeout>0){bL=setTimeout(function(){bQ.abort("timeout");},bK.timeout);}try{bH=1;bS.send(bO,bM);}catch(bT){if(bH<2){bM(-1,bT);}else{throw bT;}}}return bQ;},param:function(e,bD){var bC=[],bF=function(bG,bH){bH=b.isFunction(bH)?bH():bH;bC[bC.length]=encodeURIComponent(bG)+"="+encodeURIComponent(bH);};if(bD===S){bD=b.ajaxSettings.traditional;}if(b.isArray(e)||(e.jquery&&!b.isPlainObject(e))){b.each(e,function(){bF(this.name,this.value);});}else{for(var bE in e){B(bE,e[bE],bD,bF);}}return bC.join("&").replace(r,"+");}});function B(bD,bF,bC,bE){if(b.isArray(bF)){b.each(bF,function(bH,bG){if(bC||ax.test(bD)){bE(bD,bG);}else{B(bD+"["+(typeof bG==="object"?bH:"")+"]",bG,bC,bE);}});}else{if(!bC&&b.type(bF)==="object"){for(var e in bF){B(bD+"["+e+"]",bF[e],bC,bE);}}else{bE(bD,bF);}}}b.extend({active:0,lastModified:{},etag:{}});function br(bK,bJ,bG){var bC=bK.contents,bI=bK.dataTypes,bD=bK.responseFields,bF,bH,bE,e;for(bH in bD){if(bH in bG){bJ[bD[bH]]=bG[bH];}}while(bI[0]==="*"){bI.shift();if(bF===S){bF=bK.mimeType||bJ.getResponseHeader("content-type");}}if(bF){for(bH in bC){if(bC[bH]&&bC[bH].test(bF)){bI.unshift(bH);break;}}}if(bI[0] in bG){bE=bI[0];}else{for(bH in bG){if(!bI[0]||bK.converters[bH+" "+bI[0]]){bE=bH;break;}if(!e){e=bH;}}bE=bE||e;}if(bE){if(bE!==bI[0]){bI.unshift(bE);}return bG[bE];}}function M(bO,bG){if(bO.dataFilter){bG=bO.dataFilter(bG,bO.dataType);}var bK=bO.dataTypes,bN={},bH,bL,bD=bK.length,bI,bJ=bK[0],bE,bF,bM,bC,e;for(bH=1;bH<bD;bH++){if(bH===1){for(bL in bO.converters){if(typeof bL==="string"){bN[bL.toLowerCase()]=bO.converters[bL];}}}bE=bJ;bJ=bK[bH];if(bJ==="*"){bJ=bE;}else{if(bE!=="*"&&bE!==bJ){bF=bE+" "+bJ;bM=bN[bF]||bN["* "+bJ];if(!bM){e=S;for(bC in bN){bI=bC.split(" ");if(bI[0]===bE||bI[0]==="*"){e=bN[bI[1]+" "+bJ];if(e){bC=bN[bC];if(bC===true){bM=e;}else{if(e===true){bM=bC;}}break;}}}}if(!(bM||e)){b.error("No conversion from "+bF.replace(" "," to "));}if(bM!==true){bG=bM?bM(bG):e(bC(bG));}}}}return bG;}var aJ=b.now(),A=/(\=)\?(&|$)|\?\?/i;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return b.expando+"_"+(aJ++);}});b.ajaxPrefilter("json jsonp",function(bK,bH,bJ){var bE=(typeof bK.data==="string")&&/^application\/x\-www\-form\-urlencoded/.test(bK.contentType);if(bK.dataTypes[0]==="jsonp"||bK.jsonp!==false&&(A.test(bK.url)||bE&&A.test(bK.data))){var bI,bD=bK.jsonpCallback=b.isFunction(bK.jsonpCallback)?bK.jsonpCallback():bK.jsonpCallback,bG=bk[bD],e=bK.url,bF=bK.data,bC="$1"+bD+"$2";if(bK.jsonp!==false){e=e.replace(A,bC);if(bK.url===e){if(bE){bF=bF.replace(A,bC);}if(bK.data===bF){e+=(/\?/.test(e)?"&":"?")+bK.jsonp+"="+bD;}}}bK.url=e;bK.data=bF;bk[bD]=function(bL){bI=[bL];};bJ.always(function(){bk[bD]=bG;if(bI&&b.isFunction(bG)){bk[bD](bI[0]);}});bK.converters["script json"]=function(){if(!bI){b.error(bD+" was not called");}return bI[0];};bK.dataTypes[0]="json";return"script";}});b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){b.globalEval(e);return e;}}});b.ajaxPrefilter("script",function(e){if(e.cache===S){e.cache=false;}if(e.crossDomain){e.type="GET";e.global=false;}});b.ajaxTransport("script",function(bD){if(bD.crossDomain){var e,bC=aC.head||aC.getElementsByTagName("head")[0]||aC.documentElement;return{send:function(bE,bF){e=aC.createElement("script");e.async="async";if(bD.scriptCharset){e.charset=bD.scriptCharset;}e.src=bD.url;e.onload=e.onreadystatechange=function(bH,bG){if(bG||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(bC&&e.parentNode){bC.removeChild(e);}e=S;if(!bG){bF(200,"success");}}};bC.insertBefore(e,bC.firstChild);},abort:function(){if(e){e.onload(0,1);}}};}});var H=bk.ActiveXObject?function(){for(var e in U){U[e](0,1);}}:false,E=0,U;function aT(){try{return new bk.XMLHttpRequest();}catch(bC){}}function ar(){try{return new bk.ActiveXObject("Microsoft.XMLHTTP");}catch(bC){}}b.ajaxSettings.xhr=bk.ActiveXObject?function(){return !this.isLocal&&aT()||ar();}:aT;(function(e){b.extend(b.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)});})(b.ajaxSettings.xhr());if(b.support.ajax){b.ajaxTransport(function(e){if(!e.crossDomain||b.support.cors){var bC;return{send:function(bI,bD){var bH=e.xhr(),bG,bF;if(e.username){bH.open(e.type,e.url,e.async,e.username,e.password);}else{bH.open(e.type,e.url,e.async);}if(e.xhrFields){for(bF in e.xhrFields){bH[bF]=e.xhrFields[bF];}}if(e.mimeType&&bH.overrideMimeType){bH.overrideMimeType(e.mimeType);}if(!e.crossDomain&&!bI["X-Requested-With"]){bI["X-Requested-With"]="XMLHttpRequest";}try{for(bF in bI){bH.setRequestHeader(bF,bI[bF]);}}catch(bE){}bH.send((e.hasContent&&e.data)||null);bC=function(bR,bL){var bM,bK,bJ,bP,bO;try{if(bC&&(bL||bH.readyState===4)){bC=S;if(bG){bH.onreadystatechange=b.noop;if(H){delete U[bG];}}if(bL){if(bH.readyState!==4){bH.abort();}}else{bM=bH.status;bJ=bH.getAllResponseHeaders();bP={};bO=bH.responseXML;if(bO&&bO.documentElement){bP.xml=bO;}try{bP.text=bH.responseText;}catch(bR){}try{bK=bH.statusText;}catch(bQ){bK="";}if(!bM&&e.isLocal&&!e.crossDomain){bM=bP.text?200:404;}else{if(bM===1223){bM=204;}}}}}catch(bN){if(!bL){bD(-1,bN);}}if(bP){bD(bM,bK,bP,bJ);}};if(!e.async||bH.readyState===4){bC();}else{bG=++E;if(H){if(!U){U={};b(bk).unload(H);}U[bG]=bC;}bH.onreadystatechange=bC;}},abort:function(){if(bC){bC(0,1);}}};}});}var X={},bh,t,aI=/^(?:toggle|show|hide)$/,a1=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,bb,aP=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],bc;b.fn.extend({show:function(bE,bH,bG){var bD,bF;if(bE||bE===0){return this.animate(a9("show",3),bE,bH,bG);}else{for(var bC=0,e=this.length;bC<e;bC++){bD=this[bC];if(bD.style){bF=bD.style.display;if(!b._data(bD,"olddisplay")&&bF==="none"){bF=bD.style.display="";}if((bF===""&&b.css(bD,"display")==="none")||!b.contains(bD.ownerDocument.documentElement,bD)){b._data(bD,"olddisplay",D(bD.nodeName));}}}for(bC=0;bC<e;bC++){bD=this[bC];if(bD.style){bF=bD.style.display;if(bF===""||bF==="none"){bD.style.display=b._data(bD,"olddisplay")||"";}}}return this;}},hide:function(bE,bH,bG){if(bE||bE===0){return this.animate(a9("hide",3),bE,bH,bG);}else{var bD,bF,bC=0,e=this.length;for(;bC<e;bC++){bD=this[bC];if(bD.style){bF=b.css(bD,"display");if(bF!=="none"&&!b._data(bD,"olddisplay")){b._data(bD,"olddisplay",bF);}}}for(bC=0;bC<e;bC++){if(this[bC].style){this[bC].style.display="none";}}return this;}},_toggle:b.fn.toggle,toggle:function(bD,bC,bE){var e=typeof bD==="boolean";if(b.isFunction(bD)&&b.isFunction(bC)){this._toggle.apply(this,arguments);}else{if(bD==null||e){this.each(function(){var bF=e?bD:b(this).is(":hidden");b(this)[bF?"show":"hide"]();});}else{this.animate(a9("toggle",3),bD,bC,bE);}}return this;},fadeTo:function(e,bE,bD,bC){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:bE},e,bD,bC);},animate:function(bG,bD,bF,bE){var e=b.speed(bD,bF,bE);if(b.isEmptyObject(bG)){return this.each(e.complete,[false]);}bG=b.extend({},bG);function bC(){if(e.queue===false){b._mark(this);}var bL=b.extend({},e),bS=this.nodeType===1,bQ=bS&&b(this).is(":hidden"),bI,bN,bK,bR,bU,bM,bP,bJ,bO,bT,bH;bL.animatedProperties={};for(bK in bG){bI=b.camelCase(bK);if(bK!==bI){bG[bI]=bG[bK];delete bG[bK];}if((bU=b.cssHooks[bI])&&"expand" in bU){bM=bU.expand(bG[bI]);delete bG[bI];for(bK in bM){if(!(bK in bG)){bG[bK]=bM[bK];}}}}for(bI in bG){bN=bG[bI];if(b.isArray(bN)){bL.animatedProperties[bI]=bN[1];bN=bG[bI]=bN[0];}else{bL.animatedProperties[bI]=bL.specialEasing&&bL.specialEasing[bI]||bL.easing||"swing";}if(bN==="hide"&&bQ||bN==="show"&&!bQ){return bL.complete.call(this);}if(bS&&(bI==="height"||bI==="width")){bL.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(b.css(this,"display")==="inline"&&b.css(this,"float")==="none"){if(!b.support.inlineBlockNeedsLayout||D(this.nodeName)==="inline"){this.style.display="inline-block";}else{this.style.zoom=1;}}}}if(bL.overflow!=null){this.style.overflow="hidden";}for(bK in bG){bR=new b.fx(this,bL,bK);bN=bG[bK];if(aI.test(bN)){bH=b._data(this,"toggle"+bK)||(bN==="toggle"?bQ?"show":"hide":0);if(bH){b._data(this,"toggle"+bK,bH==="show"?"hide":"show");bR[bH]();}else{bR[bN]();}}else{bP=a1.exec(bN);bJ=bR.cur();if(bP){bO=parseFloat(bP[2]);bT=bP[3]||(b.cssNumber[bK]?"":"px");if(bT!=="px"){b.style(this,bK,(bO||1)+bT);bJ=((bO||1)/bR.cur())*bJ;b.style(this,bK,bJ+bT);}if(bP[1]){bO=((bP[1]==="-="?-1:1)*bO)+bJ;}bR.custom(bJ,bO,bT);}else{bR.custom(bJ,bN,"");}}}return true;}return e.queue===false?this.each(bC):this.queue(e.queue,bC);},stop:function(bD,bC,e){if(typeof bD!=="string"){e=bC;bC=bD;bD=S;}if(bC&&bD!==false){this.queue(bD||"fx",[]);}return this.each(function(){var bE,bF=false,bH=b.timers,bG=b._data(this);if(!e){b._unmark(true,this);}function bI(bL,bM,bK){var bJ=bM[bK];b.removeData(bL,bK,true);bJ.stop(e);}if(bD==null){for(bE in bG){if(bG[bE]&&bG[bE].stop&&bE.indexOf(".run")===bE.length-4){bI(this,bG,bE);}}}else{if(bG[bE=bD+".run"]&&bG[bE].stop){bI(this,bG,bE);}}for(bE=bH.length;bE--;){if(bH[bE].elem===this&&(bD==null||bH[bE].queue===bD)){if(e){bH[bE](true);}else{bH[bE].saveState();}bF=true;bH.splice(bE,1);}}if(!(e&&bF)){b.dequeue(this,bD);}});}});function bp(){setTimeout(aA,0);return(bc=b.now());}function aA(){bc=S;}function a9(bC,e){var bD={};b.each(aP.concat.apply([],aP.slice(0,e)),function(){bD[this]=bC;});return bD;}b.each({slideDown:a9("show",1),slideUp:a9("hide",1),slideToggle:a9("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,bC){b.fn[e]=function(bD,bF,bE){return this.animate(bC,bD,bF,bE);};});b.extend({speed:function(bD,bE,bC){var e=bD&&typeof bD==="object"?b.extend({},bD):{complete:bC||!bC&&bE||b.isFunction(bD)&&bD,duration:bD,easing:bC&&bE||bE&&!b.isFunction(bE)&&bE};e.duration=b.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in b.fx.speeds?b.fx.speeds[e.duration]:b.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx";}e.old=e.complete;e.complete=function(bF){if(b.isFunction(e.old)){e.old.call(this);}if(e.queue){b.dequeue(this,e.queue);}else{if(bF!==false){b._unmark(this);}}};return e;},easing:{linear:function(e){return e;},swing:function(e){return(-Math.cos(e*Math.PI)/2)+0.5;}},timers:[],fx:function(bC,e,bD){this.options=e;this.elem=bC;this.prop=bD;e.orig=e.orig||{};}});b.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this);}(b.fx.step[this.prop]||b.fx.step._default)(this);},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop];}var e,bC=b.css(this.elem,this.prop);return isNaN(e=parseFloat(bC))?!bC||bC==="auto"?0:bC:e;},custom:function(bG,bF,bE){var e=this,bD=b.fx;this.startTime=bc||bp();this.end=bF;this.now=this.start=bG;this.pos=this.state=0;this.unit=bE||this.unit||(b.cssNumber[this.prop]?"":"px");function bC(bH){return e.step(bH);}bC.queue=this.options.queue;bC.elem=this.elem;bC.saveState=function(){if(b._data(e.elem,"fxshow"+e.prop)===S){if(e.options.hide){b._data(e.elem,"fxshow"+e.prop,e.start);}else{if(e.options.show){b._data(e.elem,"fxshow"+e.prop,e.end);}}}};if(bC()&&b.timers.push(bC)&&!bb){bb=setInterval(bD.tick,bD.interval);}},show:function(){var e=b._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||b.style(this.elem,this.prop);this.options.show=true;if(e!==S){this.custom(this.cur(),e);}else{this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());}b(this.elem).show();},hide:function(){this.options.orig[this.prop]=b._data(this.elem,"fxshow"+this.prop)||b.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0);},step:function(bF){var bH,bI,bC,bE=bc||bp(),e=true,bG=this.elem,bD=this.options;if(bF||bE>=bD.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();bD.animatedProperties[this.prop]=true;for(bH in bD.animatedProperties){if(bD.animatedProperties[bH]!==true){e=false;}}if(e){if(bD.overflow!=null&&!b.support.shrinkWrapBlocks){b.each(["","X","Y"],function(bJ,bK){bG.style["overflow"+bK]=bD.overflow[bJ];});}if(bD.hide){b(bG).hide();}if(bD.hide||bD.show){for(bH in bD.animatedProperties){b.style(bG,bH,bD.orig[bH]);b.removeData(bG,"fxshow"+bH,true);b.removeData(bG,"toggle"+bH,true);}}bC=bD.complete;if(bC){bD.complete=false;bC.call(bG);}}return false;}else{if(bD.duration==Infinity){this.now=bE;}else{bI=bE-this.startTime;this.state=bI/bD.duration;this.pos=b.easing[bD.animatedProperties[this.prop]](this.state,bI,0,1,bD.duration);this.now=this.start+((this.end-this.start)*this.pos);}this.update();}return true;}};b.extend(b.fx,{tick:function(){var bD,bC=b.timers,e=0;for(;e<bC.length;e++){bD=bC[e];if(!bD()&&bC[e]===bD){bC.splice(e--,1);}}if(!bC.length){b.fx.stop();}},interval:13,stop:function(){clearInterval(bb);bb=null;},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){b.style(e.elem,"opacity",e.now);},_default:function(e){if(e.elem.style&&e.elem.style[e.prop]!=null){e.elem.style[e.prop]=e.now+e.unit;}else{e.elem[e.prop]=e.now;}}}});b.each(aP.concat.apply([],aP),function(e,bC){if(bC.indexOf("margin")){b.fx.step[bC]=function(bD){b.style(bD.elem,bC,Math.max(0,bD.now)+bD.unit);};}});if(b.expr&&b.expr.filters){b.expr.filters.animated=function(e){return b.grep(b.timers,function(bC){return e===bC.elem;}).length;};}function D(bE){if(!X[bE]){var e=aC.body,bC=b("<"+bE+">").appendTo(e),bD=bC.css("display");bC.remove();if(bD==="none"||bD===""){if(!bh){bh=aC.createElement("iframe");bh.frameBorder=bh.width=bh.height=0;}e.appendChild(bh);if(!t||!bh.createElement){t=(bh.contentWindow||bh.contentDocument).document;t.write((b.support.boxModel?"<!doctype html>":"")+"<html><body>");t.close();}bC=t.createElement(bE);t.body.appendChild(bC);bD=b.css(bC,"display");e.removeChild(bh);}X[bE]=bD;}return X[bE];}var bf,ac=/^t(?:able|d|h)$/i,ak=/^(?:body|html)$/i;if("getBoundingClientRect" in aC.documentElement){bf=function(bF,bO,bD,bI){try{bI=bF.getBoundingClientRect();}catch(bM){}if(!bI||!b.contains(bD,bF)){return bI?{top:bI.top,left:bI.left}:{top:0,left:0};}var bJ=bO.body,bK=aS(bO),bH=bD.clientTop||bJ.clientTop||0,bL=bD.clientLeft||bJ.clientLeft||0,bC=bK.pageYOffset||b.support.boxModel&&bD.scrollTop||bJ.scrollTop,bG=bK.pageXOffset||b.support.boxModel&&bD.scrollLeft||bJ.scrollLeft,bN=bI.top+bC-bH,bE=bI.left+bG-bL;return{top:bN,left:bE};};}else{bf=function(bG,bL,bE){var bJ,bD=bG.offsetParent,bC=bG,bH=bL.body,bI=bL.defaultView,e=bI?bI.getComputedStyle(bG,null):bG.currentStyle,bK=bG.offsetTop,bF=bG.offsetLeft;while((bG=bG.parentNode)&&bG!==bH&&bG!==bE){if(b.support.fixedPosition&&e.position==="fixed"){break;}bJ=bI?bI.getComputedStyle(bG,null):bG.currentStyle;bK-=bG.scrollTop;bF-=bG.scrollLeft;if(bG===bD){bK+=bG.offsetTop;bF+=bG.offsetLeft;if(b.support.doesNotAddBorder&&!(b.support.doesAddBorderForTableAndCells&&ac.test(bG.nodeName))){bK+=parseFloat(bJ.borderTopWidth)||0;bF+=parseFloat(bJ.borderLeftWidth)||0;}bC=bD;bD=bG.offsetParent;}if(b.support.subtractsBorderForOverflowNotVisible&&bJ.overflow!=="visible"){bK+=parseFloat(bJ.borderTopWidth)||0;bF+=parseFloat(bJ.borderLeftWidth)||0;}e=bJ;}if(e.position==="relative"||e.position==="static"){bK+=bH.offsetTop;bF+=bH.offsetLeft;}if(b.support.fixedPosition&&e.position==="fixed"){bK+=Math.max(bE.scrollTop,bH.scrollTop);bF+=Math.max(bE.scrollLeft,bH.scrollLeft);}return{top:bK,left:bF};};}b.fn.offset=function(e){if(arguments.length){return e===S?this:this.each(function(bE){b.offset.setOffset(this,e,bE);});}var bC=this[0],bD=bC&&bC.ownerDocument;if(!bD){return null;}if(bC===bD.body){return b.offset.bodyOffset(bC);}return bf(bC,bD,bD.documentElement);};b.offset={bodyOffset:function(e){var bD=e.offsetTop,bC=e.offsetLeft;if(b.support.doesNotIncludeMarginInBodyOffset){bD+=parseFloat(b.css(e,"marginTop"))||0;bC+=parseFloat(b.css(e,"marginLeft"))||0;}return{top:bD,left:bC};},setOffset:function(bE,bN,bH){var bI=b.css(bE,"position");if(bI==="static"){bE.style.position="relative";}var bG=b(bE),bC=bG.offset(),e=b.css(bE,"top"),bL=b.css(bE,"left"),bM=(bI==="absolute"||bI==="fixed")&&b.inArray("auto",[e,bL])>-1,bK={},bJ={},bD,bF;if(bM){bJ=bG.position();bD=bJ.top;bF=bJ.left;}else{bD=parseFloat(e)||0;bF=parseFloat(bL)||0;}if(b.isFunction(bN)){bN=bN.call(bE,bH,bC);}if(bN.top!=null){bK.top=(bN.top-bC.top)+bD;}if(bN.left!=null){bK.left=(bN.left-bC.left)+bF;}if("using" in bN){bN.using.call(bE,bK);}else{bG.css(bK);}}};b.fn.extend({position:function(){if(!this[0]){return null;}var bD=this[0],bC=this.offsetParent(),bE=this.offset(),e=ak.test(bC[0].nodeName)?{top:0,left:0}:bC.offset();bE.top-=parseFloat(b.css(bD,"marginTop"))||0;bE.left-=parseFloat(b.css(bD,"marginLeft"))||0;e.top+=parseFloat(b.css(bC[0],"borderTopWidth"))||0;e.left+=parseFloat(b.css(bC[0],"borderLeftWidth"))||0;return{top:bE.top-e.top,left:bE.left-e.left};},offsetParent:function(){return this.map(function(){var e=this.offsetParent||aC.body;while(e&&(!ak.test(e.nodeName)&&b.css(e,"position")==="static")){e=e.offsetParent;}return e;});}});b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(bD,bC){var e=/Y/.test(bC);b.fn[bD]=function(bE){return b.access(this,function(bF,bI,bH){var bG=aS(bF);if(bH===S){return bG?(bC in bG)?bG[bC]:b.support.boxModel&&bG.document.documentElement[bI]||bG.document.body[bI]:bF[bI];}if(bG){bG.scrollTo(!e?bH:b(bG).scrollLeft(),e?bH:b(bG).scrollTop());}else{bF[bI]=bH;}},bD,bE,arguments.length,null);};});function aS(e){return b.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false;}b.each({Height:"height",Width:"width"},function(bD,bE){var bC="client"+bD,e="scroll"+bD,bF="offset"+bD;b.fn["inner"+bD]=function(){var bG=this[0];return bG?bG.style?parseFloat(b.css(bG,bE,"padding")):this[bE]():null;};b.fn["outer"+bD]=function(bH){var bG=this[0];return bG?bG.style?parseFloat(b.css(bG,bE,bH?"margin":"border")):this[bE]():null;};b.fn[bE]=function(bG){return b.access(this,function(bJ,bI,bK){var bM,bL,bN,bH;if(b.isWindow(bJ)){bM=bJ.document;bL=bM.documentElement[bC];return b.support.boxModel&&bL||bM.body&&bM.body[bC]||bL;}if(bJ.nodeType===9){bM=bJ.documentElement;if(bM[bC]>=bM[e]){return bM[bC];}return Math.max(bJ.body[e],bM[e],bJ.body[bF],bM[bF]);}if(bK===S){bN=b.css(bJ,bI);bH=parseFloat(bN);return b.isNumeric(bH)?bH:bN;}b(bJ).css(bI,bK);},bE,bG,arguments.length,null);};});bk.jQuery=bk.$=b;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return b;});}})(window);(function($){function Datepicker(){this.debug=false;this._nextId=0;this._inst=[];this._curInst=null;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this.regional=[];this.regional[""]={clearText:"Clear",clearStatus:"Erase the current date",closeText:"Close",closeStatus:"Close without change",prevText:"&#x3c;Prev",prevStatus:"Show the previous month",nextText:"Next&#x3e;",nextStatus:"Show the next month",currentText:"Today",currentStatus:"Show the current month",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthStatus:"Show a different month",yearStatus:"Show a different year",weekHeader:"Wk",weekStatus:"Week of the year",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],dayStatus:"Set DD as first week day",dateStatus:"Select DD, M d",dateFormat:"mm/dd/yy",firstDay:0,initStatus:"Select a date",isRTL:false};this._defaults={showOn:"focus",showAnim:"show",defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,closeAtTop:true,mandatory:false,hideIfNoPrevNext:false,changeMonth:true,changeYear:true,yearRange:"-10:+10",changeFirstDay:false,showOtherMonths:false,showWeeks:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",showStatus:false,statusForDate:this.dateStatus,minDate:null,maxDate:null,speed:"normal",beforeShowDay:null,beforeShow:null,onSelect:null,onClose:null,numberOfMonths:1,stepMonths:1,rangeSelect:false,rangeSeparator:" - "};$.extend(this._defaults,this.regional[""]);this._datepickerDiv=$('<div id="datepicker_div">');}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",log:function(){if(this.debug){console.log.apply("",arguments);}},_register:function(inst){var id=this._nextId++;this._inst[id]=inst;return id;},_getInst:function(id){return this._inst[id]||id;},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this;},_attachDatepicker:function(target,settings){var inlineSettings=null;for(attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue);}catch(err){inlineSettings[attrName]=attrValue;}}}var nodeName=target.nodeName.toLowerCase();var instSettings=(inlineSettings?$.extend(settings||{},inlineSettings||{}):settings);if(nodeName=="input"){var inst=(inst&&!inlineSettings?inst:new DatepickerInstance(instSettings,false));this._connectDatepicker(target,inst);}else{if(nodeName=="div"||nodeName=="span"){var inst=new DatepickerInstance(instSettings,true);this._inlineDatepicker(target,inst);}}},_destroyDatepicker:function(target){var nodeName=target.nodeName.toLowerCase();var calId=target._calId;target._calId=null;var $target=$(target);if(nodeName=="input"){$target.siblings(".datepicker_append").replaceWith("").end().siblings(".datepicker_trigger").replaceWith("").end().removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress);var wrapper=$target.parents(".datepicker_wrap");if(wrapper){wrapper.replaceWith(wrapper.html());}}else{if(nodeName=="div"||nodeName=="span"){$target.removeClass(this.markerClassName).empty();}}if($("input[_calId="+calId+"]").length==0){this._inst[calId]=null;}},_enableDatepicker:function(target){target.disabled=false;$(target).siblings("button.datepicker_trigger").each(function(){this.disabled=false;}).end().siblings("img.datepicker_trigger").css({opacity:"1.0",cursor:""});this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value);});},_disableDatepicker:function(target){target.disabled=true;$(target).siblings("button.datepicker_trigger").each(function(){this.disabled=true;}).end().siblings("img.datepicker_trigger").css({opacity:"0.5",cursor:"default"});this._disabledInputs=$.map($.datepicker._disabledInputs,function(value){return(value==target?null:value);});this._disabledInputs[$.datepicker._disabledInputs.length]=target;},_isDisabledDatepicker:function(target){if(!target){return false;}for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]==target){return true;}}return false;},_changeDatepicker:function(target,name,value){var settings=name||{};if(typeof name=="string"){settings={};settings[name]=value;}if(inst=this._getInst(target._calId)){extendRemove(inst._settings,settings);this._updateDatepicker(inst);}},_setDateDatepicker:function(target,date,endDate){if(inst=this._getInst(target._calId)){inst._setDate(date,endDate);this._updateDatepicker(inst);}},_getDateDatepicker:function(target){var inst=this._getInst(target._calId);return(inst?inst._getDate():null);},_doKeyDown:function(e){var inst=$.datepicker._getInst(this._calId);if($.datepicker._datepickerShowing){switch(e.keyCode){case 9:$.datepicker._hideDatepicker(null,"");break;case 13:$.datepicker._selectDay(inst,inst._selectedMonth,inst._selectedYear,$("td.datepicker_daysCellOver",inst._datepickerDiv)[0]);return false;break;case 27:$.datepicker._hideDatepicker(null,inst._get("speed"));break;case 33:$.datepicker._adjustDate(inst,(e.ctrlKey?-1:-inst._get("stepMonths")),(e.ctrlKey?"Y":"M"));break;case 34:$.datepicker._adjustDate(inst,(e.ctrlKey?+1:+inst._get("stepMonths")),(e.ctrlKey?"Y":"M"));break;case 35:if(e.ctrlKey){$.datepicker._clearDate(inst);}break;case 36:if(e.ctrlKey){$.datepicker._gotoToday(inst);}break;case 37:if(e.ctrlKey){$.datepicker._adjustDate(inst,-1,"D");}break;case 38:if(e.ctrlKey){$.datepicker._adjustDate(inst,-7,"D");}break;case 39:if(e.ctrlKey){$.datepicker._adjustDate(inst,+1,"D");}break;case 40:if(e.ctrlKey){$.datepicker._adjustDate(inst,+7,"D");}break;}}else{if(e.keyCode==36&&e.ctrlKey){$.datepicker._showDatepicker(this);}}},_doKeyPress:function(e){var inst=$.datepicker._getInst(this._calId);var chars=$.datepicker._possibleChars(inst._get("dateFormat"));var chr=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||(chr<" "||!chars||chars.indexOf(chr)>-1);},_connectDatepicker:function(target,inst){var input=$(target);if(input.is("."+this.markerClassName)){return;}var appendText=inst._get("appendText");var isRTL=inst._get("isRTL");if(appendText){if(isRTL){input.before('<span class="datepicker_append">'+appendText);}else{input.after('<span class="datepicker_append">'+appendText);}}var showOn=inst._get("showOn");if(showOn=="focus"||showOn=="both"){input.focus(this._showDatepicker);}if(showOn=="button"||showOn=="both"){input.wrap('<span id="calDiv" class="datepicker_wrap">');var buttonText=inst._get("buttonText");var buttonImage=inst._get("buttonImage");var trigger=$(inst._get("buttonImageOnly")?$("<img>").addClass("datepicker_trigger").attr({src:buttonImage,alt:buttonText,title:buttonText}):$("<button>").addClass("datepicker_trigger").attr({type:"button"}).html(buttonImage!=""?$("<img>").attr({src:buttonImage,alt:buttonText,title:buttonText}):buttonText));if(isRTL){input.before(trigger);}else{input.after(trigger);}trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput==target){$.datepicker._hideDatepicker();}else{$.datepicker._showDatepicker(target);}});}input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).bind("setData.datepicker",function(event,key,value){inst._settings[key]=value;}).bind("getData.datepicker",function(event,key){return inst._get(key);});input[0]._calId=inst._id;},_inlineDatepicker:function(target,inst){var input=$(target);if(input.is("."+this.markerClassName)){return;}input.addClass(this.markerClassName).append(inst._datepickerDiv).bind("setData.datepicker",function(event,key,value){inst._settings[key]=value;}).bind("getData.datepicker",function(event,key){return inst._get(key);});input[0]._calId=inst._id;this._updateDatepicker(inst);},_inlineShow:function(inst){var numMonths=inst._getNumberOfMonths();},_dialogDatepicker:function(input,dateText,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){inst=this._dialogInst=new DatepickerInstance({},false);this._dialogInput=$('<input type="text" size="1" style="position: absolute; top: -100px;"/>');this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);this._dialogInput[0]._calId=inst._id;}extendRemove(inst._settings,settings||{});this._dialogInput.val(dateText);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){var browserWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var browserHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY];}this._dialogInput.css("left",this._pos[0]+"px").css("top",this._pos[1]+"px");inst._settings.onSelect=onSelect;this._inDialog=true;this._datepickerDiv.addClass("datepicker_dialog");this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this._datepickerDiv);}return this;},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!="input"){input=$("input",input.parentNode)[0];}if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput==input){return;}var inst=$.datepicker._getInst(input._calId);var beforeShow=inst._get("beforeShow");extendRemove(inst._settings,(beforeShow?beforeShow.apply(input,[input,inst]):{}));$.datepicker._hideDatepicker(null,"");$.datepicker._lastInput=input;inst._setDateFromField(input);if($.datepicker._inDialog){input.value="";}if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight;}var isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")=="fixed";});if(isFixed&&$.browser.opera){$.datepicker._pos[0]-=document.documentElement.scrollLeft;$.datepicker._pos[1]-=document.documentElement.scrollTop;}inst._datepickerDiv.css("position",($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute"))).css({left:$.datepicker._pos[0]+"px",top:$.datepicker._pos[1]+"px"});$.datepicker._pos=null;inst._rangeStart=null;$.datepicker._updateDatepicker(inst);if(!inst._inline){var speed=inst._get("speed");var postProcess=function(){$.datepicker._datepickerShowing=true;$.datepicker._afterShow(inst);};var showAnim=inst._get("showAnim")||"show";inst._datepickerDiv[showAnim](speed,postProcess);if(speed==""){postProcess();}var isVisible=$(":visible",$(inst._input[0])).length>0;if(isVisible){inst._input[0].focus();}$.datepicker._curInst=inst;}},_updateDatepicker:function(inst){inst._datepickerDiv.empty().append(inst._generateDatepicker());var numMonths=inst._getNumberOfMonths();if(numMonths[0]!=1||numMonths[1]!=1){inst._datepickerDiv.addClass("datepicker_multi");}else{inst._datepickerDiv.removeClass("datepicker_multi");}if(inst._get("isRTL")){inst._datepickerDiv.addClass("datepicker_rtl");}else{inst._datepickerDiv.removeClass("datepicker_rtl");}if(inst._input){var isVisible=$(":visible",$(inst._input[0])).length>0;if(isVisible){inst._input[0].focus();}}},_afterShow:function(inst){var numMonths=inst._getNumberOfMonths();if($.browser.msie&&parseInt($.browser.version)<7){$("#datepicker_cover").css({width:inst._datepickerDiv.width()+4,height:inst._datepickerDiv.height()+4});}var isFixed=inst._datepickerDiv.css("position")=="fixed";var pos=inst._input?$.datepicker._findPos(inst._input[0]):null;var browserWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var browserHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var scrollX=(isFixed?0:document.documentElement.scrollLeft||document.body.scrollLeft);var scrollY=(isFixed?0:document.documentElement.scrollTop||document.body.scrollTop);if((inst._datepickerDiv.offset().left+inst._datepickerDiv.width()-(isFixed&&$.browser.msie?document.documentElement.scrollLeft:0))>(browserWidth+scrollX)){inst._datepickerDiv.css("left",Math.max(scrollX,pos[0]+(inst._input?$(inst._input[0]).width():null)-inst._datepickerDiv.width()-(isFixed&&$.browser.opera?document.documentElement.scrollLeft:0))+"px");}if((inst._datepickerDiv.offset().top+inst._datepickerDiv.height()-(isFixed&&$.browser.msie?document.documentElement.scrollTop:0))>(browserHeight+scrollY)){inst._datepickerDiv.css("top",Math.max(scrollY,pos[1]-(this._inDialog?0:inst._datepickerDiv.height())-(isFixed&&$.browser.opera?document.documentElement.scrollTop:0))+"px");}},_findPos:function(obj){var notTypeHidden=(obj.type!="hidden");while(obj&&(obj.type=="hidden"||obj.nodeType!=1)){obj=obj.nextSibling;}var jObj=$(obj);if(notTypeHidden){jObj.show();}var position=jObj.offset();if(notTypeHidden){jObj.hide();}return[position.left,position.top];},_hideDatepicker:function(input,speed){var inst=this._curInst?this._curInst:$.datepicker._inst[1];if(!inst){return;}var rangeSelect=inst._get("rangeSelect");if(rangeSelect&&this._stayOpen){this._selectDate(inst,inst._formatDate(inst._currentDay,inst._currentMonth,inst._currentYear));}this._stayOpen=false;if(this._datepickerShowing){speed=(speed!=null?speed:inst._get("speed"));var showAnim=inst._get("showAnim");inst._datepickerDiv[(showAnim=="slideDown"?"slideUp":(showAnim=="fadeIn"?"fadeOut":"hide"))](speed,function(){$.datepicker._tidyDialog(inst);});if(speed==""){this._tidyDialog(inst);}var onClose=inst._get("onClose");if(onClose){onClose.apply((inst._input?inst._input[0]:null),[inst._getDate(),inst]);}this._datepickerShowing=false;this._lastInput=null;inst._settings.prompt=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this._datepickerDiv);}}this._inDialog=false;}this._curInst=null;},_tidyDialog:function(inst){inst._datepickerDiv.removeClass("datepicker_dialog").unbind(".datepicker");$(".datepicker_prompt",inst._datepickerDiv).remove();},_checkExternalClick:function(event){if(!$.datepicker._curInst&&!$.datepicker._inst){return;}var $target=$(event.target);if(($target.parents("#datepicker_div").length==0)&&($target.attr("class")!="datepicker_trigger")&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)){$.datepicker._hideDatepicker(null,"");}},_adjustDate:function(id,offset,period){var inst=this._getInst(id);inst._adjustDate(offset,period);this._updateDatepicker(inst);},_gotoToday:function(id){var date=new Date();var inst=this._getInst(id);inst._selectedDay=date.getDate();inst._drawMonth=inst._selectedMonth=date.getMonth();inst._drawYear=inst._selectedYear=date.getFullYear();this._adjustDate(inst);},_selectMonthYear:function(id,select,period){var inst=this._getInst(id);inst._selectingMonthYear=false;inst[period=="M"?"_drawMonth":"_drawYear"]=select.options[select.selectedIndex].value-0;this._adjustDate(inst);},_clickMonthYear:function(id){var inst=this._getInst(id);if(inst._input&&inst._selectingMonthYear&&!$.browser.msie){inst._input[0].focus();}inst._selectingMonthYear=!inst._selectingMonthYear;},_changeFirstDay:function(id,day){var inst=this._getInst(id);inst._settings.firstDay=day;this._updateDatepicker(inst);},_selectDay:function(id,month,year,td){if($(td).is(".datepicker_unselectable")){return;}var inst=this._getInst(id);var rangeSelect=inst._get("rangeSelect");var currentDayClassName="datepicker_currentDay";if($("#"+id).val()&&id.indexOf("1")>0){currentDayClassName="datepicker_currentDepartDay";}else{if($("#"+id).val()&&id.indexOf("2")>0){currentDayClassName="datepicker_currentReturnDay";}}if(rangeSelect){if(!this._stayOpen){$(".datepicker td").removeClass(currentDayClassName);$(td).addClass(currentDayClassName);}this._stayOpen=!this._stayOpen;}inst._selectedDay=inst._currentDay=$("a",td).html();inst._selectedMonth=inst._currentMonth=month;inst._selectedYear=inst._currentYear=year;this._selectDate(id,inst._formatDate(inst._currentDay,inst._currentMonth,inst._currentYear));if(this._stayOpen){inst._endDay=inst._endMonth=inst._endYear=null;inst._rangeStart=new Date(inst._currentYear,inst._currentMonth,inst._currentDay);this._updateDatepicker(inst);}else{if(rangeSelect){inst._endDay=inst._currentDay;inst._endMonth=inst._currentMonth;inst._endYear=inst._currentYear;inst._selectedDay=inst._currentDay=inst._rangeStart.getDate();inst._selectedMonth=inst._currentMonth=inst._rangeStart.getMonth();inst._selectedYear=inst._currentYear=inst._rangeStart.getFullYear();inst._rangeStart=null;if(inst._inline){this._updateDatepicker(inst);}}}},_inputselectDay:function(id,td,error1,error2,error3,clientID,validMonth){var date=$(td).val();var day,month,year;if(date.indexOf("/")<0){var date2=$("#"+clientID+"date_picker_id_"+id).val();date2=date2.split("/");day=date2[1];month=date2[0];year=date2[2];}else{date=date.split("/");if(date[1].length==2&&date[1]<=12){if(date[0].length==4&&date[1].length==2&&date[2].length==2){var d=new Date();var limitM=d.getMonth()+parseInt(validMonth)+1;var limitY=d.getFullYear();if(limitM>12){limitM-=12;limitY+=1;}if(parseInt(date[0])>=limitY&&parseInt(date[1])>limitM){var date2=$("#"+clientID+"date_picker_id_"+id).val();date2=date2.split("/");day=date2[1];month=date2[0];year=date2[2];}else{if(id==2){if((date[1]+"/"+date[2]+"/"+date[0])<$("#"+clientID+"date_picker_id_"+(id-1)).val()){var date2=$("#"+clientID+"date_picker_id_"+id).val();date2=date2.split("/");day=date2[1];month=date2[0];year=date2[2];}else{day=date[2];month=date[1];year=date[0];}}else{day=date[2];month=date[1];year=date[0];}}}else{if(date[0].length==2&&date[1].length==2&&date[2].length==4){var d=new Date();var limitM=d.getMonth()+parseInt(validMonth)+1;var limitY=d.getFullYear();if(limitM>12){limitM-=12;limitY+=1;}if(parseInt(date[2])>=limitY&&parseInt(date[1])>limitM){var date2=$("#"+clientID+"date_picker_id_"+id).val();date2=date2.split("/");day=date2[1];month=date2[0];year=date2[2];}else{if(id==2){if((date[1]+"/"+date[0]+"/"+date[2])<$("#"+clientID+"date_picker_id_"+(id-1)).val()){var date2=$("#"+clientID+"date_picker_id_"+id).val();date2=date2.split("/");day=date2[1];month=date2[0];year=date2[2];}else{day=date[0];month=date[1];year=date[2];}}else{day=date[0];month=date[1];year=date[2];}}}else{var date2=$("#"+clientID+"date_picker_id_"+id).val();date2=date2.split("/");day=date2[1];month=date2[0];year=date2[2];}}}else{var date2=$("#"+clientID+"date_picker_id_"+id).val();date2=date2.split("/");day=date2[1];month=date2[0];year=date2[2];}}if($(td).is(".datepicker_unselectable")){return;}id-=1;var inst=this._getInst(id);var rangeSelect=inst._get("rangeSelect");var currentDayClassName="datepicker_currentDay";if($("#"+id).val()&&id.indexOf("1")>0){currentDayClassName="datepicker_currentDepartDay";}else{if($("#"+id).val()&&id.indexOf("2")>0){currentDayClassName="datepicker_currentReturnDay";}}if(rangeSelect){if(!this._stayOpen){$(".datepicker td").removeClass(currentDayClassName);$(td).addClass(currentDayClassName);}this._stayOpen=!this._stayOpen;}inst._selectedDay=inst._currentDay=day;inst._selectedMonth=inst._currentMonth=month-1;inst._selectedYear=inst._currentYear=year;this._selectDate(id,inst._formatDate(inst._currentDay,inst._currentMonth,inst._currentYear));if(this._stayOpen){inst._endDay=inst._endMonth=inst._endYear=null;inst._rangeStart=new Date(inst._currentYear,inst._currentMonth,inst._currentDay);this._updateDatepicker(inst);}else{if(rangeSelect){inst._endDay=inst._currentDay;inst._endMonth=inst._currentMonth;inst._endYear=inst._currentYear;inst._selectedDay=inst._currentDay=inst._rangeStart.getDate();inst._selectedMonth=inst._currentMonth=inst._rangeStart.getMonth();inst._selectedYear=inst._currentYear=inst._rangeStart.getFullYear();inst._rangeStart=null;if(inst._inline){this._updateDatepicker(inst);}}}if(id==0){id+=1;if(clientID.indexOf("SelectView")>=0){if(document.getElementById("ControlGroupAvailabilitySearchInputSelectView_AvailabilitySearchInputSelectView_RoundTrip").checked){if(((month+1)+"/"+day+"/"+year)>$("#"+clientID+"date_picker_id_"+(id+1)).val()){if($(td).is(".datepicker_unselectable")){return;}var inst=this._getInst(id);var rangeSelect=inst._get("rangeSelect");var currentDayClassName="datepicker_currentDay";if($("#"+id).val()&&id.indexOf("1")>0){currentDayClassName="datepicker_currentDepartDay";}else{if($("#"+id).val()&&id.indexOf("2")>0){currentDayClassName="datepicker_currentReturnDay";}}if(rangeSelect){if(!this._stayOpen){$(".datepicker td").removeClass(currentDayClassName);$(td).addClass(currentDayClassName);}this._stayOpen=!this._stayOpen;}inst._selectedDay=inst._currentDay=day;inst._selectedMonth=inst._currentMonth=month-1;inst._selectedYear=inst._currentYear=year;this._selectDate(id,inst._formatDate(inst._currentDay,inst._currentMonth,inst._currentYear));if(this._stayOpen){inst._endDay=inst._endMonth=inst._endYear=null;inst._rangeStart=new Date(inst._currentYear,inst._currentMonth,inst._currentDay);this._updateDatepicker(inst);}else{if(rangeSelect){inst._endDay=inst._currentDay;inst._endMonth=inst._currentMonth;inst._endYear=inst._currentYear;inst._selectedDay=inst._currentDay=inst._rangeStart.getDate();inst._selectedMonth=inst._currentMonth=inst._rangeStart.getMonth();inst._selectedYear=inst._currentYear=inst._rangeStart.getFullYear();inst._rangeStart=null;if(inst._inline){this._updateDatepicker(inst);}}}}}}}},_clearDate:function(id){var inst=this._getInst(id);if(inst._get("mandatory")){return;}this._stayOpen=false;inst._endDay=inst._endMonth=inst._endYear=inst._rangeStart=null;this._selectDate(inst,"");},_selectDate:function(id,dateStr){var inst=this._getInst(id);dateStr=(dateStr!=null?dateStr:inst._formatDate());if(inst._rangeStart){dateStr=inst._formatDate(inst._rangeStart)+inst._get("rangeSeparator")+dateStr;}if(inst._input){inst._input.val(dateStr);}var onSelect=inst._get("onSelect");if(onSelect){onSelect.apply((inst._input?inst._input[0]:null),[dateStr,inst]);}else{if(inst._input){inst._input.trigger("change");}}if(inst._inline){this._updateDatepicker(inst);}else{if(!this._stayOpen){this._hideDatepicker(null,inst._get("speed"));this._lastInput=inst._input[0];if(typeof(inst._input[0])!="object"){inst._input[0].focus();}this._lastInput=null;}}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""];},iso8601Week:function(date){var checkDate=new Date(date.getFullYear(),date.getMonth(),date.getDate(),(date.getTimezoneOffset()/-60));var firstMon=new Date(checkDate.getFullYear(),1-1,4);var firstDay=firstMon.getDay()||7;firstMon.setDate(firstMon.getDate()+1-firstDay);if(firstDay<4&&checkDate<firstMon){checkDate.setDate(checkDate.getDate()-3);return $.datepicker.iso8601Week(checkDate);}else{if(checkDate>new Date(checkDate.getFullYear(),12-1,28)){firstDay=new Date(checkDate.getFullYear()+1,1-1,4).getDay()||7;if(firstDay>4&&(checkDate.getDay()||7)<firstDay-3){checkDate.setDate(checkDate.getDate()+3);return $.datepicker.iso8601Week(checkDate);}}}return Math.floor(((checkDate-firstMon)/86400000)/7)+1;},dateStatus:function(date,inst){return $.datepicker.formatDate(inst._get("dateStatus"),date,inst._getFormatConfig());},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments";}value=(typeof value=="object"?value.toString():value+"");if(value==""){return null;}var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var year=-1;var month=-1;var day=-1;var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++;}return matches;};var getNumber=function(match){lookAhead(match);var size=(match=="y"?4:2);var num=0;while(size>0&&iValue<value.length&&value.charAt(iValue)>="0"&&value.charAt(iValue)<="9"){num=num*10+(value.charAt(iValue++)-0);size--;}if(size==(match=="y"?4:2)){throw"Missing number at position "+iValue;}return num;};var getName=function(match,shortNames,longNames){var names=(lookAhead(match)?longNames:shortNames);var size=0;for(var j=0;j<names.length;j++){size=Math.max(size,names[j].length);}var name="";var iInit=iValue;while(size>0&&iValue<value.length){name+=value.charAt(iValue++);for(var i=0;i<names.length;i++){if(name==names[i]){return i+1;}}size--;}throw"Unknown name at position "+iInit;};var checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat)){throw"Unexpected literal at position "+iValue;}iValue++;};var iValue=0;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false;}else{checkLiteral();}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"'":if(lookAhead("'")){checkLiteral();}else{literal=true;}break;default:checkLiteral();}}}if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+(year<=shortYearCutoff?0:-100);}var date=new Date(year,month-1,day);if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day){throw"Invalid date";}return date;},formatDate:function(format,date,settings){if(!date){return"";}var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++;}return matches;};var formatNumber=function(match,value){return(lookAhead(match)&&value<10?"0":"")+value;};var formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value]);};var output="";var literal=false;if(date){for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false;}else{output+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate());break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"m":output+=formatNumber("m",date.getMonth()+1);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"'":if(lookAhead("'")){output+="'";}else{literal=true;}break;default:output+=format.charAt(iFormat);}}}}return output;},_possibleChars:function(format){var chars="";var literal=false;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false;}else{chars+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d"||"m"||"y":chars+="0123456789";break;case"D"||"M":return null;case"'":if(lookAhead("'")){chars+="'";}else{literal=true;}break;default:chars+=format.charAt(iFormat);}}}return chars;}});function DatepickerInstance(settings,inline){this._id=$.datepicker._register(this);this._selectedDay=0;this._selectedMonth=0;this._selectedYear=0;this._drawMonth=0;this._drawYear=0;this._input=null;this._inline=inline;this._datepickerDiv=(!inline?$.datepicker._datepickerDiv:$('<div id="datepicker_div_'+this._id+'" class="datepicker_inline">'));this._settings=extendRemove(settings||{});if(inline){this._setDate(this._getDefaultDate());}}$.extend(DatepickerInstance.prototype,{_get:function(name){return this._settings[name]||$.datepicker._defaults[name];},_setDateFromField:function(input){this._input=$(input);var dateFormat=this._get("dateFormat");var dates=this._input?this._input.val().split(this._get("rangeSeparator")):null;this._endDay=this._endMonth=this._endYear=null;var date=defaultDate=this._getDefaultDate();if(dates.length>0){var settings=this._getFormatConfig();if(dates.length>1){date=$.datepicker.parseDate(dateFormat,dates[1],settings)||defaultDate;this._endDay=date.getDate();this._endMonth=date.getMonth();this._endYear=date.getFullYear();}try{date=$.datepicker.parseDate(dateFormat,dates[0],settings)||defaultDate;}catch(e){$.datepicker.log(e);date=defaultDate;}}this._selectedDay=date.getDate();this._drawMonth=this._selectedMonth=date.getMonth();this._drawYear=this._selectedYear=date.getFullYear();this._currentDay=(dates[0]?date.getDate():0);this._currentMonth=(dates[0]?date.getMonth():0);this._currentYear=(dates[0]?date.getFullYear():0);this._adjustDate();},_getDefaultDate:function(){var date=this._determineDate("defaultDate",new Date());var minDate=this._getMinMaxDate("min",true);var maxDate=this._getMinMaxDate("max");date=(minDate&&date<minDate?minDate:date);date=(maxDate&&date>maxDate?maxDate:date);return date;},_determineDate:function(name,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date;};var offsetString=function(offset,getDaysInMonth){var date=new Date();var matches=/^([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?$/.exec(offset);if(matches){var year=date.getFullYear();var month=date.getMonth();var day=date.getDate();switch(matches[2]||"d"){case"d":case"D":day+=(matches[1]-0);break;case"w":case"W":day+=(matches[1]*7);break;case"m":case"M":month+=(matches[1]-0);day=Math.min(day,getDaysInMonth(year,month));break;case"y":case"Y":year+=(matches[1]-0);day=Math.min(day,getDaysInMonth(year,month));break;}date=new Date(year,month,day);}return date;};var date=this._get(name);return(date==null?defaultDate:(typeof date=="string"?offsetString(date,this._getDaysInMonth):(typeof date=="number"?offsetNumeric(date):date)));},_setDate:function(date,endDate){this._selectedDay=this._currentDay=date.getDate();this._drawMonth=this._selectedMonth=this._currentMonth=date.getMonth();this._drawYear=this._selectedYear=this._currentYear=date.getFullYear();if(this._get("rangeSelect")){if(endDate){this._endDay=endDate.getDate();this._endMonth=endDate.getMonth();this._endYear=endDate.getFullYear();}else{this._endDay=this._currentDay;this._endMonth=this._currentMonth;this._endYear=this._currentYear;}}this._adjustDate();},_getDate:function(){var startDate=(!this._currentYear||(this._input&&this._input.val()=="")?null:new Date(this._currentYear,this._currentMonth,this._currentDay));if(this._get("rangeSelect")){return[startDate,(!this._endYear?null:new Date(this._endYear,this._endMonth,this._endDay))];}else{return startDate;}},_generateDatepicker:function(){var today=new Date();today=new Date(today.getFullYear(),today.getMonth(),today.getDate());var showStatus=this._get("showStatus");var isRTL=this._get("isRTL");var clear=(this._get("mandatory")?"":'<div class="datepicker_clear"><a onclick="jQuery.datepicker._clearDate('+this._id+');"'+(showStatus?this._addStatus(this._get("clearStatus")||"&#xa0;"):"")+">"+this._get("clearText")+"</a></div>");var controls="";var prompt=this._get("prompt");var closeAtTop=this._get("closeAtTop");var hideIfNoPrevNext=this._get("hideIfNoPrevNext");var numMonths=this._getNumberOfMonths();var stepMonths=this._get("stepMonths");var isMultiMonth=(numMonths[0]!=1||numMonths[1]!=1);var minDate=this._getMinMaxDate("min",true);var maxDate=this._getMinMaxDate("max");var drawMonth=this._drawMonth;var drawYear=this._drawYear;var currentDayClassName="";if(this._id=="0"){currentDayClassName=" datepicker_currentDepartDay";}else{if(this._id=="1"){currentDayClassName=" datepicker_currentReturnDay";}}if(maxDate){var maxDraw=new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[1]+1,maxDate.getDate());maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(new Date(drawYear,drawMonth,1)>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}var prev='<div class="datepicker_prev">'+(this._canAdjustMonth(-1,drawYear,drawMonth)?'<a onclick="jQuery.datepicker._adjustDate('+this._id+", -"+stepMonths+", 'M');\""+(showStatus?this._addStatus(this._get("prevStatus")||"&#xa0;"):"")+">"+this._get("prevText")+"</a>":(hideIfNoPrevNext?"":"<label>"+this._get("prevText")+"</label>"))+"</div>";var next='<div class="datepicker_next">'+(this._canAdjustMonth(+1,drawYear,drawMonth)?'<a onclick="jQuery.datepicker._adjustDate('+this._id+", +"+stepMonths+", 'M');\""+(showStatus?this._addStatus(this._get("nextStatus")||"&#xa0;"):"")+">"+this._get("nextText")+"</a>":(hideIfNoPrevNext?">":"<label>"+this._get("nextText")+"</label>"))+"</div>";var html=(prompt?'<div class="datepicker_prompt">'+prompt+"</div>":"")+(closeAtTop&&!this._inline?controls:"")+'<div class="datepicker_links">'+(isRTL?next:prev)+(this._isInRange(today)?'<div class="datepicker_current">'+'<a onclick="jQuery.datepicker._gotoToday('+this._id+');"'+(showStatus?this._addStatus(this._get("currentStatus")||"&#xa0;"):"")+">"+this._get("currentText")+"</a></div>":"")+(isRTL?prev:next)+"</div>";var showWeeks=this._get("showWeeks");for(var row=0;row<numMonths[0];row++){for(var col=0;col<numMonths[1];col++){var selectedDate=new Date(drawYear,drawMonth,this._selectedDay);html+='<div class="datepicker_oneMonth'+(col==0?" datepicker_newRow":"")+'">'+this._generateMonthYearHeader(drawMonth,drawYear,minDate,maxDate,selectedDate,row>0||col>0)+'<table class="datepicker" cellpadding="0" cellspacing="0"><thead>'+'<tr class="datepicker_titleRow">'+(showWeeks?"<td>"+this._get("weekHeader")+"</td>":"");var firstDay=this._get("firstDay");var changeFirstDay=this._get("changeFirstDay");var dayNames=this._get("dayNames");var dayNamesShort=this._get("dayNamesShort");var dayNamesMin=this._get("dayNamesMin");for(var dow=0;dow<7;dow++){var day=(dow+firstDay)%7;var status=this._get("dayStatus")||"&#xa0;";status=(status.indexOf("DD")>-1?status.replace(/DD/,dayNames[day]):status.replace(/D/,dayNamesShort[day]));html+="<td"+((dow+firstDay+6)%7>=5?' class="datepicker_weekEndCell"':"")+">"+(!changeFirstDay?"<span":'<a onclick="jQuery.datepicker._changeFirstDay('+this._id+", "+day+');"')+(showStatus?this._addStatus(status):"")+' title="'+dayNames[day]+'">'+dayNamesMin[day]+(changeFirstDay?"</a>":"</span>")+"</td>";}html+="</tr></thead><tbody>";var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear==this._selectedYear&&drawMonth==this._selectedMonth){this._selectedDay=Math.min(this._selectedDay,daysInMonth);}var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;var currentDate=(!this._currentDay?new Date(9999,9,9):new Date(this._currentYear,this._currentMonth,this._currentDay));var endDate=this._endDay?new Date(this._endYear,this._endMonth,this._endDay):currentDate;var printDate=new Date(drawYear,drawMonth,1-leadDays);var numRows=(isMultiMonth?6:Math.ceil((leadDays+daysInMonth)/7));var beforeShowDay=this._get("beforeShowDay");var showOtherMonths=this._get("showOtherMonths");var calculateWeek=this._get("calculateWeek")||$.datepicker.iso8601Week;var dateStatus=this._get("statusForDate")||$.datepicker.dateStatus;for(var dRow=0;dRow<numRows;dRow++){html+='<tr class="datepicker_daysRow">'+(showWeeks?'<td class="datepicker_weekCol">'+calculateWeek(printDate)+"</td>":"");for(var dow=0;dow<7;dow++){var daySettings=(beforeShowDay?beforeShowDay.apply((this._input?this._input[0]:null),[printDate]):[true,""]);var otherMonth=(printDate.getMonth()!=drawMonth);var unselectable=otherMonth||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);html+='<td class="datepicker_daysCell'+((dow+firstDay+6)%7>=5?" datepicker_weekEndCell":"")+(otherMonth?" datepicker_otherMonth":"")+(unselectable?" datepicker_unselectable":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()>=currentDate.getTime()&&printDate.getTime()<=endDate.getTime()?currentDayClassName:"")+(printDate.getTime()==today.getTime()?" datepicker_today":""))+'"'+(unselectable?"":" onmouseover=\"jQuery(this).addClass('datepicker_daysCellOver');"+(!showStatus||(otherMonth&&!showOtherMonths)?"":"jQuery('#datepicker_status_"+this._id+"').html('"+(dateStatus.apply((this._input?this._input[0]:null),[printDate,this])||"&#xa0;")+"');")+'"'+" onmouseout=\"jQuery(this).removeClass('datepicker_daysCellOver');"+(!showStatus||(otherMonth&&!showOtherMonths)?"":"jQuery('#datepicker_status_"+this._id+"').html('&#xa0;');")+'" onclick="jQuery.datepicker._selectDay('+this._id+","+drawMonth+","+drawYear+', this);"')+">"+(otherMonth?(showOtherMonths?printDate.getDate():"&#xa0;"):(unselectable?printDate.getDate():"<a>"+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);}html+="</tr>";}drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}html+="</tbody></table></div>";}}html+=(showStatus?'<div id="datepicker_status_'+this._id+'" class="datepicker_status">'+(this._get("initStatus")||"&#xa0;")+"</div>":"")+(!closeAtTop&&!this._inline?controls:"")+'<div style="clear: both;"></div>'+($.browser.msie&&parseInt($.browser.version)<7&&!this._inline?'<iframe src="javascript:false;" class="datepicker_cover"></iframe>':"");return html;},_generateMonthYearHeader:function(drawMonth,drawYear,minDate,maxDate,selectedDate,secondary){minDate=(this._rangeStart&&minDate&&selectedDate<minDate?selectedDate:minDate);var showStatus=this._get("showStatus");var html='<div class="datepicker_header">';var monthNames=this._get("monthNames");if(secondary||!this._get("changeMonth")){html+=monthNames[drawMonth]+"&#xa0;";}else{var inMinYear=(minDate&&minDate.getFullYear()==drawYear);var inMaxYear=(maxDate&&maxDate.getFullYear()==drawYear);html+='<select class="datepicker_newMonth" '+'onchange="jQuery.datepicker._selectMonthYear('+this._id+", this, 'M');\" "+'onclick="jQuery.datepicker._clickMonthYear('+this._id+');"'+(showStatus?this._addStatus(this._get("monthStatus")||"&#xa0;"):"")+">";for(var month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){html+='<option value="'+month+'"'+(month==drawMonth?' selected="selected"':"")+">"+monthNames[month]+"</option>";}}html+="</select>";}if(secondary||!this._get("changeYear")){html+=drawYear;}else{var years=this._get("yearRange").split(":");var year=0;var endYear=0;if(years.length!=2){year=drawYear-10;endYear=drawYear+10;}else{if(years[0].charAt(0)=="+"||years[0].charAt(0)=="-"){year=drawYear+parseInt(years[0],10);endYear=drawYear+parseInt(years[1],10);}else{year=parseInt(years[0],10);endYear=parseInt(years[1],10);}}year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);html+='<select class="datepicker_newYear" '+'onchange="jQuery.datepicker._selectMonthYear('+this._id+", this, 'Y');\" "+'onclick="jQuery.datepicker._clickMonthYear('+this._id+');"'+(showStatus?this._addStatus(this._get("yearStatus")||"&#xa0;"):"")+">";for(;year<=endYear;year++){html+='<option value="'+year+'"'+(year==drawYear?' selected="selected"':"")+">"+year+"</option>";}html+="</select>";}html+="</div>";return html;},_addStatus:function(text){return" onmouseover=\"jQuery('#datepicker_status_"+this._id+"').html('"+text+"');\" "+"onmouseout=\"jQuery('#datepicker_status_"+this._id+"').html('&#xa0;');\"";},_adjustDate:function(offset,period){var year=this._drawYear+(period=="Y"?offset:0);var month=this._drawMonth+(period=="M"?offset:0);var day=Math.min(this._selectedDay,this._getDaysInMonth(year,month))+(period=="D"?offset:0);var date=new Date(year,month,day);var minDate=this._getMinMaxDate("min",true);var maxDate=this._getMinMaxDate("max");date=(minDate&&date<minDate?minDate:date);date=(maxDate&&date>maxDate?maxDate:date);this._selectedDay=date.getDate();this._drawMonth=this._selectedMonth=date.getMonth();this._drawYear=this._selectedYear=date.getFullYear();},_getNumberOfMonths:function(){var numMonths=this._get("numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths=="number"?[1,numMonths]:numMonths));},_getMinMaxDate:function(minMax,checkRange){var date=this._determineDate(minMax+"Date",null);if(date){date.setHours(0);date.setMinutes(0);date.setSeconds(0);date.setMilliseconds(0);}return date||(checkRange?this._rangeStart:null);},_getDaysInMonth:function(year,month){return 32-new Date(year,month,32).getDate();},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay();},_canAdjustMonth:function(offset,curYear,curMonth){var numMonths=this._getNumberOfMonths();var date=new Date(curYear,curMonth+(offset<0?offset:numMonths[1]),1);if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));}return this._isInRange(date);},_isInRange:function(date){var newMinDate=(!this._rangeStart?null:new Date(this._selectedYear,this._selectedMonth,this._selectedDay));newMinDate=(newMinDate&&this._rangeStart<newMinDate?this._rangeStart:newMinDate);var minDate=newMinDate||this._getMinMaxDate("min");var maxDate=this._getMinMaxDate("max");return((!minDate||date>=minDate)&&(!maxDate||date<=maxDate));},_getFormatConfig:function(){var shortYearCutoff=this._get("shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get("dayNamesShort"),dayNames:this._get("dayNames"),monthNamesShort:this._get("monthNamesShort"),monthNames:this._get("monthNames")};},_formatDate:function(day,month,year){if(!day){this._currentDay=this._selectedDay;this._currentMonth=this._selectedMonth;this._currentYear=this._selectedYear;}var date=(day?(typeof day=="object"?day:new Date(year,month,day)):new Date(this._currentYear,this._currentMonth,this._currentDay));return $.datepicker.formatDate(this._get("dateFormat"),date,this._getFormatConfig());}});function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null){target[name]=null;}}return target;}$.fn.datepicker=function(options){var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options=="string"&&(options=="isDisabled"||options=="getDate")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}return this.each(function(){typeof options=="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options);});};$(document).ready(function(){$(document.body).append($.datepicker._datepickerDiv).mousedown($.datepicker._checkExternalClick);});$.datepicker=new Datepicker();})(jQuery);(function($){$.metaobjects=function(options){options=$.extend({context:document,clean:true,selector:"object.metaobject"},options);function _value(value){eval("value = "+value+";");return value;}function _object(name,value){var names=name.split(".");var result={};var current=result;for(var i=0,iLast=names.length-1;i<=iLast;i++){if(names[i]){current=current[names[i]]=i==iLast?value:{};}}return result;}return $(options.selector,options.context).each(function(){var settings={target:this.parentNode,cache:false};$('> param[name="metaparam"]',this).each(function(){$.extend(settings,_value(this.value));});$("> param",this).not('[name="metaparam"]').each(function(){var name=this.name;var value=_value(this.value);if(settings.cache){var rest=name.split(".");var first=rest.shift();rest=rest.join(".");var mixed=rest?_object(rest,value):value;$(settings.target).each(function(){var data=$.data(this,first);if(!data){$.data(this,first,mixed);}else{$.extend(true,data,mixed);}});}else{$(settings.target).each(function(){$.extend(true,this,_object(name,value));});}});if(options.clean){$(this).remove();}});};})(jQuery);
/*!
This file is part of the Navitaire NewSkies application.
Copyright (C) Navitaire.  All rights reserved.
*/
SKYSALES={};SKYSALES.Json=window.JSON;SKYSALES.Resource={};SKYSALES.Util={};SKYSALES.Class={};SKYSALES.Instance={};SKYSALES.Instance.index=0;SKYSALES.Instance.getNextIndex=function(){SKYSALES.Instance.index+=1;return SKYSALES.Instance.index;};if(!SKYSALES.Class.LocaleCurrency){SKYSALES.Class.LocaleCurrency=function(){var t=new SKYSALES.Class.SkySales();var e=SKYSALES.Util.extendObject(t);e.num=null;e.localeCurrency=null;var f=SKYSALES.Util.getResource();var c=f.currencyCultureInfo;var s=0;var q="";var b="";var l="";var n=true;var a=function(){var v="n";if(!n){v="(n)";}return v;};var m=function(B){var y=c.groupSizes||[];var w=c.groupSeparator;var z=0;var C=0;var A=3;if(z>y.length){A=y[z];}var G=A-1;s=Math.floor(B);var H=s.toString();var D=H.split("");var E=D.reverse();var v=[];var F=function(){var I=3;if(z<=y.length-2){z+=1;I=y[z];}else{I=A;}G+=I;return I;};for(C=0;C<E.length;C+=1){if(C>G){A=F();v.push(w);}v.push(E[C]);}D=v.reverse();var x=D.join("");return x;};var p=function(y){var w=y-s;var v=w.toFixed(c.decimalDigits);var x=v.substring(2);return x;};var u=function(){var w=a()||"";var v=w.replace("n",l);return v;};var r=function(){e.currency=e.num.toString();n=e.num>=0;e.num=Math.abs(e.num);q=m(e.num);b=p(e.num);l=q;if(0<c.decimalDigits){l+=c.decimalSeparator;}l+=b;e.currency=u();};e.init=function(v){this.setSettingsByObject(v);if(null!==this.num){r();}};return e;};}SKYSALES.Class.Resource=function(){var b=new SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.countryInfo={};a.titleInfo={};a.stateInfo={};a.stationInfo={};a.macInfo={};a.marketInfo={};a.macHash={};a.stationHash={};a.macStationHash={};a.countryStationHash={};a.countryHash={};a.marketHash={};a.sourceInfo={};a.clientHash={};a.dateCultureInfo={};a.currencyCultureInfo={};a.carrierInfo={};a.carrierHash={};a.datePickerInfo={};a.passengerInfo={};a.passengerHash={};a.carInfo={};a.externalRateInfo={};a.currencyInfo={};a.currencyHash={};a.populateMacHash=function(){var c=0;var e=[];var f={};var l=null;if(a.macInfo&&a.macInfo.MacList){e=a.macInfo.MacList;for(c=0;c<e.length;c+=1){l=e[c];f[l.code]=l;}}a.macHash=f;};a.populateStationList=function(){var l=0,m=[],f=[],n="country",e="name",c=-1;if(a.stationInfo&&a.stationInfo.StationList){m=a.stationInfo.StationList;c=m.length;for(l=0;l<c;l+=1){m[l].country=a.countryHash[m[l].countryCode];m[l].index=l;}f=m;}};a.sortStationList=function(e,c){return function(m,f){var n=m[e],l=f[e];if(n===l){return typeof c==="function"?c(m,f):0;}return n<l?-1:1;};};a.populateStationHash=function(){var e=0;var l=[];var n={};var f=null;var m={};var c=a.countryHash;if(a.stationInfo&&a.stationInfo.StationList){l=a.stationInfo.StationList;for(e=0;e<l.length;e+=1){f=l[e];n[f.code]=f;stationCountryCode=f.countryCode||"";if(stationCountryCode!==""){m[stationCountryCode]=m[stationCountryCode]||[];m[stationCountryCode][m[stationCountryCode].length]=f;m[stationCountryCode].name=c[stationCountryCode];}}}a.stationHash=n;a.countryStationHash=m;};a.populatePassengerHash=function(){var f=0,m=[],e={},l=null,c=-1;if(a.passengerInfo&&a.passengerInfo.PassengerList){m=a.passengerInfo.PassengerList;c=m.length;for(f=0;f<c;f+=1){l=m[f];e[l.PassengerNumber]=l;}}a.passengerHash=e;};a.populateCarrierHash=function(){var e=0,c=[],n=0,m={},f=null,l=this.carrierInfo;if(l){c=l.carrierList;if(c){n=c.length;if(n>0){for(e=0;e<n;e+=1){f=c[e];m[f.code]=f;}}}a.carrierHash=m;}};a.populateCountryHash=function(){var e=0;var c={};var f=[];var l=null;if(a.countryInfo&&a.countryInfo.CountryList){f=a.countryInfo.CountryList;for(e=0;e<f.length;e+=1){l=f[e];c[l.code]=l.name;}}a.countryHash=c;};a.populateMarketHash=function(){var l=0,n=[],e={},m={},c="",f={},p=a.stationHash;if(a.marketInfo&&a.marketInfo.MarketList){f=a.marketInfo.MarketList;for(c in f){if(f.hasOwnProperty(c)){n=f[c];for(l=n.length-1;l>=0;l-=1){e=n[l];m=p[e.code];if(m){e.name=m.name;e.index=m.index;}else{n.splice(l,1);}}n.sort(this.destinationSort);}}a.marketHash=f;}};a.destinationSort=function(l,f){var e=l.index,c=f.index;return e-c;};a.populateClientHash=function(){var m=window.document.cookie;var e=[];var l=0;var c="";var f="";var n="";var p=-1;if(m){e=document.cookie.split("; ");for(l=0;l<e.length;l+=1){c=e[l];p=c.indexOf("=");if(p>-1){f=c.substring(0,p);n=c.substring(p+1,c.length);if(f){n=SKYSALES.Util.decodeUriComponent(n);a.clientHash[f]=n;}}}}};a.populateCurrencyHash=function(){var m=0,l=[],f={},e=null,c=-1;if(a.currencyInfo&&a.currencyInfo.CurrencyList){l=a.currencyInfo.CurrencyList;c=l.length;for(m=0;m<c;m+=1){e=l[m];f[e.code]=e;}}a.currencyHash=f;};a.sortCountryStationHash=function(e,c){return(e.name>c.name);};a.joinMacStations=function(){if(SKYSALES.joinMacStations!="false"){for(sIdx in a.stationHash){if(a.stationHash[sIdx].macCode!=""&&a.stationHash[sIdx].macCode!="BAK"){if(!a.stationHash[a.stationHash[sIdx].macCode]){macStation={"countryCode":a.stationHash[sIdx].countryCode,"country":a.stationHash[sIdx].country,"provinceStateCode":a.stationHash[sIdx].provinceStateCode,"macCode":"","name":a.macHash[a.stationHash[sIdx].macCode].name,"shortName":a.macHash[a.stationHash[sIdx].macCode].name,"code":a.macHash[a.stationHash[sIdx].macCode].code};a.stationHash[a.stationHash[sIdx].macCode]=macStation;a.countryStationHash[a.stationHash[sIdx].countryCode].push(macStation);a.countryStationHash[a.stationHash[sIdx].countryCode].sort(a.sortCountryStationHash);a.marketHash[a.stationHash[sIdx].macCode]=[];}myMarketHash=a.marketHash[sIdx];macMarketHash=a.marketHash[a.stationHash[sIdx].macCode];for(dIdx in myMarketHash){alreadyInMarketHash=false;for(mdIdx in macMarketHash){if(myMarketHash[dIdx].code==macMarketHash[mdIdx].code){alreadyInMarketHash=true;break;}}if(alreadyInMarketHash==false){a.marketHash[a.stationHash[sIdx].macCode].push(myMarketHash[dIdx]);}}macStationMarket={"code":a.stationHash[sIdx].macCode,"name":a.macHash[a.stationHash[sIdx].macCode].name};for(mIndex in a.marketHash){for(dIdx in a.marketHash[mIndex]){if(a.marketHash[mIndex][dIdx].code==a.stationHash[sIdx].code){a.marketHash[mIndex].push(macStationMarket);delete a.marketHash[mIndex][dIdx];}}}a.macStationHash[sIdx]=a.stationHash[sIdx];delete a.stationHash[sIdx];}}}};a.setSettingsByObject=function(c){b.setSettingsByObject.call(this,c);SKYSALES.datepicker=this.datePickerInfo;a.populateCountryHash();a.populateStationList();a.populateStationHash();a.populateCarrierHash();a.populateMacHash();a.populateMarketHash();a.joinMacStations();a.populateClientHash();a.populatePassengerHash();a.populateCurrencyHash();};return a;};SKYSALES.Util.createObjectArray=[];SKYSALES.Util.createObject=function(a,e,c){var b=SKYSALES.Util.createObjectArray;b[b.length]={"objNameBase":a,"objType":e,"json":c};};SKYSALES.Util.initObjects=function(){var f=0;var c=SKYSALES.Util.createObjectArray;var l="";var b="";var e=null;var a=null;for(f=0;f<c.length;f+=1){a=c[f];l=a.objNameBase+SKYSALES.Instance.getNextIndex();b=a.objType;e=a.json||{};if(SKYSALES.Class[b]){SKYSALES.Instance[l]=new SKYSALES.Class[b]();SKYSALES.Instance[l].init(e);}}SKYSALES.Util.createObjectArray=[];};SKYSALES.Util.decodeUriComponent=function(a){a=a||"";if(window.decodeURIComponent){a=window.decodeURIComponent(a);}a=a.replace(/\+/g," ");return a;};SKYSALES.Util.encodeUriComponent=function(a){a=a||"";if(window.encodeURIComponent){a=window.encodeURIComponent(a);}return a;};SKYSALES.Util.getResource=function(){return SKYSALES.Resource;};SKYSALES.Util.extendObject=function(b){var a=function(){};a.prototype=b;return new a();};SKYSALES.Util.initializeNewObject=function(l){var f="";var b={objNameBase:"",objType:"",selector:""};var e=function(){var p=true;$().extend(b,l);var n=null;for(n in b){if(b.hasOwnProperty(n)){if(b[n]===undefined){p=false;break;}}}return p;};var c=function(s){var u=$(this).val();var p=SKYSALES.Json.parse(u);var t=null;var q="";var x=[];var r=0;var w=0;var n=/^([a-zA-Z0-9]+)\[(\d+)\]$/;var v=[];if(p.method!==undefined){t=SKYSALES.Instance[f];if(p.method.name.indexOf(".")>-1){x=p.method.name.split(".");for(r=0;r<x.length;r+=1){q=x[r];v=q.match(n);if((v)&&(v.length>0)){q=v[1];w=v[2];w=parseInt(w,10);t=t[q][w];}else{t=t[q];}}}else{t=t[p.method.name];}if(t){t(p.method.paramJsonObject);}}};var m=function(){f=l.objNameBase+SKYSALES.Instance.getNextIndex();if(SKYSALES.Class[l.objType]){SKYSALES.Instance[f]=new SKYSALES.Class[l.objType]();$("object.jsObject > param",this).each(c);}else{alert("Object Type Not Found: "+l.objType);}};var a=function(){var n=e();if(n){$(l.selector).each(m);}else{alert("\nthere has been an error");}};a();return false;};SKYSALES.Util.populateSelect=function(b){var e=b.selectedItem||null;var l=b.objectArray||null;var q=b.selectBox||null;var n=b.showCode||false;var r=b.clearOptions||false;var p="";var m="";var c=null;var f=null;var a="";if(q){c=q.get(0);if(c&&c.options){if(r){c.options.length=0;}else{if(!c.originalOptionLength){c.originalOptionLength=c.options.length;}c.options.length=c.originalOptionLength;}if(l){for(a in l){if(l.hasOwnProperty(a)){f=l[a];if(n){p=f.name+" ("+f.code+")";}else{p=f.name||f.Name;}m=f.code||f.ProvinceStateCode||"";c.options[c.options.length]=new window.Option(p,m,false,false);}}if(e!==null){q.val(e);}}}}};SKYSALES.Util.populateSelectWithGroups=function(c){var a=c.selectedItem||null;var q=c.objectArray||null;var m=c.groupArray||null;var p=c.selectBox||null;var y=c.showCode||false;var L=c.clearOptions||false;var K=c.promoStationsArray||[];var n=c.restrictedStationCategory||[];var v=c.restrictedPairStationCategory||[];var A=c.originObject||null;var w="";var C=null;var u=null;var B=null;var t=null;var l=null;var b=null;var z=null;var E=[];var x=true;var s=true;var r=0;var F=false;var H=false;var M=c.optionHeaderText||["Origin","Destination"];var J=c.islandGroupText||"Thailand (Island transfers)";if(p){u=p.get(0);if(u&&u.options){if(L){u.options.length=0;}else{if(!u.originalOptionLength){u.originalOptionLength=u.options.length;}try{u.options.length=u.originalOptionLength;}catch(G){}while(u.hasChildNodes()){u.removeChild(u.firstChild);}}if(q&&m){for(B in m){if(m.hasOwnProperty(B)){for(l in m[B]){if(m[B].hasOwnProperty(l)&&l!=="name"){t=m[B][l]||{};x=true;if(t.stationCategories){for(r=0;r<n.length;r=r+1){if(t.stationCategories.indexOf(n[r])>-1){x=false;break;}}}if(x){for(C in q){s=true;var D=true;if(K.length>0){D=false;for(arrayIndex in K){if(K[arrayIndex]==C||K[arrayIndex]==q[C].code){D=true;break;}}}if(A&&t.stationCategories&&A.stationCategories){for(r=0;r<v.length;r=r+1){if(t.stationCategories.indexOf(v[r])>-1&&A.stationCategories.indexOf(v[r])>-1&&t.stationCategories[t.stationCategories.indexOf(v[r])]==A.stationCategories[A.stationCategories.indexOf(v[r])]){s=false;break;}}if(!s){break;}}if((C==t.code||q[C].code==t.code)&&D){F=true;H=true;break;}}}m[B][l].show=(F)?true:false;F=false;}}m[B].show=(H)?true:false;H=false;}}b=document.createElement("option");b.value="";selectBoxName=u.name.toLowerCase();b.appendChild(document.createTextNode(M[(selectBoxName.indexOf("origin")>0)?0:1]));u.appendChild(b);for(B in m){if(m.hasOwnProperty(B)&&m[B].show&&B!=="show"){if(m[B].show){z=document.createElement("optgroup");z.label=m[B].name||B;}var I=new Array();var f=new Array();var N=null;for(l in m[B]){if(m[B].hasOwnProperty(l)&&l!=="show"&&l!=="name"&&m[B][l].show){t=m[B][l];if(t.provinceStateCode&&t.provinceStateCode.toLowerCase()=="il"){I.push(t);I.show=true;}else{f.push(t);f.show=true;}}}for(l in f){if(f.hasOwnProperty(l)&&l!=="show"&&l!=="name"&&f[l].show){t=f[l];b=document.createElement("option");b.value=t.code;w=(y)?t.name+" ("+t.code+")":t.name;b.appendChild(document.createTextNode(w));z.appendChild(b);}}u.appendChild(z);if(I&&I.show){N=document.createElement("optgroup");N.label=J;N.setAttribute("class","island");}if(N){for(l in I){if(I.hasOwnProperty(l)&&l!=="show"&&l!=="name"&&I[l].show){t=I[l];b=document.createElement("option");b.value=t.code;w=t.name;b.appendChild(document.createTextNode(w));N.appendChild(b);}}u.appendChild(N);}}}if(a!==null){p.val(a);}}}}};SKYSALES.Util.showDiv=function(a){$("#"+a).show();};SKYSALES.Util.hideDiv=function(a){$("#"+a).hide();};SKYSALES.Util.cloneArray=function(a){return a.concat();};SKYSALES.Util.convertToLocaleCurrency=function(a){var b={"num":a};var c=new SKYSALES.Class.LocaleCurrency();c.init(b);return c.currency;};SKYSALES.Util.getTime=function(a,b,e){var c="";a=Number(a);b=Number(b);e=Number(e);if(isNaN(a)===false){a+=1;if(a>12){a=a-12;}if(a.toString().length===1){a="0"+a;}c=a;if(isNaN(b)===false){if(b.toString().length===1){b="0"+b;}c=c+":"+b;if(isNaN(e)===false){if(e.toString().length===1){e="0"+e;}c=c+":"+e;}}if(a>12){c=c+" PM";}else{c=c+" AM";}}return c;};SKYSALES.Util.getDate=function(c,e,a){var b="";c=Number(c);e=Number(e);a=Number(a);if(isNaN(c)===false){b=c;if(isNaN(e)===false){if(e.toString().length===1){e="0"+e;}b=b.toString()+e.toString();if(isNaN(a)===false){if(a.toString().length===1){a="0"+a;}b=b.toString()+a.toString();}}}return b;};SKYSALES.Util.dateDisplayFormat=function(f,a){if(f!=null){var e=SKYSALES.Util.getResource(),b=f.split("/"),c=new Date(b[2],b[0]-1,b[1]);if(f){return($.datepicker.formatDate(a,c,{dayNamesShort:e.dateCultureInfo.dayNamesShort,dayNames:e.dateCultureInfo.dayNames,monthNamesShort:e.dateCultureInfo.monthNamesShort,monthNames:e.dateCultureInfo.monthNames}));}}};if(!SKYSALES.Class.SkySales){SKYSALES.Class.SkySales=function(){var a=this;a.containerId="";a.container=null;a.init=SKYSALES.Class.SkySales.prototype.init;a.getById=SKYSALES.Class.SkySales.prototype.getById;a.setSettingsByObject=SKYSALES.Class.SkySales.prototype.setSettingsByObject;a.addEvents=SKYSALES.Class.SkySales.prototype.addEvents;a.setVars=SKYSALES.Class.SkySales.prototype.setVars;a.hide=SKYSALES.Class.SkySales.prototype.hide;a.show=SKYSALES.Class.SkySales.prototype.show;return a;};SKYSALES.Class.SkySales.prototype.init=function(a){this.setSettingsByObject(a);this.setVars();};SKYSALES.Class.SkySales.prototype.getById=function(b){var a=null;if(b){a=window.document.getElementById(b);}if(a){a=$(a);}else{a=$([]);}return a;};SKYSALES.Class.SkySales.prototype.setSettingsByObject=function(a){var b="";for(b in a){if(a.hasOwnProperty(b)){if(this[b]!==undefined){this[b]=a[b];}}}};SKYSALES.Class.SkySales.prototype.addEvents=function(){};SKYSALES.Class.SkySales.prototype.setVars=function(){this.container=$("#"+this.containerId);};SKYSALES.Class.SkySales.prototype.hide=function(){this.container.hide("slow");};SKYSALES.Class.SkySales.prototype.show=function(){this.container.show("slow");};}if(!SKYSALES.Class.BaseToggleView){SKYSALES.Class.BaseToggleView=function(){var a=SKYSALES.Class.SkySales();var b=SKYSALES.Util.extendObject(a);b.toggleViewIdArray=[];b.toggleViewArray=[];b.addToggleView=function(l){if(l.toggleViewIdArray){l=l.toggleViewIdArray;}var e=l||[];var c=null;var f=0;var m=null;if(e.length===undefined){e=[];e[0]=l;}for(f=0;f<e.length;f+=1){c=e[f];m=new SKYSALES.Class.ToggleView();m.init(c);b.toggleViewArray[b.toggleViewArray.length]=m;}};return b;};}SKYSALES.Class.Date=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.Day="";a.Month="";a.Hour="";a.Minute="";a.Second="";a.Year="";a.date=null;a.init=function(c){this.setSettingsByObject(c);this.initDateTime();};a.initDateTime=function(){this.date=new Date();this.date.setHours(this.Hour,this.Minute,this.Second,0);this.date.setFullYear(this.Year,this.Month-1,this.Day);};a.getTime=function(){var c=SKYSALES.Util.getTime(this.Hour,this.Minute);return c;};a.getDate=function(){var c=SKYSALES.Util.getDate(this.Year,this.Month,this.Day);return c;};return a;};if(!SKYSALES.Class.BaggagePrompt){SKYSALES.Class.BaggagePrompt=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.baggagePrompt="";a.init=function(c){this.setSettingsByObject(c);a.displayPrompt();};a.displayPrompt=function(){$(window).load(function(){if(a.baggagePrompt!=""){alert(a.baggagePrompt);}});};return a;};SKYSALES.Class.BaggagePrompt.createObject=function(a){SKYSALES.Util.createObject("baggagePrompt","BaggagePrompt",a);};}SKYSALES.Class.RedCarpetLegInput=function(){var a=new SKYSALES.Class.SkySales(),b=SKYSALES.Util.extendObject(a);b.clientId="";b.ssrAvailabilityArray=null;b.checkBoxRedCarpetArray=[];b.disableMarket=null;b.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();this.initSsrAvailabilityArray();this.initCheckBoxRedCarpetLegInputArray();};b.initSsrAvailabilityArray=function(){var f=0,l=this.ssrAvailabilityArray||[],c=l.length,e=null;for(f=0;f<c;f+=1){e=new SKYSALES.Class.SSRAvailability();e.init(l[f]);this.ssrAvailabilityArray[f]=e;}};b.initCheckBoxRedCarpetLegInputArray=function(){var e=0,f=this.checkBoxRedCarpetArray||[],c=f.length,l=null;for(e=0;e<c;e+=1){l=new SKYSALES.Class.CheckBoxRedCarpetLegInput();if(this.disableMarket!="none"&&e<parseInt(this.disableMarket)){l.isDisabled=true;}l.init(f[e],this.ssrAvailabilityArray[0]);this.checkBoxRedCarpetArray[e]=l;}};return b;};SKYSALES.Class.RedCarpetLegInput.createObject=function(a){SKYSALES.Util.createObject("redCarpetLegInput","RedCarpetLegInput",a);};SKYSALES.Class.CheckBoxRedCarpetLegInput=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.checkBoxRedCarpetId="";a.checkBoxRedCarpet={};a.quantityPrefix="";a.del="";a.passengerNumber=0;a.flightReference="";a.isFlightChange=false;a.isDisabled=false;a.checkBoxCounterCheckinId="";a.price="";a.disableJourney=false;a.init=function(e,c){this.setSettingsByObject(e);this.setVars();this.initCheckBoxRedCarpetLegInput();this.addEvents();};a.setVars=function(){if(this.price.substring(0,1)!=0){this.disableJourney=true;}a.checkBoxCounterCheckinId=a.checkBoxRedCarpetId.replace("RedCarpet","CounterCheckin");};a.initCheckBoxRedCarpetLegInput=function(){a.disableCounterCheckin();};a.addEvents=function(){if(this.disableJourney==true){$("#"+this.checkBoxRedCarpetId).click(a.disableCounterCheckin);}};a.disableCounterCheckin=function(){if($("#"+a.checkBoxRedCarpetId).attr("checked")){$("#"+a.checkBoxCounterCheckinId).attr("checked",false);if($("#"+a.checkBoxCounterCheckinId).length>0){SKYSALES.Util.updatePriceDisplay($("#"+a.checkBoxCounterCheckinId));}$("#"+a.checkBoxCounterCheckinId).attr("disabled",true);}else{$("#"+a.checkBoxCounterCheckinId).attr("disabled",false);}};return a;};if(!SKYSALES.Class.BookingDetail){SKYSALES.Class.BookingDetail=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.ssrChangePrompt="";a.showSsrPrompter="";a.confirmButtonId="";a.showSeniorCitizenPrompter=true;a.outSeniorCitizen="";a.init=function(c){this.setSettingsByObject(c);this.addEvent();};a.addEvent=function(){var c="";$("#"+this.confirmButtonId).click(this.displayPromptHandler);c=this.confirmButtonId.split("_");$("#"+c[0]+"_"+c[2]).click(this.displayPromptHandler);};a.displayPromptHandler=function(){return a.displayPrompt();};a.displayPrompt=function(){if(this.showSsrPrompter==="true"){if(confirm(this.ssrChangePrompt)){return true;}else{SKYSALES.RemoveLoadingBar();return false;}}if(this.showSeniorCitizenPrompter==="true"){return alert(this.outSeniorCitizen);}};return a;};SKYSALES.Class.BookingDetail.createObject=function(a){SKYSALES.Util.createObject("bookingDetail","BookingDetail",a);};}if(!SKYSALES.Class.FlightSearch){SKYSALES.Class.FlightSearch=function(){var c=new SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(c);a.optionHeaderText=null;a.promoStationsArray=null;a.marketArray=null;a.flightTypeInputIdArray=null;a.countryInputIdArray=null;a.confirmTextArray=null;a.actionId="";a.action=null;a.dropDownCurrencyId="";a.dropDownAdtId="";a.dropDownInfId="";a.dropDownChdId="";a.dropDownScpId="";a.dropDownPwdId="";a.seniorCitizenNational="";a.islandTransferCode="";a.readOnlyPanelCountries="";a.tooManyInfantsText="";a.tooManyPassengersTextPre="";a.tooManyPassengersTextPost="";a.noPassengersText="";a.infantArray=null;a.infantAgeText="";a.updateButtonId="";a.updateButton=null;a.updateButtonClicked=false;a.dateRangeError="";a.dateSameText="";a.originalDate=[];a.disableInputId="";a.insuranceControlId="";a.checkboxNotification="";a.maxpaxnum="";a.autoMacArray=[];a.autoMacMessage="";a.autoMacShown=" ";a.restrictedStationCategories=[];a.restrictedPairStationCategory=[];a.localizedMac=[];a.multiColumnOriginStationId="";a.multiColumnDestinationStationId="";a.textBoxOriginStationId="";a.textBoxDestinationStationId="";a.textBoxDepartDatePickerId="";a.textBoxDateDisplay=null;a.textBoxDateDisplayId="";a.buttonSubmitId="";a.islandGroupText="";a.missingCurrencyText="";a.jsDateFormat="";a.clientID="";a.jsDateFormat="";a.clientID="";var e=[];var b=[];a.init=function(f){this.setSettingsByObject(f);this.setVars();this.addEvents();this.initFlightTypeInputIdArray();this.initCountryInputIdArray();this.populateFlightType();this.initAutoMacArray();this.initDateDisplay();};a.initDateDisplay=function(){$(document).ready(function(){$("#"+a.clientID+"date_picker_display_id_1").click(function(){$(this).parent().find(".datepicker_trigger").click();$("#"+a.clientID+"date_picker_display_id_1").select();});$("#"+a.clientID+"date_picker_display_id_2").click(function(){$(this).parent().find(".datepicker_trigger").click();$("#"+a.clientID+"date_picker_display_id_2").select();});if(!$("#"+a.clientID+"date_picker_display_id_1").val()){$("#"+a.clientID+"date_picker_display_id_1").val(SKYSALES.Util.dateDisplayFormat($("#"+a.clientID+"date_picker_id_1").val(),a.jsDateFormat));}if(!$("#"+a.clientID+"date_picker_display_id_2").val()){$("#"+a.clientID+"date_picker_display_id_2").val(SKYSALES.Util.dateDisplayFormat($("#"+a.clientID+"date_picker_id_2").val(),a.jsDateFormat));}});};a.initAutoMacArray=function(){for(amIdx in a.autoMacArray){if(SKYSALES.Resource.macHash[a.autoMacArray[amIdx].MacStation]){a.autoMacArray[amIdx].Stations=SKYSALES.Resource.macHash[a.autoMacArray[amIdx].MacStation].stations;}}};a.setSettingsByObject=function(l){c.setSettingsByObject.call(this,l);var f=0;var m=this.marketArray||[];var n=null;for(f=0;f<m.length;f+=1){n=new SKYSALES.Class.FlightSearchMarket();n.optionHeaderText=this.optionHeaderText;n.flightSearch=this;n.index=f;n.autoMacArray=a.autoMacArray;n.restrictedStationCategories=this.restrictedStationCategories;n.restrictedPairStationCategory=this.restrictedPairStationCategory;n.localizedMac=a.localizedMac;n.islandGroupText=a.islandGroupText;n.dropDownScpId=a.dropDownScpId;n.dropDownPwdId=a.dropDownPwdId;n.seniorCitizenNational=a.seniorCitizenNational;n.islandTransferCode=a.islandTransferCode;n.readOnlyPanelCountries=a.readOnlyPanelCountries;n.dropDownCurrencyId=a.dropDownCurrencyId;n.missingCurrencyText=a.missingCurrencyText;n.init(m[f]);this.marketArray[f]=n;}};a.setVars=function(){c.setVars.call(this);a.action=$("#"+this.actionId);a.updateButton=$("input[type='submit'][id^='"+this.updateButtonId+"']");if(a.textBoxDateDisplayId){a.textBoxDateDisplay=$("input[id*='"+a.textBoxDateDisplayId+"']");}};a.addEvents=function(){c.addEvents.call(this);if(a.actionId){a.action.click(a.searchHandler);}if(a.updateButtonId){a.updateButton.click(a.searchUpdateHandler);}};a.searchUpdateHandler=function(){a.updateButtonClicked=true;return a.searchHandler();};a.searchHandler=function(){a.checkAutoMac();};a.checkAutoMac=function(){for(j=0;j<a.marketArray.length;j+=1){isAutoMac=false;autoMacStations="";for(i=0;i<a.autoMacArray.length;i+=1){if(a.autoMacShown.indexOf(a.autoMacArray[i].MacStation)<1){for(h=0;h<a.autoMacArray[i].Stations.length;h+=1){if($("#"+a.marketArray[j].marketInputIdArray[0].originId).val()==a.autoMacArray[i].Stations[h]||$("#"+a.marketArray[j].marketInputIdArray[0].destinationId).val()==a.autoMacArray[i].Stations[h]||$("#"+a.marketArray[j].marketInputIdArray[0].originId).val()==a.autoMacArray[i].MacStation||$("#"+a.marketArray[j].marketInputIdArray[0].destinationId).val()==a.autoMacArray[i].MacStation){for(g=0;g<a.autoMacArray[i].Stations.length;g+=1){stationCode=a.autoMacArray[i].Stations[g];if(SKYSALES.Resource.macStationHash[stationCode]){autoMacStations+="\n"+SKYSALES.Resource.macStationHash[stationCode].name+" ("+stationCode+")";}else{if(SKYSALES.Resource.stationHash[stationCode]){autoMacStations+="\n"+SKYSALES.Resource.stationHash[stationCode].name+" ("+stationCode+")";}}}a.autoMacShown+=" "+a.autoMacArray[i].MacStation+" ";a.autoMacMessage=a.autoMacArray[i].MacPrompter;isAutoMac=true;break;}}}if(isAutoMac==true){break;}}if((autoMacStations!="")&&(a.autoMacMessage)){alert(a.autoMacMessage);SKYSALES.RemoveLoadingBar();}}};a.checkSameDate=function(){if(a.dateSameText!=""&&$("#"+a.flightTypeInputIdArray[1].checkBoxId).is(":checked")==false){if($("#"+a.marketArray[0].marketDateIdArray[0].marketDateId).val()==$("#"+a.marketArray[1].marketDateIdArray[0].marketDateId).val()){return confirm(a.dateSameText);}}};a.searchChangeHandler=function(){a=this;var l=0;var n=null;var f=$("#"+this.insuranceControlId).is(":checked");if($("#"+this.insuranceControlId).length==0){f=true;}if(a.marketArray!=null&&f==true){if(a.marketArray.length>1){var m=a.checkDateRange();if(!m){return false;}}else{if($("#"+this.disableInputId).is(":checked")==false){alert(this.checkboxNotification);return false;}}for(l=0;l<a.marketArray.length;l++){n=a.marketArray[l];if(n.isToChange()&&n.compareDates()&&!confirm(a.confirmTextArray[l])){return false;}}}return a.checkInfantAge();};a.checkInfantAge=function(){if(a.marketArray!=null){var r=a.marketArray[a.marketArray.length-1];var f=a.marketArray[0];if(r.isToChange()){var l=r.getSearchDate();var n=f.getSearchDate();var p=new SKYSALES.Class.TravelerAge();var m=0;var q=null;for(m=0;m<a.infantArray.length;m+=1){q=a.infantArray[m];if(!p.isInfant(l,q,n)){alert(a.infantAgeText);return false;}}}}};a.checkDateRange=function(){var r,n,l,q;r=new Array();n=new Array();l=new Array();q=new Array();var f=(this.originalDate[0]).split("/");var p=(this.originalDate[1]).split("/");for(var m=0;m<a.marketArray.length;m++){r[m]=this.marketArray[m].marketDateIdArray[0].marketDateId;n[m]=$("#"+r[m]).val().split("/");l[m]=new Date(n[m][2],n[m][0]-1,n[m][1]);q[m]=$("#"+this.disableInputId[m]).is(":checked");}if(q[0]==false&&q[1]==false){alert(this.checkboxNotification);return false;}if(q[0]==false){l[0]=new Date(f[2],f[0]-1,f[1]);}if(q[1]==false){l[1]=new Date(p[2],p[0]-1,p[1]);}if(l[1]<l[0]){alert(this.dateRangeError);return false;}if(l[1].toString()==l[0].toString()){if(!confirm(this.dateSameText)){return false;}}return true;};a.checkInfantPax=function(){var f=$("#"+a.dropDownAdtId);var l=$("#"+a.dropDownInfId);if(f.val()<l.val()){alert(a.tooManyInfantsText);return false;}};a.checkNumPax=function(){var f=$("#"+a.dropDownAdtId);var m=$("#"+a.dropDownChdId);var q=$("#"+a.dropDownScpId);var l=$("#"+a.dropDownPwdId);var n=parseInt(f.val())+parseInt(m.val()),p=parseInt(f.val());if(q.length>0){n=n+parseInt(q.val());p=p+parseInt(q.val());}if(l.length>0){n=n+parseInt(l.val());p=p+parseInt(l.val());}if(p<=0){alert(a.noPassengersText);return false;}else{if(n>a.maxpaxnum){alert(a.tooManyPassengersTextPre+a.maxpaxnum+a.tooManyPassengersTextPost);return false;}}};a.initCountryInputIdArray=function(){var l=0;var f=null;var n={};var m=this.countryInputIdArray||[];for(l=0;l<m.length;l+=1){f=m[l];n=new SKYSALES.Class.CountryInput();n.init(f);e[e.length]=n;}};a.initFlightTypeInputIdArray=function(){var l=0;var n=null;var f={};var m=this.flightTypeInputIdArray||[];for(l=0;l<m.length;l+=1){n=m[l];f=new SKYSALES.Class.FlightTypeInput();f.flightSearch=this;f.index=l;f.checkBoxId=n.checkBoxId;f.init(n);b[b.length]=f;}};a.populateFlightType=function(){var f=0;var l=null;for(f=0;f<b.length;f+=1){l=b[f];if(l.input.attr("checked")){l.input.click();if($("#"+l.checkBoxId).length>0){$("#"+l.checkBoxId).attr("checked",true);}break;}}};a.updateFlightTypeShow=function(l){var f=0;var m=null;for(f=0;f<b.length;f+=1){m=b[f];m.hideInputArray.show();}};a.updateFlightTypeHide=function(f){this.updateFlightTypeShow();f.hideInputArray.hide();};return a;};SKYSALES.Class.FlightSearch.createObject=function(a){SKYSALES.Util.createObject("flightSearch","FlightSearch",a);};}if(!SKYSALES.Class.FlightSearchMarket){SKYSALES.Class.FlightSearchMarket=function(){var c=new SKYSALES.Class.SkySales();var b=SKYSALES.Util.extendObject(c);b.flightSearch=null;b.index=-1;b.validationMessageObject={};b.validationObjectIdArray=[];b.stationInputIdArray=[];b.stationDropDownIdArray=[];b.marketInputIdArray=[];b.macInputIdArray=[];b.marketDateIdArray=[];b.autoMacArray=[];b.disableMarket=false;b.localizedMac=[];b.restrictedStationCategories=[];b.restrictedPairStationCategory=[];b.dropDownScpId="";b.dropDownPwdId="";b.seniorCitizenNational="";b.islandTransferCode="";b.readOnlyPanelCountries="";b.optionHeaderText=null;var a=[];var e=[];var l=[];var f=[];var m=[];b.init=function(n){this.setSettingsByObject(n);this.setVars();this.addEvents();this.initMarketInputIdArray();this.initStationInputIdArray();this.initStationDropDownIdArray();this.initMacInputIdArray();this.initMarketDateIdArray();this.initValidationObjectRedirect();};b.initMacInputIdArray=function(){var p=0;var r=null;var n={};var q=this.macInputIdArray||[];for(p=0;p<q.length;p+=1){r=q[p];n=new SKYSALES.Class.MacInput();n.init(r);n.autoMacArray=b.autoMacArray;f[f.length]=n;n.showMac.call(n.stationInput);}};b.initMarketDateIdArray=function(){var n=0;var q=null;var r={};var p=this.marketDateIdArray||[];for(n=0;n<p.length;n+=1){q=p[n];r=new SKYSALES.Class.MarketDate();r.marketDateCount=this.flightSearch.marketArray.length;r.init(q);m[m.length]=r;}};b.compareDates=function(){return m[0].compareDates();};b.getSearchDate=function(){return m[0].marketDate.val();};b.initMarketInputIdArray=function(){var p=0;var n=null;var r={};var q=this.marketInputIdArray||[];for(p=0;p<q.length;p+=1){n=q[p];r=new SKYSALES.Class.MarketInput();marketOriginalId=this.flightSearch.marketArray[0].stationDropDownIdArray[0].inputId;r.promoStationsArray=this.flightSearch.promoStationsArray;r.optionHeaderText=b.optionHeaderText;r.restrictedStationCategories=this.restrictedStationCategories;r.restrictedPairStationCategory=this.restrictedPairStationCategory;r.localizedMac=b.localizedMac;r.multiColumnOriginStationId=this.flightSearch.multiColumnOriginStationId;r.multiColumnDestinationStationId=this.flightSearch.multiColumnDestinationStationId;r.textBoxOriginStationId=this.flightSearch.textBoxOriginStationId;r.textBoxDestinationStationId=this.flightSearch.textBoxDestinationStationId;r.textBoxDepartDatePickerId=this.flightSearch.textBoxDepartDatePickerId;r.buttonSubmitId=this.flightSearch.buttonSubmitId;r.islandGroupText=this.flightSearch.islandGroupText;r.dropDownScpId=b.dropDownScpId;r.dropDownPwdId=b.dropDownPwdId;r.seniorCitizenNational=b.seniorCitizenNational;r.islandTransferCode=b.islandTransferCode;r.readOnlyPanelCountries=b.readOnlyPanelCountries;r.dropDownCurrencyId=b.dropDownCurrencyId;r.missingCurrencyText=b.missingCurrencyText;r.init(n);a[a.length]=r;if(this.disableMarket){r.disableInput.attr("disabled",true);}}};b.isToChange=function(){if(a[1].disableInput.attr("checked")){return true;}return false;};b.initStationInputIdArray=function(){var n=0;var p=null;var r={};var q=this.stationInputIdArray;for(n=0;n<q.length;n+=1){p=q[n];r=new SKYSALES.Class.StationInput();r.init(p);e[e.length]=r;}};b.initStationDropDownIdArray=function(){var p=0;var r=null;var n={};var q=this.stationDropDownIdArray;for(p=0;p<q.length;p+=1){r=q[p];n=new SKYSALES.Class.StationDropDown();n.init(r);l[l.length]=n;if(p==0){n.selectBox.change();}}};b.initValidationObjectRedirect=function(){var w=this.validationObjectIdArray||[];var n=0;var v="";var u="";var t="";var p=null;var s=null;var q=null;for(n=0;n<w.length;n+=1){v=w[n];u=v.key||"";t=v.value||"";p=$("object.metaobject>param[value='"+u+"']");if(p.length>0){s=$(":input#"+t);if(s.length>0){q=p[0];if("value" in q){var r=q.value;r=r.replace(u,t);q.value=r;}}}}};return b;};}if(!SKYSALES.Class.MacInput){SKYSALES.Class.MacInput=function(){var a=new SKYSALES.Class.SkySales();var b=SKYSALES.Util.extendObject(a);b.macHash=SKYSALES.Util.getResource().macHash;b.stationHash=SKYSALES.Util.getResource().stationHash;b.stationInputId="";b.macContainerId="";b.macLabelId="";b.macInputId="";b.macContainer={};b.stationInput={};b.macInput={};b.macLabel={};b.autoMacArray=[];b.showMac=function(){var f=$(this).val();f=f||"";f=f.toUpperCase();var c=null;var e="";var m="";var l=null;b.macInput.removeAttr("checked");b.macContainer.hide();c=b.stationHash[f];if(c){e=c.macCode;isAutoMac=false;if(b.autoMacArray.length>0){for(i=0;i<b.autoMacArray.length;i+=1){if(b.autoMacArray[i].MacStation==e){isAutoMac=true;}}}l=b.macHash[e];if((l)&&(l.stations.length>0)){m=l.stations.join();b.macLabel.html(m);if(isAutoMac){b.macInput.attr("checked",true);}else{b.macContainer.show();}}}};b.addEvents=function(){b.stationInput.change(b.showMac);};b.setVars=function(){b.stationInput=$("#"+b.stationInputId);b.macContainer=$("#"+b.macContainerId);b.macLabel=$("#"+b.macLabelId);b.macInput=$("#"+b.macInputId);};b.init=function(c){a.init.call(this,c);b.macContainer.hide();this.addEvents();};return b;};}if(!SKYSALES.Class.MarketDate){SKYSALES.Class.MarketDate=function(){var b=new SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.dateFormat=SKYSALES.datepicker.datePickerFormat;a.dateDelimiter=SKYSALES.datepicker.datePickerDelimiter;a.marketDateId="";a.marketDate=null;a.marketAltDateId="";a.marketAltDate=null;a.marketDayId="";a.marketDay=null;a.marketMonthYearId="";a.marketMonthYear=null;a.origDate=null;a.marketDateCount="";a.marketDateFormat="";a.setSettingsByObject=function(c){b.setSettingsByObject.call(this,c);var e="";for(e in c){if(a.hasOwnProperty(e)){a[e]=c[e];}}};a.parseDate=function(m,e){var s="";var q="";var r="";var l=new Date();var f="";var t="";var n=[];var p=0;var c=a.dateFormat;if(e!=null&&e!=""){c=e;}if(m&&m.indexOf(a.dateDelimiter)>-1){n=m.split(a.dateDelimiter);dateFormatArray=c.split("/");for(p=0;p<dateFormatArray.length;p+=1){f=n[p];if(f.charAt(0)==="0"){f=f.substring(1);}t=dateFormatArray[p];switch(t){case"m":q=f;break;case"d":s=f;break;case"y":r=f;break;case"mm":q=f;break;case"dd":s=f;break;case"yy":r=f;break;}}l=new Date(r,q-1,s);}return l;};a.addEvents=function(){var c=new SKYSALES.Class.DatePickerManager();c.marketCount=a.marketDateCount;c.isAOS=false;c.yearMonth=a.marketMonthYear;c.day=a.marketDay;c.linkedDate=a.marketDate;c.linkedAltDateId=a.marketAltDateId;c.jsDateFormat=a.marketDateFormat;c.init();};a.setVars=function(){a.marketDate=$("#"+a.marketDateId);a.marketAltDate=$("#"+a.marketAltDateId);a.marketDay=$("#"+a.marketDayId);a.marketMonthYear=$("#"+a.marketMonthYearId);};a.init=function(c){b.init.call(this,c);this.addEvents();a.origDate=a.marketDate.val();};a.compareDates=function(){if(a.origDate!=a.marketDate.val()){return false;}return true;};a.datesInOrder=function(f){var l=true;var e=null;var c=null;e=this.parseDate(f[0],f[2]);c=this.parseDate(f[1],f[2]);if(e>c){l=false;}return l;};a.isOneDayOnly=function(f){var l=true;var e=null;var c=null;e=this.parseDate(f[0],f[2]);c=this.parseDate(f[1],f[2]);if(e>c||e<c){l=false;}return l;};return a;};}if(!SKYSALES.Class.CountryInput){SKYSALES.Class.CountryInput=function(){var b=new SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.countryInfo=SKYSALES.Util.getResource().countryInfo;a.countryInputId="";a.input={};a.defaultCountry="";a.countryArray=[];a.populateCountryInput=function(){var c={"selectBox":a.input,"objectArray":a.countryArray,"selectedItem":a.defaultCountry,"showCode":true};SKYSALES.Util.populateSelect(c);};a.addEvents=function(){};a.setVars=function(){a.input=$("#"+a.countryInputId);var c=a.countryInfo;if(c){if(c.CountryList){a.countryArray=c.CountryList;}if(c.DefaultValue){a.defaultCountry=c.DefaultValue;}}};a.init=function(c){b.init.call(this,c);a.populateCountryInput();this.addEvents();};return a;};}if(!SKYSALES.Class.FlightTypeInput){SKYSALES.Class.FlightTypeInput=function(){var b=new SKYSALES.Class.SkySales();var c=SKYSALES.Util.extendObject(b);c.flightSearch=null;c.index=-1;c.flightTypeId="";c.hideInputIdArray=[];c.hideInputArray=[];c.input={};var a=1;c.updateFlightTypeHandler=function(){c.flightSearch.updateFlightTypeHide(c);};c.addEvents=function(){b.addEvents.call(this);this.input.click(this.updateFlightTypeHandler);};c.getById=function(f){var e=null;if(f){e=window.document.getElementById(f);}return e;};c.setVars=function(){b.setVars.call(this);var e=0;var f=null;var l=[];c.input=$("#"+this.flightTypeId);for(e=0;e<this.hideInputIdArray.length;e+=1){f=c.getById(this.hideInputIdArray[e]);if(f){l[l.length]=f;}}c.hideInputArray=$(l);};c.init=function(e){this.setSettingsByObject(e);this.setVars();this.addEvents();};return c;};}if(!SKYSALES.Class.MarketInput){SKYSALES.Class.MarketInput=function(){var b=new SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.marketHash=SKYSALES.Util.getResource().marketHash;a.stationHash=SKYSALES.Util.getResource().stationHash;a.countryStationHash=SKYSALES.Util.getResource().countryStationHash;a.countryHash=SKYSALES.Util.getResource().countryHash;a.optionHeaderText=null;a.containerId="";a.container=null;a.containerTextId="";a.containerText=null;a.row1Id="";a.row2Id="";a.row3Id="";a.disableInputId="";a.disableInput=null;a.originId="";a.origin=null;a.destinationId="";a.destination=null;a.toggleMarketCount=0;a.marketOriginalId="";a.promoStationsArray=[];a.localizedMac=[];a.multiColumnOriginStationId="";a.multiColumnDestinationStationId="";a.multiColumnOriginStation="";a.multiColumnDestinationStation="";a.textBoxOriginStationId="";a.textBoxDestinationStationId="";a.textBoxOriginStation="";a.textBoxDestinationStation="";a.textBoxDepartDatePickerId="";a.departDatePicker="";a.buttonSubmitId="";a.buttonSubmit="";a.islandGroupText="";a.dropDownScpId="";a.dropDownPwdId="";a.seniorCitizenNational="";a.islandTransferCode="";a.readOnlyPanelCountries="";a.dropDownCurrencyId="";a.dropDownCurrency="";a.missingCurrencyText;a.initializeMacStationNames=function(){if(this.localizedMac){for(mac in this.localizedMac){if(this.stationHash[this.localizedMac[mac].StationCode]){this.stationHash[this.localizedMac[mac].StationCode].name=this.localizedMac[mac].StationName;}}}};a.restrictedStationCategories=[];a.restrictedPairStationCategory=[];a.originStation=[];a.destinationStation=[];a.isValidObject=true;a.toggleMarket=function(){if((a.toggleMarketCount%2)===0){$(a.container).hide();$(a.row2Id).show();$(a.row3Id).show();}else{$(a.container).show();$(a.row2Id).hide();$(a.row3Id).hide();}a.toggleMarketCount+=1;};a.useComboBox=function(c){var e=true;if(c&&c.get(0)&&c.get(0).options){e=false;}return e;};a.updateMarketOrigin=function(){var e=$(this).val();if(e==""){var e=$("#"+marketOriginalId).val();}e=e.toUpperCase();var n=a.marketHash[e];n=n||[];var f=null;var m=true;var c=a.stationHash[e];m=a.useComboBox(a.destination);if(m){f={"input":a.destination,"options":n,"optionHeaderText":a.optionHeaderText};SKYSALES.Class.DropDown.getDropDown(f);}else{var l=[];if(a.promoStationsArray&&a.promoStationsArray.length>0){for(stationArrayIndex in a.promoStationsArray){if(e==a.promoStationsArray[stationArrayIndex].originStation){l=a.promoStationsArray[stationArrayIndex].destStationArray;break;}}}f={"selectBox":a.destination,"promoStationsArray":l,"objectArray":n,"groupArray":a.countryStationHash,"showCode":true,"optionHeaderText":a.optionHeaderText,"restrictedStationCategory":a.restrictedStationCategories,"restrictedPairStationCategory":a.restrictedPairStationCategory,"islandGroupText":a.islandGroupText,"originObject":c};SKYSALES.Util.populateSelectWithGroups(f);}};a.updateMarketDestination=function(){var c=$(this).val();var f=$("#"+marketOriginalId).val();c=c.toUpperCase();f=f.toUpperCase();var e="";var l="";if(a.stationHash[f]){e=a.stationHash[f].countryCode;}if(a.stationHash[c]){l=a.stationHash[c].countryCode;}if(l==a.seniorCitizenNational&&e==a.seniorCitizenNational){if($("#"+a.dropDownScpId).parent().length>0){$("#"+a.dropDownScpId).parent().css("display","block");$("#"+a.dropDownScpId).width("130");}if($("#"+a.dropDownPwdId).parent().length>0){$("#"+a.dropDownPwdId).parent().css("display","block");$("#"+a.dropDownPwdId).width("130");}}else{if($("#"+a.dropDownScpId).parent().length>0){$("#"+a.dropDownScpId).val(0);$("#"+a.dropDownScpId).parent().css("display","none");}if($("#"+a.dropDownPwdId).parent().length>0){$("#"+a.dropDownPwdId).val(0);$("#"+a.dropDownPwdId).parent().css("display","none");}}};a.loadDestinationStationArray=function(q){var l=[],r=[],m={},n={},c=$(a.stationHash[q]).attr("country"),f=$(a.stationHash[q]).attr("countryCode");a.destinationStation=[];var e=a.restrictedStationCategories;$.each(a.countryStationHash,function(){var t=$(this).attr("country");l=[];r=[];$.each(a.marketHash[q],function(){var w=$(a.stationHash[$(this).attr("code")]);if($(a.stationHash[$(this).attr("code")]).attr("country")==t){if(a.islandTransferCode&&$(a.stationHash[$(this).attr("code")]).attr("provinceStateCode")==a.islandTransferCode){if(a.promoStationsArray&&a.promoStationsArray.length>0){for(stationArrayIndex in a.promoStationsArray){if($.inArray($(this).attr("code"),a.promoStationsArray[stationArrayIndex].destStationArray)>=0&&q==a.promoStationsArray[stationArrayIndex].originStation){r.push({"label":$(this).attr("name"),"value":$(this).attr("code")});break;}}}else{if($.inArray($(w).attr("stationCategories"),e)<0){r.push({"label":$(this).attr("name"),"value":$(this).attr("code")});}}}else{if(a.promoStationsArray&&a.promoStationsArray.length>0){for(stationArrayIndex in a.promoStationsArray){if($.inArray($(this).attr("code"),a.promoStationsArray[stationArrayIndex].destStationArray)>=0&&q==a.promoStationsArray[stationArrayIndex].originStation){l.push({"label":$(this).attr("name")+" ("+$(this).attr("code")+")","value":$(this).attr("code")});break;}}}else{if($.inArray($(w).attr("stationCategories"),e)<0){if($(this).attr("macCode")==null||$(this).attr("macCode")==""){var v=false;for(var x=0,u=l.length;x<u&&v===false;x++){if(l[x]["value"]===$(this).attr("code")){v=true;}}if(v===false){l.push({"label":$(this).attr("name")+" ("+$(this).attr("code")+")","value":$(this).attr("code")});}}}}}}});if(l.length>0){a.destinationStation.push({"category":$(this).attr("country"),"id":$(this).attr("countryCode"),"items":l});}if(r.length>0){a.destinationStation.push({"category":a.islandGroupText,"id":$(this).attr("countryCode"),"items":r});}});a.destinationStation.sort(function(v,t){var w=v.category.toLowerCase(),u=t.category.toLowerCase();if(w<u){return -1;}if(w>u){return 1;}return 0;});$.each(a.marketHash[q],function(){m[$(this).attr("code")]=$(this).attr("name");});var s=(a.readOnlyPanelCountries&&(a.promoStationsArray.length==0))?a.readOnlyPanelCountries.split(","):"";if(f&&s.length>0&&$.inArray(f,s)!=-1){a.multiColumnDestinationStation.multicoldd("option","cols",6);var p=a.multiColumnOriginStation.multicoldd("option","data");$.each(p,function(u,v){var t={category:v.category,items:[],panel:1};$.each(v.items,function(w,x){if(!m[x.value]){t.items.push({label:x.label,value:x.value,disabled:true});m[x.value]=a.stationHash[x.value].name;}});if(t.items.length){a.destinationStation.push(t);}});}else{a.multiColumnDestinationStation.multicoldd("option","cols",6);}a.multiColumnDestinationStation.multicoldd({data:a.destinationStation});};a.validateMarketAndCurrency=function(){var c="";if(a.textBoxOriginStation.val()==""||a.textBoxDestinationStation.val()==""){if(a.textBoxOriginStation.val()==""&&a.textBoxDestinationStation.val()==""){c=c==""?a.multiColumnOriginStation.attr("empty-error"):c;}else{if(a.textBoxOriginStation.val()!=""&&a.textBoxDestinationStation.val()==""){c=c==""?a.multiColumnDestinationStation.attr("market-error"):c;}else{if(a.textBoxOriginStation.val()==""&&a.textBoxDestinationStation.val()!=""){c=c==""?a.multiColumnOriginStation.attr("market-error"):c;}}}}if(a.dropDownCurrency.val()==""){c=c==""?a.missingCurrencyText:c;}if(c!=""){SKYSALES.RemoveLoadingBar();return false;}return true;};a.initializeMarketControls=function(){var f=[];if(a.promoStationsArray&&a.promoStationsArray.length>0){for(stationArrayIndex in a.promoStationsArray){f.push(a.promoStationsArray[stationArrayIndex].originStation);}}var e=a.restrictedStationCategories;var c=[],l=[];$.each(a.countryStationHash,function(){var m=this.name;c=[];l=[];$.each(this,function(){if($(this).attr("country")==m){if(a.islandTransferCode&&$(this).attr("provinceStateCode")==a.islandTransferCode){if(f&&f.length>0){if($.inArray($(this).attr("code"),f)>=0){l.push({"label":$(this).attr("name"),"value":$(this).attr("code")});}}else{if($.inArray($(this).attr("stationCategories"),e)<0){l.push({"label":$(this).attr("name"),"value":$(this).attr("code")});}}}else{if(f&&f.length>0){if($.inArray($(this).attr("code"),f)>=0){c.push({"label":$(this).attr("name")+" ("+$(this).attr("code")+")","value":$(this).attr("code")});}}else{if($.inArray($(this).attr("stationCategories"),e)<0){if($(this).attr("macCode")==null||$(this).attr("macCode")==""){c.push({"label":$(this).attr("name")+" ("+$(this).attr("code")+")","value":$(this).attr("code")});}}}}}});if(c.length>0){a.originStation.push({"category":$(this).attr("country"),"id":$(this).attr("countryCode"),"items":c});}if(l.length>0){a.originStation.push({"category":a.islandGroupText,"id":$(this).attr("countryCode"),"items":l});}});a.originStation.sort(function(p,m){var q=p.category.toLowerCase(),n=m.category.toLowerCase();if(q<n){return -1;}if(q>n){return 1;}return 0;});if(a.multiColumnOriginStation.length>0){a.multiColumnOriginStation.multicoldd({emptyLabel:a.multiColumnOriginStation.attr("data-label"),emptyText:a.multiColumnOriginStation.attr("data-emptytext"),emptyResultText:a.multiColumnOriginStation.attr("emptyresult"),showAllLinkText:a.multiColumnOriginStation.attr("data-showalltext"),closeTooltip:a.multiColumnOriginStation.attr("data-closetooltip"),isRTL:$("html").attr("dir")=="rtl"||$(".compact-div").attr("dir")=="rtl",data:a.originStation,speed:"fast",autoSelect:false,cols:6,rows:8,enablePreSelect:true,select:function(q,r){var n=r.value;var p=r.category;var m=r.categoryId;a.loadDestinationStationArray(n);a.multiColumnDestinationStation.multicoldd("clearSelection");a.multiColumnDestinationStation.multicoldd("focus");a.multiColumnDestinationStation.multicoldd("show");a.textBoxOriginStation.val(n);a.textBoxOriginStation.trigger("change");},beforeOpen:function(m){if(($(m).multicoldd("value")==""||$(m).multicoldd("value")==this.emptyLabel)){$(m).multicoldd("label","");}},open:function(n){a.multiColumnDestinationStation.multicoldd("hide");if(($(n).multicoldd("value")==""||$(n).multicoldd("value")==this.emptyLabel)){$(n).multicoldd("label","");}var m=$(n.dialog).offset().top;$("html:not(:animated),body:not(:animated)").animate({scrollTop:m-30},500);return false;},close:function(m){if($(m).multicoldd("label")==""||$(m).multicoldd("label")==this.emptyLabel){$(m).multicoldd("label",a.multiColumnOriginStation.attr("data-label"));a.textBoxOriginStation.val("");a.multiColumnDestinationStation.multicoldd({data:{}});}return false;}});}if(a.multiColumnDestinationStation.length>0){a.multiColumnDestinationStation.multicoldd({emptyLabel:a.multiColumnDestinationStation.attr("data-label"),emptyText:a.multiColumnDestinationStation.attr("data-emptytext"),emptyResultText:a.multiColumnDestinationStation.attr("emptyresult"),showAllLinkText:a.multiColumnDestinationStation.attr("data-showalltext"),closeTooltip:a.multiColumnDestinationStation.attr("data-closetooltip"),isRTL:$("html").attr("dir")=="rtl"||$(".compact-div").attr("dir")=="rtl",data:{},speed:"fast",autoSelect:false,cols:6,rows:8,enablePreSelect:true,panels:[{caption:""},{caption:a.multiColumnDestinationStation.attr("data-readonly-panel-caption"),cssClass:"readonly-panel"}],select:function(m,n){a.departDatePicker.datepicker("show");a.textBoxDestinationStation.val(n.value);a.textBoxDestinationStation.trigger("change");},beforeOpen:function(m){if($(m).multicoldd("value")==""||$(m).multicoldd("value")==this.emptyLabel){$(m).multicoldd("label","");}},open:function(n){$(n.dialog).find(".multicoldd-column").css("height",$(n.dialog).find(".multicoldd-content").height()+"px");if(($(n).multicoldd("value")==""||$(n).multicoldd("value")==this.emptyLabel)){$(n).multicoldd("label","");}var m=$(n.dialog).offset().top;$("html:not(:animated),body:not(:animated)").animate({scrollTop:m-30},500);return false;},onreload:function(n){if($(n.dialog).is(":visible")){$(n.dialog).find(".multicoldd-column").css("height",$(n.dialog).find(".multicoldd-content").height()+"px");if($(n).multicoldd("label")!=""){var m=n.dialog;$(m).find(".multicoldd-column.readonly-panel").hide();var p=$(m).find(".multicoldd-column:eq(0)").outerWidth()+parseInt($(m).find(".multicoldd-column:eq(0)").css("margin-left"))+parseInt($(m).find(".multicoldd-column:eq(0)").css("margin-right"));var q=(m.find(".multicoldd-content").outerWidth()-m.find(".multicoldd-content").width())+(m.children(".multicoldd-wrapper").outerWidth()-m.children(".multicoldd-wrapper").width());$(m).children(".multicoldd-wrapper").css("width",($(m).find(".multicoldd-column:not(.readonly-panel)").length*p+q)+"px");}}},close:function(m){if($(m).multicoldd("label")==""||$(m).multicoldd("label")==this.emptyLabel){$(m).multicoldd("label",a.multiColumnDestinationStation.attr("data-label"));a.textBoxDestinationStation.val("");}return false;}});}if(a.textBoxOriginStation.val()){a.multiColumnOriginStation.multicoldd("value",a.textBoxOriginStation.val());a.loadDestinationStationArray(a.textBoxOriginStation.val());}if(a.textBoxDestinationStation.val()){a.multiColumnDestinationStation.multicoldd("value",a.textBoxDestinationStation.val());}if(a.multiColumnOriginStation.length>0){a.multiColumnOriginStation.multicoldd("id",a.multiColumnOriginStation.attr("id")+"_1",a.multiColumnOriginStation.attr("requirederror"),a.multiColumnOriginStation.attr("data-label"));a.multiColumnDestinationStation.multicoldd("id",a.multiColumnDestinationStation.attr("id")+"_1",a.multiColumnDestinationStation.attr("requirederror"),a.multiColumnDestinationStation.attr("data-label"));}};a.addEvents=function(){b.addEvents.call(this);a.origin.change(a.updateMarketOrigin);a.destination.change(a.updateMarketDestination);a.disableInput.click(a.toggleMarket);a.buttonSubmit.unbind("click").bind("click",a.validateMarketAndCurrency);};a.setVars=function(){b.setVars.call(this);a.container=$("#"+a.containerId);a.containerText=$("#"+a.containerTextId);a.row1Id=$("#"+a.row1Id);a.row2Id=$("#"+a.row2Id);a.row3Id=$("#"+a.row3Id);a.disableInput=$("#"+a.disableInputId);a.origin=$("#"+a.originId);a.destination=$("#"+a.destinationId);a.multiColumnOriginStation=$("#"+a.multiColumnOriginStationId);a.multiColumnDestinationStation=$("#"+a.multiColumnDestinationStationId);a.textBoxOriginStation=$("#"+a.textBoxOriginStationId);a.textBoxDestinationStation=$("#"+a.textBoxDestinationStationId);a.departDatePicker=$("#"+a.textBoxDepartDatePickerId);a.buttonSubmit=$("#"+a.buttonSubmitId);a.dropDownCurrency=$("select[id*='"+a.dropDownCurrencyId+"']");};a.populateMarketInput=function(c){var l=true;var e={};if((c)&&(c.length>0)){l=a.useComboBox(c);if(l){e={"input":c,"options":this.stationHash,"optionHeaderText":a.optionHeaderText,"restrictedStationCategory":this.restrictedStationCategories};SKYSALES.Class.DropDown.getDropDown(e);}else{var f=[];if(a.promoStationsArray&&a.promoStationsArray.length>0){for(stationArrayIndex in a.promoStationsArray){f.push(a.promoStationsArray[stationArrayIndex].originStation);}}e={"selectBox":c,"promoStationsArray":f,"objectArray":this.stationHash,"groupArray":a.countryStationHash,"showCode":true,"optionHeaderText":a.optionHeaderText,"islandGroupText":a.islandGroupText,"restrictedStationCategory":this.restrictedStationCategories};SKYSALES.Util.populateSelectWithGroups(e);}}};a.init=function(c){b.init.call(this,c);this.addEvents();a.initializeMarketControls();a.initializeMacStationNames();a.populateMarketInput(a.origin);a.populateMarketInput(a.destination);a.disableInput.click();a.disableInput.removeAttr("checked");};return a;};}if(!SKYSALES.Class.StationInput){SKYSALES.Class.StationInput=function(){var b=new SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.stationInputId="";a.stationInput=null;a.setVars=function(){b.setVars.call(this);a.stationInput=$("#"+this.stationInputId);};a.init=function(c){b.init.call(this,c);this.addEvents();};return a;};}if(!SKYSALES.Class.StationDropDown){SKYSALES.Class.StationDropDown=function(){var b=new SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.selectBoxId="";a.selectBox=null;a.inputId="";a.input=null;a.updateStationDropDown=function(){var f=$(this).val();if(f!=""){try{a.selectBox.val(f);}catch(c){}}else{$(this).val(this.defaultValue);}};a.updateStationInput=function(){var c=$(this).val();a.input.val(c);a.input.change();};a.addEvents=function(){a.input.change(a.updateStationDropDown);a.selectBox.change(a.updateStationInput);};a.setVars=function(){a.selectBox=$("#"+a.selectBoxId);a.input=$("#"+a.inputId);};a.init=function(c){b.init.call(this,c);this.addEvents();a.input.change();};return a;};}if(!SKYSALES.Class.TravelDocumentInput){SKYSALES.Class.TravelDocumentInput=function(){var b=new SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.instanceName="";a.delimiter="_";a.travelDocumentInfoId="";a.travelDocumentInfo=null;a.documentNumberId="";a.documentNumber=null;a.documentTypeId="";a.documentType=null;a.documentIssuingCountryId="";a.documentIssuingCountry=null;a.documentExpYearId="";a.documentExpYear=null;a.documentExpMonthId="";a.documentExpMonth=null;a.documentExpDayId="";a.documentExpDay=null;a.actionId="";a.action=null;a.travelDocumentKey="";a.missingDocumentText="";a.missingDocumentTypeText="";a.invalidExpDateText="";a.emptyExpDateText="";a.invalidDaysOfMonthTextPre="";a.invalidDaysOfMonthTextMid="";a.invalidDaysOfMonthTextPost="";a.missingDocumentNumberText="";a.missingDocumentCountryText="";a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();};a.setVars=function(){a.travelDocumentInfo=this.getById(this.travelDocumentInfoId);a.documentType=this.getById(this.documentTypeId);a.documentNumber=this.getById(this.documentNumberId);a.documentIssuingCountry=this.getById(this.documentIssuingCountryId);a.documentExpYear=this.getById(this.documentExpYearId);a.documentExpMonth=this.getById(this.documentExpMonthId);a.documentExpDay=this.getById(this.documentExpDayId);a.action=this.getById(this.actionId);};a.setTravelDocumentInfo=function(){var l="";var c=this.documentType.val();var e=this.documentNumber.val();var f=this.documentIssuingCountry.val();if(c&&e&&f){l=this.delimiter+c+this.delimiter+e+this.delimiter+f;this.travelDocumentInfo.val(l);}return true;};a.validateTravelDocumentHandler=function(){var c=a.validateTravelDocument();return c;};a.validateTravelDocument=function(){this.setTravelDocumentInfo();var e=this.action.get(0);var c=window.validate(e)&&this.validateInput();return c;};a.addEvents=function(){this.action.click(this.validateTravelDocumentHandler);};a.validateInput=function(){var c=true;var e="";var q="";var u=this.documentNumber.val()||"";var p=this.documentExpYear.val()||"";var f=this.documentExpMonth.val()||"";var l=this.documentExpDay.val()||"";var t=this.documentType.val()||"";var r=this.documentIssuingCountry.val()||"";var m=false;var n=false;var s="";if(u||t||r||p||f||l){if(!u){e=e+this.missingDocumentNumberText+"\n";}if(!t){e=e+this.missingDocumentTypeText+"\n";}if(!r){e=e+this.missingDocumentCountryText+"\n";}n=this.checkDaysOfMonth(l,f,p);m=this.isPastDate(l,f,p);if(l&&f&&p){if(!n){s=this.documentExpMonth.find(":selected").text();q=this.invalidDaysOfMonthTextPre+l;q+=this.invalidDaysOfMonthTextMid+s+this.invalidDaysOfMonthTextPost;e=e+q+"\n";}else{if(!m){e=e+this.invalidExpDateText+"\n";}}}else{e=e+this.emptyExpDateText+"\n";}if(e){window.alert(this.missingDocumentText+"\n"+e);c=false;}}return c;};a.checkDaysOfMonth=function(f,p,l){l=window.parseInt(l,10);p=window.parseInt(p,10);f=window.parseInt(f,10);var n=false;var m=null;var c=-1;var e=null;if(l&&p&&f){p-=1;m=new Date();m.setMonth(2);m.setDate(1);m.setDate(m.getDate()-1);c=m.getDate();e=[31,c,31,30,31,30,31,31,30,31,30,31];if(f<=e[p]){n=true;}}return n;};a.isPastDate=function(e,n,l){l=window.parseInt(l,10);n=window.parseInt(n,10);e=window.parseInt(e,10);var m=false;var c=null;var f=null;if(l&&n&&e){n-=1;c=new Date();f=new Date(l,n,e);if(f>c){m=true;}}return m;};return a;};}if(!SKYSALES.Class.ControlGroup){SKYSALES.Class.ControlGroup=function(){var b=new SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.actionId="SkySales";a.action=null;a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();};a.setVars=function(){b.setVars.call(this);a.action=$("#"+this.actionId);};a.addEvents=function(){b.addEvents.call(this);this.action.click(this.validateHandler);};a.validateHandler=function(){var c=a.validate();return c;};a.validate=function(){var c=this.action.get(0);var e=window.validate(c);return e;};return a;};SKYSALES.Class.ControlGroup.createObject=function(a){SKYSALES.Util.createObject("controlGroup","ControlGroup",a);};}if(!SKYSALES.Class.ControlGroupRegister){SKYSALES.Class.ControlGroupRegister=function(){var b=new SKYSALES.Class.ControlGroup();var a=SKYSALES.Util.extendObject(b);a.travelDocumentInput=null;a.setSettingsByObject=function(c){b.setSettingsByObject.call(this,c);var e=new SKYSALES.Class.TravelDocumentInput();e.init(this.travelDocumentInput);a.travelDocumentInput=e;};a.validateHandler=function(){var c=a.validate();return c;};a.validate=function(){var c=false;c=(this.travelDocumentInput.setTravelDocumentInfo()&&this.travelDocumentInput.validateExpDate());if(c){c=b.validate.call(this);}return c;};return a;};SKYSALES.Class.ControlGroupRegister.createObject=function(a){SKYSALES.Util.createObject("controlGroupRegister","ControlGroupRegister",a);};}if(!SKYSALES.Class.MemberLogin){SKYSALES.Class.MemberLogin=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.buttonLogInId="";a.buttonLogIn=null;a.setVars=function(){a.buttonLogIn=$("#"+this.buttonLogInId);};a.addEvents=function(){if(this.buttonLogIn&&this.buttonLogIn.length>0){a.buttonLogIn.click(this.loginSubmitHandler);}};a.init=function(c){b.setSettingsByObject.call(this,c);this.setVars();this.addEvents();};a.loginSubmitHandler=function(){var c=validate(this);if(c&&preventDoubleClick()){SKYSALES.DisplayLoadingBar();}return c;};return a;};SKYSALES.Class.MemberLogin.createObject=function(a){SKYSALES.Util.createObject("memberLogin","MemberLogin",a);};}if(!SKYSALES.Class.ContactInput){SKYSALES.Class.ContactInput=function(){var a=new SKYSALES.Class.SkySales();var b=SKYSALES.Util.extendObject(a);b.clientId="";b.keyIdArray=[];b.keyArray=[];b.clientStoreIdHash=null;b.countryInputId="";b.countryInput=null;b.stateInputId="";b.stateInput=null;b.countryStateHash=null;b.imContactId="";b.imContact=null;b.currentContactData={};b.logOutButton=null;b.homePhone=null;b.workPhone=null;b.otherPhone=null;b.faxPhone=null;b.homePhoneId="";b.workPhoneId="";b.otherPhoneId="";b.faxPhoneId="";b.dropdownTitleId="";b.dropdownGenderId="";b.dropdownTitle=null;b.dropdownGender=null;b.selectCountryText="";b.selectStateText="";b.provinceStateCode="";b.stateArray=[];b.bSeperatePhoneFieldFlag="";b.otherPhoneNoId="";b.workPhoneNoId="";b.homePhoneNoId="";b.faxPhoneNoId="";b.otherPhoneNo=null;b.workPhoneNo=null;b.homePhoneNo=null;b.faxPhoneNo=null;b.dropdownotherPhoneIDCId="";b.dropdownworkPhoneIDCId="";b.dropdownhomePhoneIDCId="";b.dropdownfaxPhoneIDCId="";b.dropdownotherPhoneIDC=null;b.dropdownworkPhoneIDC=null;b.dropdownhomePhoneIDC=null;b.dropdownfaxPhoneIDC=null;b.organizationDefaultCode="";b.organizationCodeInputId="";b.parentCountryCode="";b.clientHash=SKYSALES.Util.getResource().clientHash;b.setSettingsByObject=function(c){a.setSettingsByObject.call(this,c);var e="";for(e in c){if(b.hasOwnProperty(e)){b[e]=c[e];}}};b.clearCurrentContact=function(){$("#"+b.clientId+"_DropDownListTitle").val("");$("#"+b.clientId+"_TextBoxHomePhone").val("");$("#"+b.clientId+"_TextBoxWorkPhone").val("");$("#"+b.clientId+"_TextBoxOtherPhone").val("");$("#"+b.clientId+"_TextBoxFax").val("");$("#"+b.clientId+"_TextBoxEmailAddress").val("");if(b.bSeperatePhoneFieldFlag=="TRUE"){$("#"+b.clientId+"_TextBoxHomePhoneNo").val("");$("#"+b.clientId+"_TextBoxWorkPhoneNo").val("");$("#"+b.clientId+"_TextBoxOtherPhoneNo").val("");$("#"+b.clientId+"_TextBoxFaxNo").val("");$("#"+b.clientId+"_DropDownListHomePhoneIDC").val("");$("#"+b.clientId+"_DropDownListWorkPhoneIDC").val("");$("#"+b.clientId+"_DropDownListOtherPhoneIDC").val("");$("#"+b.clientId+"_DropDownListBoxFaxIDC").val("");}};b.populateCurrentContact=function(){if(b.currentContactData){if(b.imContact.attr("checked")===true){$("#"+b.clientId+"_DropDownListTitle").val(b.currentContactData.title);if(b.currentContactData.firstName!=""){$("#"+b.clientId+"_TextBoxFirstName").val(b.currentContactData.firstName);}else{$("#"+b.clientId+"_TextBoxFirstName").val(b.currentContactData.lastName);}$("#"+b.clientId+"_TextBoxMiddleName").val(b.currentContactData.middleName);$("#"+b.clientId+"_TextBoxLastName").val(b.currentContactData.lastName);$("#"+b.clientId+"_TextBoxHomePhone").val(b.currentContactData.eveningPhone);$("#"+b.clientId+"_TextBoxWorkPhone").val(b.currentContactData.dayPhone);$("#"+b.clientId+"_TextBoxOtherPhone").val(b.currentContactData.mobilePhone);$("#"+b.clientId+"_TextBoxFax").val(b.currentContactData.faxPhone);$("#"+b.clientId+"_TextBoxEmailAddress").val(b.currentContactData.email);}else{b.clearCurrentContact();}}};b.populateCountrySelect=function(){var f="";if($(b.imContact).is(":checked")||(!$(b.imContact).is(":visible")&&$("#"+b.countryInputId+"_value").val()!="")){f=$("#"+b.countryInputId+"_value").val();}else{f=$("#"+b.countryInputId).val();}var c=SKYSALES.Util.getResource().countryInfo.CountryList;c.unshift({InternationalDialCode:"",code:"",name:b.selectCountryText});var e={"selectBox":$("#"+b.countryInputId),"objectArray":c,"selectedItem":f,"showCode":false};SKYSALES.Util.populateSelect(e);};b.updateCountry=function(){if(b.stateArray.length==0){var c=SKYSALES.Util.getResource().stateInfo.StateList;var e=b.stateInput.val();for(stateIndex in c){if(c[stateIndex].ProvinceStateCode==e){b.countryInput.val(c[stateIndex].CountryCode);break;}}}};b.updateStateAndPhoneNumbers=function(){b.updatePhoneNumbers();b.updateState();};b.updatePhoneNumbers=function(){var e=b.countryInput.val();var c=SKYSALES.Util.getResource().countryInfo.CountryList;for(i=0;i<c.length;i+=1){country=c[i];if(e==country.code){if(b.bSeperatePhoneFieldFlag=="TRUE"){b.setSelectedIDC(b.dropdownworkPhoneIDC[0],country.InternationalDialCode);b.setSelectedIDC(b.dropdownhomePhoneIDC[0],country.InternationalDialCode);b.setSelectedIDC(b.dropdownotherPhoneIDC[0],country.InternationalDialCode);b.setSelectedIDC(b.dropdownfaxPhoneIDC[0],country.InternationalDialCode);b.updateworkPhone();b.updatehomePhone();b.updateotherPhone();b.updatefaxPhone();}else{b.homePhone.val(country.InternationalDialCode);b.workPhone.val(country.InternationalDialCode);b.otherPhone.val(country.InternationalDialCode);b.faxPhone.val(country.InternationalDialCode);}break;}}};b.setSelectedIDC=function(f,e){for(var c=0;c<f.options.length;c++){if(f.options[c].value==e){f.options[c].selected=true;return;}}};b.updateState=function(){var c=SKYSALES.Util.getResource().stateInfo.StateList;var n=b.countryInput.val();var e=[];var l={};var p=[];if(n!==""){var f=0;for(stateIndex in c){if(c[stateIndex].CountryCode==n){e.push(c[stateIndex]);}}e=e||[];b.stateArray=e;if(e.length===0){e=c;}}if(e.length==0||e[0].code!=""){e.unshift({InternationalDialCode:"",code:"",name:b.selectStateText||"Select State"});}var m={"objectArray":e,"selectBox":b.stateInput,"showCode":false,"clearOptions":true};SKYSALES.Util.populateSelect(m);};b.getKey=function(){var l=0;var c=b.keyArray;var e=null;var f="";for(l=0;l<c.length;l+=1){e=c[l];f+=e.val();}f=f.replace(/\s+/g,"+");f=b.clientId+"_"+(f.toLowerCase());return f;};b.populateClientStoreIdHash=function(){var q=b.clientHash;var m=0;var l="";var e=[];var c="";var p=-1;var f=b.getKey();var n=null;b.clientStoreIdHash={};if(f&&q&&q[f]){b.clientStoreIdHash=b.clientStoreIdHash||{};l=q[f];e=l.split("&");for(m=0;m<e.length;m+=1){c=e[m];p=c.indexOf("=");if(p>-1){f=c.substring(0,p);n=c.substring(p+1,c.length);if(f){b.clientStoreIdHash[f]=n;}}}}};b.autoPopulateForm=function(){b.populateClientStoreIdHash();var c=b.clientStoreIdHash;var e="";var f="";for(e in c){if(c.hasOwnProperty(e)){f=c[e];$("#"+e).val(f);}}};b.updateGender=function(){var c=b.dropdownTitle.val();var e=SKYSALES.Util.getResource().titleInfo.TitleList;for(i=0;i<e.length;i+=1){title=e[i];if(c==title.TitleKey){b.dropdownGender.val(title.GenderCode);break;}}};b.updateworkPhone=function(){b.workPhone.val(b.dropdownworkPhoneIDC.val()+b.workPhoneNo.val());};b.updatehomePhone=function(){b.homePhone.val(b.dropdownhomePhoneIDC.val()+b.homePhoneNo.val());};b.updateotherPhone=function(){b.otherPhone.val(b.dropdownotherPhoneIDC.val()+b.otherPhoneNo.val());};b.updatefaxPhone=function(){b.faxPhone.val(b.dropdownfaxPhoneIDC.val()+b.faxPhoneNo.val());};b.updateTitle=function(){var c=b.dropdownGender.val();var e=b.dropdownTitle.val();var f=SKYSALES.Util.getResource().titleInfo.TitleList;for(i=0;i<f.length;i+=1){title=f[i];if(e!="CHD"&&c==title.GenderCode){b.dropdownTitle.val(title.TitleKey);break;}}};b.addEvents=function(){a.addEvents.call(this);var f=0;var c=b.keyArray;var e=null;for(f=0;f<c.length;f+=1){e=c[f];e.change(b.autoPopulateForm);}b.imContact.click(b.populateCurrentContact);b.logOutButton.click(b.clearCurrentContact);b.dropdownTitle.change(this.updateGender);b.dropdownGender.change(this.updateTitle);if(b.bSeperatePhoneFieldFlag=="TRUE"){b.dropdownworkPhoneIDC.change(b.updateworkPhone);b.dropdownhomePhoneIDC.change(b.updatehomePhone);b.dropdownotherPhoneIDC.change(b.updateotherPhone);b.dropdownfaxPhoneIDC.change(b.updatefaxPhone);b.workPhoneNo.change(b.updateworkPhone);b.homePhoneNo.change(b.updatehomePhone);b.otherPhoneNo.change(b.updateotherPhone);b.faxPhoneNo.change(b.updatefaxPhone);}};b.setVars=function(){a.setVars.call(this);var e=0;var f=b.keyIdArray;var c=b.keyArray;var l="";for(e=0;e<f.length;e+=1){l=f[e];c[c.length]=$("#"+l);}if($("#"+b.countryInputId+" option").length<1){b.populateCountrySelect();}b.countryInput=$("#"+b.countryInputId);b.stateInput=$("#"+b.stateInputId);b.imContact=$("#"+b.imContactId);b.logOutButton=$("#MemberLoginContactView_ButtonLogOut");b.homePhone=$("#"+b.homePhoneId);b.workPhone=$("#"+b.workPhoneId);b.otherPhone=$("#"+b.otherPhoneId);b.faxPhone=$("#"+b.faxPhoneId);b.dropdownTitle=$("#"+this.dropdownTitleId);b.dropdownGender=$("#"+this.dropdownGenderId);if(b.bSeperatePhoneFieldFlag=="TRUE"){b.otherPhoneNo=$("#"+b.otherPhoneNoId);b.workPhoneNo=$("#"+b.workPhoneNoId);b.homePhoneNo=$("#"+b.homePhoneNoId);b.faxPhoneNo=$("#"+b.faxPhoneNoId);b.dropdownhomePhoneIDC=$("#"+b.dropdownhomePhoneIDCId);b.dropdownworkPhoneIDC=$("#"+b.dropdownworkPhoneIDCId);b.dropdownotherPhoneIDC=$("#"+b.dropdownotherPhoneIDCId);b.dropdownfaxPhoneIDC=$("#"+b.dropdownfaxPhoneIDCId);}if($("#"+b.clientId+"_TextBoxFirstName").val()==""){$("#"+b.clientId+"_TextBoxFirstName").val(b.currentContactData.lastName);}};b.initOrganizationDefaultCode=function(){var c=document.getElementById(this.organizationCodeInputId),f=this.organizationDefaultCode;c.value=f;b.listen("keyup",c,e);function e(){var l=c.value;if(c.value.substring(0,f.length)!==f){c.value=f;}return false;}};b.listen=function(f,e,c){if(e.addEventListener){e.addEventListener(f,c,false);}else{if(e.attachEvent){e.attachEvent("on"+f,c);}}};b.initOrganizationDefaultValues=function(){this.countryInput.val(this.parentCountryCode);this.updateState();};b.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();if(this.organizationDefaultCode&&this.organizationCodeInputId){this.initOrganizationDefaultCode();}if(this.parentCountryCode){this.initOrganizationDefaultValues();}if(b.bSeperatePhoneFieldFlag=="TRUE"){$(b.dropdownworkPhoneIDC).change();$(b.dropdownhomePhoneIDC).change();$(b.dropdownotherPhoneIDC).change();$(b.dropdownfaxPhoneIDC).change();}};return b;};SKYSALES.Class.ContactInput.createObject=function(a){SKYSALES.Util.createObject("contactInput","ContactInput",a);};}if(!SKYSALES.Class.ToggleView){SKYSALES.Class.ToggleView=function(){var b=new SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.showId="";a.hideId="";a.elementId="";a.show=null;a.hide=null;a.element=null;a.setVars=function(){b.setVars.call(this);a.show=$("#"+a.showId);a.hide=$("#"+a.hideId);a.element=$("#"+a.elementId);};a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();};a.updateShowHandler=function(){a.element.show("slow");};a.updateHideHandler=function(){a.element.hide();};a.addEvents=function(){b.addEvents.call(this);a.show.click(a.updateShowHandler);a.hide.click(a.updateHideHandler);};return a;};}if(!SKYSALES.Class.PaymentBillingInput){SKYSALES.Class.PaymentBillingInput=function(){var a=SKYSALES.Class.SkySales();thisPaymentBillingInput=SKYSALES.Util.extendObject(a);thisPaymentBillingInput.billingCountryTextBoxId="";thisPaymentBillingInput.billingCountrySelectId="";thisPaymentBillingInput.billingStateTextBoxId="";thisPaymentBillingInput.billingStateSelectId="";thisPaymentBillingInput.buttonSubmitProxyId="ButtonSubmitProxy";thisPaymentBillingInput.buttonSubmitProxy=null;thisPaymentBillingInput.buttonSubmitId="ButtonSubmitProxy";thisPaymentBillingInput.billingStateSelectBoxInput=null;thisPaymentBillingInput.billingStateTextBoxInput="";thisPaymentBillingInput.billingCountryInput="";thisPaymentBillingInput.billingCountryTextBox=null;thisPaymentBillingInput.ccExpandLinkId="";thisPaymentBillingInput.ccExpandLink=null;thisPaymentBillingInput.ccHideLinkId="";thisPaymentBillingInput.ccHideLink=null;thisPaymentBillingInput.ccDivHideShowId="";thisPaymentBillingInput.ccDivHideShow=null;thisPaymentBillingInput.stateInfo=SKYSALES.Util.getResource().stateInfo;thisPaymentBillingInput.setSettingsByObject=function(b){a.setSettingsByObject.call(this,b);};thisPaymentBillingInput.setVars=function(){thisPaymentBillingInput.billingStateSelectBoxInput=this.getById(this.billingStateSelectId);thisPaymentBillingInput.billingStateTextBoxInput=this.getById(this.billingStateTextBoxId);thisPaymentBillingInput.billingCountryInput=this.getById(this.billingCountrySelectId);thisPaymentBillingInput.billingCountryTextBox=this.getById(this.billingCountryTextBoxId);thisPaymentBillingInput.buttonSubmitProxy=this.getById(this.buttonSubmitProxyId);thisPaymentBillingInput.ccExpandLink=this.getById(this.ccExpandLinkId);thisPaymentBillingInput.ccHideLink=this.getById(this.ccHideLinkId);thisPaymentBillingInput.ccDivHideShow=this.getById(this.ccDivHideShowId);};thisPaymentBillingInput.init=function(b){this.setSettingsByObject(b);this.setVars();this.hideTextBoxRef();this.initDropDowns();this.addEvents();this.billingStateSelectBoxInput.val(this.billingStateTextBoxInput.val());};thisPaymentBillingInput.hideTextBoxRef=function(){thisPaymentBillingInput.billingStateTextBoxInput.addClass("hidden");thisPaymentBillingInput.billingCountryTextBox.addClass("hidden");};thisPaymentBillingInput.addEvents=function(){this.billingCountryInput.change(this.updateState);this.billingStateSelectBoxInput.change(this.updateStateTextBoxValue);this.ccExpandLink.click(this.expandHandler);this.ccHideLink.click(this.hideHandler);};thisPaymentBillingInput.expandHandler=function(){$("#"+thisPaymentBillingInput.ccDivHideShowId).show();$("#"+thisPaymentBillingInput.ccExpandLinkId).hide();};thisPaymentBillingInput.hideHandler=function(){$("#"+thisPaymentBillingInput.ccDivHideShowId).hide();$("#"+thisPaymentBillingInput.ccExpandLinkId).show();};thisPaymentBillingInput.validateHandler=function(){var b=validateBySelector("div[id='selectMainBody']");return b;};thisPaymentBillingInput.updateStateTextBoxValue=function(){var b=$(this).val();thisPaymentBillingInput.billingStateTextBoxInput.val(b);};thisPaymentBillingInput.updateState=function(){thisPaymentBillingInput.initStateDropDown();thisPaymentBillingInput.billingStateTextBoxInput.val("");var b=$(this).val();thisPaymentBillingInput.billingCountryTextBox.val(b);};thisPaymentBillingInput.initDropDowns=function(){if(thisPaymentBillingInput.billingCountryTextBoxId!==""){var b={"TextBoxId":thisPaymentBillingInput.billingCountryTextBoxId,"SelectBoxId":thisPaymentBillingInput.billingCountrySelectId};countryDropDown=new SKYSALES.Class.CountryDropDown();countryDropDown.init(b);}thisPaymentBillingInput.initStateDropDown();};thisPaymentBillingInput.initStateDropDown=function(){var b=thisPaymentBillingInput.billingCountryInput.val();var c=thisPaymentBillingInput.stateInfo.StateList;var e=thisPaymentBillingInput.billingStateSelectBoxInput.get(0);if(!(e===undefined)){e.options.length=1;for(i=0;i<c.length;i+=1){state=c[i];if(b==state.CountryCode){e.options[e.options.length]=new window.Option(state.Name,state.ProvinceStateCode,false,false);}}}};return thisPaymentBillingInput;};}if(!SKYSALES.Class.PaymentInputContainer){SKYSALES.Class.PaymentInputContainer=function(){var parent=SKYSALES.Class.SkySales();thisPaymentInputContainer=SKYSALES.Util.extendObject(parent);thisPaymentInputContainer.labelConvenienceFeeId="";thisPaymentInputContainer.voucherNumberTextBoxId="";thisPaymentInputContainer.voucherNumberTextBox="";thisPaymentInputContainer.labelConvenienceFee=null;thisPaymentInputContainer.validBinRange="";thisPaymentInputContainer.invalidBinRangeMsg="";thisPaymentInputContainer.validBigCardBinRange="";thisPaymentInputContainer.invalidBigCardBinRangeMsg="";thisPaymentInputContainer.buttonSubmitProxyId="ButtonSubmitProxy";thisPaymentInputContainer.buttonSubmitProxy=null;thisPaymentInputContainer.buttonSubmitId="CONTROLGROUPPAYMENTBOTTOM_ButtonSubmit";thisPaymentInputContainer.defaultCreditCardsArray=null;thisPaymentInputContainer.dropDownListPaymentMethodId="";thisPaymentInputContainer.dropDownListPaymentMethod=null;thisPaymentInputContainer.registeredCCArray=null;thisPaymentInputContainer.ccPaymentFeesArray=null;thisPaymentInputContainer.ccPaymentControlName="";thisPaymentInputContainer.ccPaymentFeeLabel="";thisPaymentInputContainer.ccPaymentFeePaxLabel="";thisPaymentInputContainer.ccPaymentFeeWayLabel="";thisPaymentInputContainer.ccPaymentFeeSegmentCount="";thisPaymentInputContainer.ccPaymentFeePaxCount="";thisPaymentInputContainer.selectedCreditCard="";thisPaymentInputContainer.dropDownMCCId="";thisPaymentInputContainer.buttonApplyMCCId="";thisPaymentInputContainer.hiddenUpdatedMCCId="";thisPaymentInputContainer.dropDownMCC=null;thisPaymentInputContainer.buttonApplyMCC=null;thisPaymentInputContainer.hiddenUpdatedMCC=null;thisPaymentInputContainer.upSellPrompt="";thisPaymentInputContainer.mccNoticePrompt="";thisPaymentInputContainer.mccCurrencyCode="";thisPaymentInputContainer.mccEnabled="";thisPaymentInputContainer.issuingCountrySelectId="";thisPaymentInputContainer.countryCurrencyHash={};thisPaymentInputContainer.isModifiedBooking="";thisPaymentInputContainer.manageMyBookingPmtAlert="";thisPaymentInputContainer.WAKObjDefault="";thisPaymentInputContainer.WAKGuest="";thisPaymentInputContainer.linkCreditHistoryId="";thisPaymentInputContainer.linkCreditHistory=null;var selectedBillingContent=0;thisPaymentInputContainer.setSettingsByObject=function(json){parent.setSettingsByObject.call(this,json);if(thisPaymentInputContainer.WAKObjDefault!=""){for(i=0;i<eval(thisPaymentInputContainer.WAKGuest);i++){$("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_objectNoDropdownList"+i+" option[text="+thisPaymentInputContainer.WAKObjDefault+"]").attr("selected","selected");}}};thisPaymentInputContainer.setVars=function(){thisPaymentInputContainer.labelConvenienceFee=this.getById(this.labelConvenienceFeeId);thisPaymentInputContainer.voucherNumberTextBox=this.getById(this.voucherNumberTextBoxId);thisPaymentInputContainer.buttonSubmitProxy=this.getById(this.buttonSubmitProxyId);thisPaymentInputContainer.dropDownListPaymentMethod=this.getById(this.dropDownListPaymentMethodId);thisPaymentInputContainer.dropDownMCC=this.getById(this.dropDownMCCId);thisPaymentInputContainer.buttonApplyMCC=this.getById(this.buttonApplyMCCId);thisPaymentInputContainer.hiddenUpdatedMCC=this.getById(this.hiddenUpdatedMCCId);thisPaymentInputContainer.linkCreditHistory=this.getById(this.linkCreditHistoryId);};thisPaymentInputContainer.previewConvenienceFeeDivHandler=function(){$("#convenienceFeePreview").show();};thisPaymentInputContainer.hideConvenienceFeeDivHandler=function(){$("#convenienceFeePreview").hide();};thisPaymentInputContainer.addEvents=function(){this.labelConvenienceFee.hover(thisPaymentInputContainer.previewConvenienceFeeDivHandler,thisPaymentInputContainer.hideConvenienceFeeDivHandler);this.buttonSubmitProxy.click(thisPaymentInputContainer.validateCC);this.dropDownListPaymentMethod.change(thisPaymentInputContainer.showSelectedCC);$("#"+this.buttonSubmitId).click(this.prompterHandler);$("input:radio[name='"+this.ccPaymentControlName+"']").click(function(){var selectedPayment=$(this).val();thisPaymentInputContainer.selectCC(selectedPayment);});if(thisPaymentInputContainer.hiddenUpdatedMCC){thisPaymentInputContainer.hiddenUpdatedMCC.val("");}if(this.hiddenUpdatedMCC.length>0){$("#CONTROLGROUPPAYMENTBOTTOM_MultiCurrencyConversionViewPaymentView_ButtonApplyMCC").click(thisPaymentInputContainer.updateCurrency);}this.linkCreditHistory.click(thisPaymentInputContainer.openCreditHistoryHandler);};thisPaymentInputContainer.openCreditHistoryHandler=function(){return thisPaymentInputContainer.OpenCreditHistoryWindow();};thisPaymentInputContainer.OpenCreditHistoryWindow=function(){var centerWidth=(screen.width-800)/2,centerHeight=(screen.height-500)/2;window.open("CreditStatusWindow.aspx",null,"height="+500+",width="+800+",left="+centerWidth+",top="+centerHeight+",status=yes,toolbar=no,menubar=no,location=no,scrollbars=yes");return false;};thisPaymentInputContainer.prompterHandler=function(){return thisPaymentInputContainer.showCurrencyPrompter();};thisPaymentInputContainer.showCurrencyPrompter=function(){if(this.defaultCreditCardsArray.length>0){var activeCC=this.defaultCreditCardsArray[this.getActivePayment()],countrySelected=$("#"+activeCC.issuingCountrySelectId).val()||"",activeBilling=this.defaultCreditCardsArray[this.getActivePayment()].billingContentId,contentCC=this.defaultCreditCardsArray[this.getActivePayment()].contentId,virtualNo=$("input:radio[name='"+this.ccPaymentControlName+"']:checked").val(),countryCurrencySelected=this.countryCurrencyHash[countrySelected]||null;if(virtualNo){result=validateBySelector("td[id='"+this.selectedCreditCard+"_CVV_"+virtualNo+"']")&&validateBySelector("div[id='"+activeBilling+"']");}else{result=validateBySelector("div[id='"+contentCC+"']")||validateBySelector("div[id='"+activeBilling+"']");}}SKYSALES.DisplayLoadingBar();return true;};thisPaymentInputContainer.updateCurrency=function(){var updatedMCC=thisPaymentInputContainer.dropDownMCC.val();thisPaymentInputContainer.hiddenUpdatedMCC.val(updatedMCC);};thisPaymentInputContainer.init=function(json){this.setSettingsByObject(json);this.setVars();this.addEvents();if(this.voucherNumberTextBox!=null){this.voucherNumberTextBox.val("");}var i=0;var defaultCreditCardsArray=this.defaultCreditCardsArray||[];var paymentInput=null;for(i=0;i<defaultCreditCardsArray.length;i+=1){paymentInput=new SKYSALES.Class.PaymentInput();paymentInput.init(defaultCreditCardsArray[i]);this.defaultCreditCardsArray[i]=paymentInput;paymentInput.hideContent();}if(this.defaultCreditCardsArray.length>0){var activeDiv=this.getActivePayment();this.defaultCreditCardsArray[activeDiv].showContent();this.displayConvenienceFee(this.defaultCreditCardsArray[activeDiv].ccId);}var countryList=SKYSALES.Util.getResource().countryInfo.CountryList;for(i=0;i<countryList.length;i=i+1){this.countryCurrencyHash[countryList[i].code]={"currencyCode":countryList[i].currency};}var ccRadio=$("input:radio[name='"+thisPaymentInputContainer.ccPaymentControlName+"']:enabled");if(ccRadio.length>0){if(ccRadio.length>1){thisPaymentInputContainer.selectedCreditCard=thisPaymentInputContainer.registeredCCArray[0].brand;thisPaymentInputContainer.displayConvenienceFee(thisPaymentInputContainer.selectedCreditCard);$("#"+thisPaymentInputContainer.registeredCCArray[0].CVV).removeAttr("disabled");thisPaymentInputContainer.showBillingContent(thisPaymentInputContainer.registeredCCArray[0].brand);thisPaymentInputContainer.hideDefaultCCs();}else{if(ccRadio.length==1){thisPaymentInputContainer.showDefaultCCs();thisPaymentInputContainer.displayConvenienceFee(thisPaymentInputContainer.defaultCreditCardsArray[thisPaymentInputContainer.getActivePayment()].ccId);thisPaymentInputContainer.showBillingContent(thisPaymentInputContainer.defaultCreditCardsArray[thisPaymentInputContainer.getActivePayment()].ccId);}}ccRadio[0].checked=true;}};thisPaymentInputContainer.getActivePayment=function(){var i=0;var activeIndex=0;for(i=0;i<thisPaymentInputContainer.defaultCreditCardsArray.length;i++){if(thisPaymentInputContainer.defaultCreditCardsArray[i].contentId=="content_"+thisPaymentInputContainer.dropDownListPaymentMethod.val()){activeIndex=i;break;}}return activeIndex;};thisPaymentInputContainer.showSelectedCC=function(){var i=0;var activeIndex=thisPaymentInputContainer.getActivePayment();for(i=0;i<thisPaymentInputContainer.defaultCreditCardsArray.length;i++){thisPaymentInputContainer.defaultCreditCardsArray[i].hideContent();}thisPaymentInputContainer.defaultCreditCardsArray[activeIndex].showContent();thisPaymentInputContainer.displayConvenienceFee(thisPaymentInputContainer.defaultCreditCardsArray[activeIndex].ccId);};thisPaymentInputContainer.hideDefaultCCs=function(){thisPaymentInputContainer.defaultCreditCardsArray[thisPaymentInputContainer.getActivePayment()].clearCCForm();$("#"+thisPaymentInputContainer.registeredCCArray[thisPaymentInputContainer.registeredCCArray.length-1].brand+"_div").hide();};thisPaymentInputContainer.showDefaultCCs=function(){$("#"+thisPaymentInputContainer.registeredCCArray[thisPaymentInputContainer.registeredCCArray.length-1].brand+"_div").show();};thisPaymentInputContainer.validateCC=function(){$.post("SessionRefresh.aspx");var validCC=true,validBillingInput=true;if(thisPaymentInputContainer.selectedCreditCard==""&&thisPaymentInputContainer.defaultCreditCardsArray.length>0){var activeCC=thisPaymentInputContainer.defaultCreditCardsArray[thisPaymentInputContainer.getActivePayment()];var ccNumber=$("#"+activeCC.accountNumberInputId).val();var validBigCard=true;if(activeCC.contentId=="content_ExternalAccount:BG"){var validBigCard=false;var bigCardBinRangeArray=thisPaymentInputContainer.validBigCardBinRange.split(",");var bigCardBinRanges=bigCardBinRangeArray.length;for(i=0;i<bigCardBinRanges;i++){var bigCardBinRangeItem=bigCardBinRangeArray[i];if(bigCardBinRangeItem==ccNumber.substring(0,bigCardBinRangeItem.length)){validBigCard=true;break;}}if(validBigCard==false&&ccNumber.length>0){alert(thisPaymentInputContainer.invalidBigCardBinRangeMsg);validCC=false;}}if(validBigCard==true){if(thisPaymentInputContainer.validBinRange!=""&&ccNumber!=""){var validCCNumber=false;var binRangeArray=thisPaymentInputContainer.validBinRange.split(",");var binRanges=binRangeArray.length;for(i=0;i<binRanges;i++){var binRangeItem=binRangeArray[i];if(binRangeItem==ccNumber.substring(0,binRangeItem.length)){validCCNumber=true;break;}}if(validCCNumber==false){alert(thisPaymentInputContainer.invalidBinRangeMsg);validCC=false;}}}validCC=validCC&&validateBySelector("div[id='"+activeCC.contentId+"'], div[id='termAndConditionAgm']")&&validateBySelector("div[id='"+activeCC.billingContentId+"']");}else{if(thisPaymentInputContainer.selectedCreditCard!=""){var activeBilling=thisPaymentInputContainer.defaultCreditCardsArray[selectedBillingContent].billingContentId;var virtualNo=$("input:radio[name='"+thisPaymentInputContainer.ccPaymentControlName+"']:checked").val();validCC=validateBySelector("td[id='"+thisPaymentInputContainer.selectedCreditCard+"_CVV_"+virtualNo+"']")&&validateBySelector("div[id='"+activeBilling+"']");}else{if(!thisPaymentInputContainer.defaultCreditCardsArray.length>0){var submitAction=($("#"+thisPaymentInputContainer.buttonSubmitId)).get(0);validCC=validate(submitAction);}}}validBillingInput=validCC&&validateBySelector("div[id='paymentBillingInputContent'],div[id='termAndConditionAgm']");if(validCC==true&&validBillingInput==true){document.getElementById(thisPaymentInputContainer.buttonSubmitId).click();}return false;};thisPaymentInputContainer.selectCC=function(selectedCC){thisPaymentInputContainer.selectedCreditCard="";var cvvField=null;var selectedIndex=0;var i=0;for(i=0;i<thisPaymentInputContainer.registeredCCArray.length;i++){cvvField=$("#"+thisPaymentInputContainer.registeredCCArray[i].CVV);if(cvvField!=null&&cvvField.length>0){cvvField.val("");if(thisPaymentInputContainer.registeredCCArray[i].virtualNo==selectedCC){selecteddIndex=i;thisPaymentInputContainer.selectedCreditCard=thisPaymentInputContainer.registeredCCArray[i].brand;}cvvField.attr("disabled","disabled");cvvField.removeClass("validationError");}}if(thisPaymentInputContainer.selectedCreditCard!=""){thisPaymentInputContainer.hideDefaultCCs();cvvField=$("#"+thisPaymentInputContainer.registeredCCArray[selecteddIndex].CVV);cvvField.removeAttr("disabled");cvvField.select();thisPaymentInputContainer.displayConvenienceFee(thisPaymentInputContainer.selectedCreditCard);thisPaymentInputContainer.showBillingContent(thisPaymentInputContainer.registeredCCArray[selecteddIndex].brand);}else{thisPaymentInputContainer.showDefaultCCs();thisPaymentInputContainer.displayConvenienceFee(thisPaymentInputContainer.defaultCreditCardsArray[thisPaymentInputContainer.getActivePayment()].ccId);thisPaymentInputContainer.showBillingContent(thisPaymentInputContainer.defaultCreditCardsArray[thisPaymentInputContainer.getActivePayment()].ccId);}};thisPaymentInputContainer.displayConvenienceFee=function(ccBrand){var i=0;var hasConvenienceFee=false;var convPreview=thisPaymentInputContainer.ccPaymentFeeLabel;for(i=0;i<thisPaymentInputContainer.ccPaymentFeesArray.length;i++){if(ccBrand==thisPaymentInputContainer.ccPaymentFeesArray[i].brand){hasConvenienceFee=true;$("#paymentFee_Amount").text(thisPaymentInputContainer.ccPaymentFeesArray[i].convenienceFee);$("#totalWithPaymentFee_Amount").text(thisPaymentInputContainer.ccPaymentFeesArray[i].paymentTotal);convPreview=convPreview.concat(thisPaymentInputContainer.ccPaymentFeesArray[i].feeBase," x ",thisPaymentInputContainer.ccPaymentFeeSegmentCount,thisPaymentInputContainer.ccPaymentFeeWayLabel," x ",thisPaymentInputContainer.ccPaymentFeePaxCount,thisPaymentInputContainer.ccPaymentFeePaxLabel,thisPaymentInputContainer.ccPaymentFeesArray[i].convenienceFee);$("#convenienceFeePreview").text(convPreview);}}if(hasConvenienceFee==false){$("#convenienceFee_Display").hide();}else{$("#convenienceFee_Display").show();}};thisPaymentInputContainer.showBillingContent=function(ccBrand){var i=0;selectedBillingContent=0;for(i=0;i<thisPaymentInputContainer.defaultCreditCardsArray.length;i++){thisPaymentInputContainer.defaultCreditCardsArray[i].billingContent.addClass("hidden");if(ccBrand==thisPaymentInputContainer.defaultCreditCardsArray[i].ccId){selectedBillingContent=i;}}thisPaymentInputContainer.defaultCreditCardsArray[selectedBillingContent].billingContent.removeClass("hidden");};return thisPaymentInputContainer;};SKYSALES.Class.PaymentInputContainer.createObject=function(a){SKYSALES.Util.createObject("paymentInputContainer","PaymentInputContainer",a);};}if(!SKYSALES.Class.PaymentInput){SKYSALES.Class.PaymentInput=function(){var a=SKYSALES.Class.SkySales(),b=SKYSALES.Util.extendObject(a);b.dccOfferInfoId="";b.foreignAmountId="";b.foreignCurrencyId="";b.foreignCurrencySymbolId="";b.ownCurrencyAmountId="";b.ownCurrencyId="";b.ownCurrencySymbolId="";b.rejectRadioBtnIdId="";b.acceptRadioBtnIdId="";b.doubleOptOutId="";b.inlineDCCAjaxSucceededId="";b.dccId="";b.inlineDCCConversionLabelId="";b.amountInputId="";b.accountNumberInputId="";b.inlineDCCOffer=null;b.currencyCode=null;b.feeAmt=null;b.issuingCountryTextBoxId="";b.issuingCountrySelectId="";b.billingCountryTextBoxId="";b.billingCountrySelectId="";b.billingStateTextBoxId="";b.billingStateSelectId="";b.billingStateSelectBoxInput="";b.billingStateTextBoxInput="";b.billingCountryInput="";b.billingCountryTextBox=null;b.voucherNumberTextBoxId="";b.voucherNumberTextBox="";b.stateInfo=SKYSALES.Util.getResource().stateInfo;b.contentId="";b.content=null;b.billingContentId="";b.billingContent=null;b.cvvTextBoxId="";b.cvvTextBox=null;b.acctHolderNameTextBoxId="";b.acctHolderNameTextBox=null;b.bankNameTextBoxId="";b.bankNameTextBox=null;b.ccId="";b.setSettingsByObject=function(c){a.setSettingsByObject.call(this,c);};b.setVars=function(){b.dcc=$("#"+this.dccId);b.inlineDCCConversionLabel=$("#"+this.inlineDCCConversionLabelId);b.accountNoTextBox=$("#"+this.accountNumberInputId);b.amountTextBox=$("#"+this.amountInputId);b.inlineDCCAjaxSucceeded=$("#"+this.inlineDCCAjaxSucceededId);b.billingStateSelectBoxInput=this.getById(this.billingStateSelectId);b.billingStateTextBoxInput=this.getById(this.billingStateTextBoxId);b.billingCountryInput=this.getById(this.billingCountrySelectId);b.content=this.getById(this.contentId);b.billingContent=this.getById(this.billingContentId);b.billingCountryTextBox=this.getById(this.billingCountryTextBoxId);b.cvvTextBox=$("#"+this.cvvTextBoxId);b.acctHolderNameTextBox=$("#"+this.acctHolderNameTextBoxId);b.bankNameTextBox=$("#"+this.bankNameTextBoxId);};b.hideTextBoxRef=function(){b.billingStateTextBoxInput.addClass("hidden");b.billingCountryTextBox.addClass("hidden");};b.hideContent=function(){this.content.addClass("hidden");this.clearCCForm();this.billingContent.addClass("hidden");};b.clearCCForm=function(){this.cvvTextBox.val("");this.accountNoTextBox.val("");this.acctHolderNameTextBox.val("");this.bankNameTextBox.val("");$("#"+this.issuingCountryTextBoxId).val("");$("#"+this.issuingCountrySelectId).val("");};b.showContent=function(){this.content.removeClass("hidden");this.billingContent.removeClass("hidden");};b.inlineDCCAjaxRequestHandler=function(){b.getInlineDCC();};b.addEvents=function(){this.amountTextBox.change(this.inlineDCCAjaxRequestHandler);this.accountNoTextBox.change(this.inlineDCCAjaxRequestHandler);this.billingCountryInput.change(this.updateState);this.billingStateSelectBoxInput.change(this.updateStateTextBoxValue);};b.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();this.hideTextBoxRef();this.initDropDowns();this.billingStateSelectBoxInput.val(this.billingStateTextBoxInput.val());};b.initDropDowns=function(){if(b.issuingCountryTextBoxId!==""){var c={"TextBoxId":b.issuingCountryTextBoxId,"SelectBoxId":b.issuingCountrySelectId};countryDropDown=new SKYSALES.Class.CountryDropDown();countryDropDown.init(c);}if(b.billingCountryTextBoxId!==""){var c={"TextBoxId":b.billingCountryTextBoxId,"SelectBoxId":b.billingCountrySelectId};countryDropDown=new SKYSALES.Class.CountryDropDown();countryDropDown.init(c);}b.initStateDropDown();};b.updateState=function(){b.initStateDropDown();b.billingStateTextBoxInput.val("");};b.initStateDropDown=function(){var c=b.billingCountryInput.val();var e=b.stateInfo.StateList;var f=b.billingStateSelectBoxInput.get(0);if(!(f===undefined)){f.options.length=1;for(i=0;i<e.length;i+=1){state=e[i];if(c==state.CountryCode){f.options[f.options.length]=new window.Option(state.Name,state.ProvinceStateCode,false,false);}}}};b.updateStateTextBoxValue=function(){var c=$(this).val();b.billingStateTextBoxInput.val(c);};b.getInlineDCC=function(c,f){var e={};if("True"===this.inlineDCCOffer){if(!f){f=this.accountNoTextBox.val();}if(!c){c=this.amountTextBox.val();}e={"amount":c,"paymentFee":this.feeAmt,"currencyCode":this.currencyCode,"accountNumber":f};if(this.currencyCode&&c&&f&&(0<parseFloat(c))&&(12<=f.length)){this.inlineDCCAjaxSucceeded.val("false");$.get("DCCOfferAjax-Resource.aspx",e,this.inlineDCCResponseHandler);}}};b.setVarsAfterAjaxResponse=function(c){var e=$("#"+this.dccOfferInfoId,c);b.foreignAmount=$("#"+this.foreignAmountId,e).text();b.foreignCurrency=$("#"+this.foreignCurrencyId,e).text();b.foreignCurrencySymbol=$("#"+this.foreignCurrencySymbolId,e).text();b.ownCurrencyAmount=$("#"+this.ownCurrencyAmountId,e).text();b.ownCurrency=$("#"+this.ownCurrencyId,e).text();b.ownCurrencySymbol=$("#"+this.ownCurrencySymbolId,e).text();b.acceptRadioBtnID=$("#"+this.acceptRadioBtnIdId,e).text();b.rejectRadioBtnID=$("#"+this.rejectRadioBtnIdId,e).text();b.acceptRadioBtn=$("#"+this.acceptRadioBtnID);b.doubleOptOut=$("#"+this.doubleOptOutId,e).text();b.radioButtonInlineDccStatusOfferAccept=$("#"+this.acceptRadioBtnID);b.radioButtonInlineDccStatusOfferReject=$("#"+this.rejectRadioBtnID);};b.foreignUpdateConversionLabel=function(){this.inlineDCCConversionLabel.text("("+" "+this.foreignAmount+" "+this.foreignCurrency+")");};b.ownUpdateConversionLabel=function(){this.inlineDCCConversionLabel.text("");};b.noThanks=function(){$("#dccCont").show("slow");};b.noShowThanks=function(){$("#dccCont").hide("slow");};b.inlineDccStatusOfferAccept=function(){this.foreignUpdateConversionLabel();this.noShowThanks();};b.inlineDccStatusOfferReject=function(){this.ownUpdateConversionLabel();this.noThanks();};b.inlineDccStatusOfferAcceptHandler=function(){b.inlineDccStatusOfferAccept();};b.inlineDccStatusOfferRejectHandler=function(){b.inlineDccStatusOfferReject();};b.addEventsAfterAjaxResponse=function(){this.radioButtonInlineDccStatusOfferAccept.click(this.inlineDccStatusOfferAcceptHandler);this.radioButtonInlineDccStatusOfferReject.click(this.inlineDccStatusOfferRejectHandler);};b.updateAcceptRadioBtn=function(){var c=this.acceptRadioBtn.attr("checked");if(c){this.foreignUpdateConversionLabel();}};b.updateInlineDCCOffer=function(f){this.inlineDCCAjaxSucceeded.val("true");var c=null;if(f){this.dcc.empty();var e=$(f);c=$("#"+this.dccId,e);if(c&&c.length){this.dcc.prepend(c.children());}this.setVarsAfterAjaxResponse(e);this.addEventsAfterAjaxResponse();this.updateAcceptRadioBtn();}};b.inlineDCCResponseHandler=function(c){b.updateInlineDCCOffer(c);};return b;};SKYSALES.Class.PaymentInput.createObject=function(a){SKYSALES.Util.createObject("paymentInput","PaymentInput",a);};}if(!SKYSALES.Class.CountryDropDown){SKYSALES.Class.CountryDropDown=function(){var b=SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.SelectBox=null;a.SelectBoxId="";a.TextBox=null;a.TextBoxId=null;a.countryInfo=SKYSALES.Util.getResource().countryInfo;a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();a.populateDropDown();a.TextBox.val(this.TextBox.val());};a.setVars=function(){a.TextBox=this.getById(a.TextBoxId);a.Select=this.getById(a.SelectBoxId);};a.addEvents=function(){a.Select.change(a.updateTextBoxValue);};a.updateTextBoxValue=function(){var c=$(this).val();a.TextBox.val(c);};a.populateDropDown=function(){var c={"selectBox":this.Select,"objectArray":this.countryInfo.CountryList,"selectedItem":this.TextBox.val(),"showCode":false};SKYSALES.Util.populateSelect(c);};return a;};}if(!SKYSALES.Class.PriceDisplay){SKYSALES.Class.PriceDisplay=function(){var a=new SKYSALES.Class.SkySales();var b=SKYSALES.Util.extendObject(a);b.toggleViewIdArray=null;b.init=function(f){this.setSettingsByObject(f);var c=this.toggleViewIdArray||[];var e=0;var l=null;for(e=0;e<c.length;e+=1){l=new SKYSALES.Class.ToggleView();l.init(c[e]);b.toggleViewIdArray[e]=l;}};return b;};SKYSALES.Class.PriceDisplay.createObject=function(a){SKYSALES.Util.createObject("priceDisplay","PriceDisplay",a);};}if(!SKYSALES.Class.FlightDisplay){SKYSALES.Class.FlightDisplay=function(){var b=new SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.toggleViewIdArray=null;a.init=function(f){this.setSettingsByObject(f);var c=this.toggleViewIdArray||[];var e=0;var l=null;for(e=0;e<c.length;e+=1){l=new SKYSALES.Class.ToggleView();l.init(c[e]);a.toggleViewIdArray[e]=l;}};return a;};SKYSALES.Class.FlightDisplay.createObject=function(a){SKYSALES.Util.createObject("flightDisplay","FlightDisplay",a);};}if(!SKYSALES.Class.RandomImage){SKYSALES.Class.RandomImage=function(){var a=new SKYSALES.Class.SkySales();var b=SKYSALES.Util.extendObject(a);b.imageUriArray=[];b.init=function(c){this.setSettingsByObject(c);this.setVars();this.setAsBackground();};b.getRandomNumber=function(){var c=this.imageUriArray.length;var e=Math.floor(Math.random()*c);return e;};b.setAsBackground=function(){var e=this.getRandomNumber();var c="url("+this.imageUriArray[e]+")";this.container.css("background-image",c);};return b;};SKYSALES.Class.RandomImage.createObject=function(a){SKYSALES.Util.createObject("randomImage","RandomImage",a);};}SKYSALES.Class.DropDown=function(b){b=b||{};var a=this;a.container={};a.name="";a.options=[];a.dropDownContainer=null;a.dropDownContainerInput=null;a.document=null;a.optionList=null;a.optionActiveClass="optionActive";a.timeOutObj=null;a.timeOut=225;a.minCharLength=2;a.optionMax=100;a.html='<div></div><div class="dropDownContainer"></div>';a.autoComplete=true;a.setSettingsByObject=function(c){var e=null;for(e in c){if(a.hasOwnProperty(e)){a[e]=c[e];}}};a.getOptionHtml=function(c){c=c||"";var l={};var p="";var f="";var n=0;var m=a.options;var e=new RegExp("^"+c,"i");if(c.length<a.minCharLength){f="";}else{for(p in m){if(m.hasOwnProperty(p)){l=m[p];l.name=l.name||"";l.code=l.code||"";if(l.name.match(e)||l.code.match(e)){f+="<div><span>"+l.code+"</span>"+l.name+" ("+l.code+")"+"</div>";n+=1;}if(n>=a.optionMax){break;}}}}return f;};a.close=function(){if(a.timeOutObj){window.clearTimeout(a.timeOutObj);}a.document.unbind("click",a.close);if(a.optionList){a.optionList.unbind("hover");a.optionList.unbind("click");}a.optionList=null;a.dropDownContainer.html("");};a.getActiveOptionIndex=function(){var e=-1;var c=$("."+a.optionActiveClass,a.dropDownContainer);if(a.optionList&&(c.length>0)){e=a.optionList.index(c[0]);}return e;};a.arrowDown=function(){var c=a.getActiveOptionIndex();if(a.optionList){if((c===-1)&&(a.optionList.length>0)){a.optionActive.call(a.optionList[0]);}else{if(a.optionList.length>c+1){a.optionInActive.call(a.optionList[c]);a.optionActive.call(a.optionList[c+1]);}else{a.arrowDownOpen();}}}else{a.arrowDownOpen();}};a.arrowDownOpen=function(){var c=a.minCharLength;a.minCharLength=0;a.open();a.minCharLength=c;};a.arrowUp=function(){var c=a.getActiveOptionIndex();if(a.optionList){if((c===-1)&&(a.optionList.length>0)){a.optionActive.call(a.optionList[0]);}else{if((c>0)&&(a.optionList.length>0)){a.optionInActive.call(a.optionList[c]);a.optionActive.call(a.optionList[c-1]);}}}};a.selectButton=function(){var e=a.getActiveOptionIndex();var c=a.optionMax;if(e>-1){a.selectOption.call(a.optionList[e]);}else{if(a.autoComplete===true){a.optionMax=1;a.open();if(a.optionList&&(a.optionList.length>0)){a.selectOption.call(a.optionList[0]);}a.optionMax=c;}}};a.keyEvent=function(c){var f=true;var e=c.which;if(e===40){a.arrowDown();a.autoComplete=true;f=false;}else{if(e===38){a.arrowUp();a.autoComplete=true;f=false;}else{if(e===9){a.selectButton();a.inputBlur();}else{if(e===13){a.selectButton();a.autoComplete=false;f=false;}else{a.autoComplete=true;}}}}return f;};a.inputKeyEvent=function(c){var f=true;var e=c.which;if((e!==40)&&(e!==38)&&(e!==9)&&(e!==13)){if(a.timeOutObj){window.clearTimeout(a.timeOutObj);}a.timeOutObj=window.setTimeout(a.open,a.timeOut);f=false;}return f;};a.catchEvent=function(){return false;};a.open=function(){var n="";var l=null;var e=a.dropDownContainerInput.val();var f=a.getOptionHtml(e);var c=0;var m=0;a.dropDownContainer.html(f);a.addOptionEvents();a.dropDownContainer.click(a.catchEvent);a.document.click(a.close);a.dropDownContainer.show();if(a.optionList&&(a.optionList.length>0)&&a.optionActive){a.optionActive.call(a.optionList[0]);}m=a.dropDownContainer.width();if($.browser.msie){c=a.dropDownContainer.height();n='<iframe src="#"></iframe>';a.dropDownContainer.prepend(n);l=$("iframe",a.dropDownContainer);l.width(m);l.height(c);}};a.optionActive=function(){var c=$(this);a.optionList.removeClass(a.optionActiveClass);c.addClass(a.optionActiveClass);};a.optionInActive=function(){var c=$(this);c.removeClass(a.optionActiveClass);};a.selectOption=function(){var c=$("span",this).text();a.dropDownContainerInput.val(c);a.close();a.dropDownContainerInput.change();};a.addOptionEvents=function(){a.optionList=$("div",a.dropDownContainer);a.optionList.hover(a.optionActive,a.optionInActive);a.optionList.click(a.selectOption);};a.inputBlur=function(){a.close();};a.addEvents=function(c){a.dropDownContainerInput=c.input;a.dropDownContainer=$("div.dropDownContainer",a.container);a.document=$(document);a.dropDownContainerInput.keyup(a.inputKeyEvent);a.dropDownContainerInput.keydown(a.keyEvent);};a.init=function(e){a.setSettingsByObject(e);var c=a.html;e.input.attr("autocomplete","off");e.input.wrap('<span class="dropDownOuterContainer"></span>');e.input.after(c);a.container=e.input.parent("span.dropDownOuterContainer");a.addEvents(e);SKYSALES.Class.DropDown.dropDownArray[SKYSALES.Class.DropDown.dropDownArray.length]=a;};a.init(b);return a;};SKYSALES.Class.DropDown.dropDownArray=[];SKYSALES.Class.DropDown.getDropDown=function(e){var l=null;var c=0;var f=null;var m=SKYSALES.Class.DropDown.dropDownArray;var b=null;var a=e.input.get(0);for(c=0;c<m.length;c+=1){f=m[c];b=f.dropDownContainerInput.get(0);if((b)&&(a)&&(b===a)){l=m[c];if(e.options){l.options=e.options;}}}if(!l){l=new SKYSALES.Class.DropDown(e);}return l;};if(!SKYSALES.Class.DatePickerManager){SKYSALES.Class.DatePickerManager=function(){var u=this;u.isAOS=false;u.yearMonth=null;u.day=null;u.linkedDate=null;u.linkedAltDateId="";u.marketCount=null;u.jsDateFormat="";u.textBoxInputId=null;u.controlInputId=null;u.transactionDateFormat="";var q=[];var l="-";var p="yy-mm";var n="dd";var s="first";var v="mm/dd/yy";var w=new RegExp("\\d{4}-\\d{2}");var b=function(E){var F=new Date(E.getFullYear(),E.getMonth(),32);var D=F.getDate();return 32-D;};var c=function(D){if(D==null){return true;}if(10>Number(D)){D="0"+D;}return D.match(/\d{2}/);};var a=function(D){D=D||"";return D.match(w);};var m=function(G,D){var J=new Date();var H=G.split(l);var I=0;var K=1;if(true===u.isAOS){I=1;K=0;}var F=H[I];var E=H[K]-1;J=new Date(F,E,D);return J;};var C=function(H,D){var J=new Date();var E=c(D);var K=a(H);if(E&&K){var G=m(H,D);var F=b(G);var I=D;if(D>F){I=F;}J=new Date(G.getFullYear(),G.getMonth(),I);}else{J=new Date();}return J;};var B=function(){var F=new Date();F.setDate(F.getDate()-1);var H=u.linkedAltDateId.indexOf("date_picker_display_id_1")>0?u.linkedAltDateId.replace("date_picker_display_id_1",""):u.linkedAltDateId.replace("date_picker_display_id_2","");var E=new Date($("#"+H+"date_picker_id_1").val()),D=C(u.yearMonth.val(),u.day.val());var G=$.datepicker.formatDate(v,D);u.linkedDate.val(G);return{minDate:((u.linkedAltDateId.indexOf("2")>0&&(x().indexOf("searchchange")<0))?E:F)};};var A=function(I,Q){var H=new Date();var N=H.getDate();var M=H.getFullYear()+"-"+H.getMonth();var P=I.getFullYear()+"-"+I.getMonth();var G=M===P;var R=(2<N);var K=R&&G;var J=I.getDate();var E=b(I);var L=31-E;var F=SKYSALES.Util.cloneArray(q);var D=31;if(L>0){D=31-L;F.splice(D,L);}if(K){F.splice(0,N-2);}var O={"selectedItem":J,"objectArray":F,"selectBox":Q,"clearOptions":true};SKYSALES.Util.populateSelect(O);};var z=function(){var L=u.day.val();var M=u.yearMonth.val();var H=m(u.yearMonth.val(),1);var E=b(H);if(L>E){L=E;}H=new Date(H.getFullYear(),H.getMonth(),L);A(H,u.day);u.linkedDate.val($.datepicker.formatDate(v,H));if(this.tagName=="SELECT"&&u.marketCount>1){if(this.id.indexOf("DropDownListMarketMonth1")!=-1){var D=this.id.replace("DropDownListMarketMonth1","");var J=$("#"+D+"DropDownListMarketDay2");var K=document.getElementById(D+"DropDownListMarketMonth2");var I=document.getElementById(D.substring(0,D.length-1)+"date_picker_id_2");}else{if(this.id.indexOf("DropDownListMarketMonth2")!=-1){var D=this.id.replace("DropDownListMarketMonth2","");var J=$("#"+D+"DropDownListMarketDay1");var K=document.getElementById(D+"DropDownListMarketMonth1");var I=document.getElementById(D.substring(0,D.length-1)+"date_picker_id_1");}}var G=m(K.value,1);G=new Date(G.getFullYear(),G.getMonth(),J.val());A(G,J);var L=J.val();var F=m(K.value,1);var E=b(F);if(L>E){L=E;}F=new Date(F.getFullYear(),F.getMonth(),L);I.value=$.datepicker.formatDate(v,F);}};var f=function(){var M=u.yearMonth.val();var L=u.day.val();var G=C(M,L);var I=$.datepicker.formatDate(v,G);u.linkedDate.val(I);if(this.id!=null&&u.marketCount>1){if(this.id.indexOf("DropDownListMarketDay1")!=-1&&this.tagName=="SELECT"){var D=this.id.replace("DropDownListMarketDay1","");var J=document.getElementById(D+"DropDownListMarketDay2");var K=document.getElementById(D+"DropDownListMarketMonth2");var H=document.getElementById(D.substring(0,D.length-1)+"date_picker_id_2");var F=document.getElementById(D+"CheckBoxChangeMarket_2");if(F==null||F.checked==true){}}else{if(this.id.indexOf("DropDownListMarketDay2")!=-1&&this.tagName=="SELECT"){var D=this.id.replace("DropDownListMarketDay2","");var J=document.getElementById(D+"DropDownListMarketDay1");var K=document.getElementById(D+"DropDownListMarketMonth1");var H=document.getElementById(D.substring(0,D.length-1)+"date_picker_id_1");var F=document.getElementById(D+"CheckBoxChangeMarket_1");if(F==null||F.checked==true){}}}var L=J.value;var G=m(K.value,1);var E=b(G);G=new Date(G.getFullYear(),G.getMonth(),L);H.value=$.datepicker.formatDate(v,G);}};var r=function(){var D=[];var F=1;var E={};for(F=1;F<=31;F+=1){E={};E.name=F;if(F<=9){E.code=Number("0"+F);}else{E.code=F;}D[F-1]=E;}return D;};var e=function(U){var I=U.match(/\d{2}\/\d{2}\/\d{4}/);var T=new Date();var N="",F="",H=x();if(I){T=new Date(U);N=$.datepicker.formatDate(p,T);u.yearMonth.val(N);A(T,u.day);var E=u.day[0].id;var K=u.yearMonth[0].id;var S=$("#"+E);var D=$("#"+K);D.change();S.change();$("#"+u.linkedAltDateId).val(SKYSALES.Util.dateDisplayFormat(U,u.jsDateFormat));if(u.linkedAltDateId.indexOf("1")>0){var G=u.linkedAltDateId,M=u.linkedAltDateId.replace("1","2"),V=new Date($("#"+G.replace("display_id","id")).val()),P=new Date($("#"+M.replace("display_id","id")).val());if((H.indexOf("select")<0)&&(H.indexOf("searchchange")<0)&&(!$("#oneWayOnly:checked").val())&&V>P){var L=G.replace("display_id","id");$("#"+M).val(SKYSALES.Util.dateDisplayFormat($("#"+L).val(),u.jsDateFormat));N=$.datepicker.formatDate(p,V);F=$.datepicker.formatDate(n,V);u.yearMonth.val(N);var R=u.day[0].id.replace("1","2"),J=u.yearMonth[0].id.replace("1","2"),O=$("#"+R),Q=$("#"+J);Q.val(N);A(V,O);$("#"+R).val(F);$("#"+J).val(N);O.change();Q.change();}if(V<=P){if($("#"+G).hasClass("validationError")){$("#"+G).removeClass("validationError");}}}if((H.indexOf("select")<0)&&(H.indexOf("searchchange")<0)&&(!$("#oneWayOnly:checked").val())&&(u.linkedAltDateId.indexOf("2")<0)){$("#"+u.linkedAltDateId.replace("display_id_1","id_2")).datepicker("show");}}};var x=function(){if($(this)[0].baseURI){return $(this)[0].baseURI.toLowerCase();}else{if($(this)[0].document){return $(this)[0].document.URL.toLowerCase();}}};u.setSettingsByObject=function(E){var D="";for(D in E){if(u.hasOwnProperty(D)){u[D]=E[D];}}};u.setVars=function(){if(true===u.isAOS){l="/";p="m/yy";w=new RegExp("\\d{1,2}\\/\\d{4}");s="eq(1)";}};var y=function(){if(!u.isAOS){f();}};var t=function(I){var E,J,F=u.linkedAltDateId,M=F.replace("display_id","id"),D=false,H=null,G="",K="highlight_date";if($(this)[0].baseURI){G=$(this)[0].baseURI.toLowerCase();}else{if($(this)[0].document){G=$(this)[0].document.URL.toLowerCase();}}if($("#oneWayOnly:checked").val()){D=true;}if($("#"+F).val()&&F.indexOf("1")>0){E=new Date($("#"+M.replace("1","2")).val());var L=$("#"+F.replace("1","2")).val();if(L){L=L.split("/");day=L[0];month=L[1];year=L[2];H=new Date(month+"/"+day+"/"+year);}else{H=new Date($("#"+F.replace("1","2")).val());}K="highlight_returnDate";}else{if($("#"+F).val()&&F.indexOf("2")>0){E=new Date($("#"+M.replace("2","1")).val());var L=$("#"+F.replace("2","1")).val();if(L){L=L.split("/");day=L[0];month=L[1];year=L[2];H=new Date(month+"/"+day+"/"+year);}else{H=new Date($("#"+F.replace("2","1")).val());}K="highlight_departDate";}}if(I!==null&&!D&&H&&SKYSALES.Util.isDateValid(H)&&E&&SKYSALES.Util.isDateValid(E)){if(I.getDate()==E.getDate()&&I.getMonth()==E.getMonth()&&I.getFullYear()==E.getFullYear()){return[true,K];}}return[true,""];};u.addEvents=function(){u.yearMonth.change(z);u.day.change(f);var K=new Date();var E=new Date();var O=new Date();E.setFullYear(E.getFullYear()+1);var D=$("option:"+s,u.yearMonth).val();var I=$("option:last",u.yearMonth).val();q=r();var N=u.linkedDate;if(a(D)){K.setDate(K.getDate()-1);if(u.isAOS){O=new Date(u.linkedDate.val());}else{O=m(u.yearMonth.val(),u.day.val());}A(O,u.day);}if(a(I)){E=m(I,1);var F=b(E);E=new Date(E.getFullYear(),E.getMonth(),F);}var H=SKYSALES.Util.getResource();var M=H.dateCultureInfo;var G=SKYSALES.datepicker;var J="";if(u.linkedAltDateId.indexOf("1")>0){J=G.controlHeaderDepartText;}else{if(u.linkedAltDateId.indexOf("2")>0){J=G.controlHeaderReturnText;}}y();var L={"beforeShow":B,"beforeShowDay":t,"onSelect":e,"minDate":K,"maxDate":E,"showOn":"both","buttonImageOnly":true,"buttonImage":"./images/AKBase/be_calendar.gif","buttonText":"Calendar","numberOfMonths":2,"mandatory":true,"monthNames":M.monthNames,"monthNamesShort":M.monthNamesShort,"dayNames":M.dayNames,"dayNamesShort":M.dayNamesShort,"dayNamesMin":M.dayNamesMin,"controlHeaderText":J,"closeText":G.closeText,"prevText":G.prevText,"nextText":G.nextText,"currentText":G.currentText};N.datepicker(L);};u.init=function(D){this.setSettingsByObject(D);this.setVars();this.addEvents();};};}SKYSALES.initializeSkySalesForm=function(){document.SkySales=document.forms.SkySales;};SKYSALES.getSkySalesForm=function(){var a=$("SkySales").get(0);return a;};SKYSALES.Common=function(){var b=this;var a=null;b.allInputObjects=null;b.initializeCommon=function(){var e=new SKYSALES.Hint();var c=new SKYSALES.InputLabel();b.addKeyDownEvents();b.addSetAndEraseEvents();b.setValues();e.addHintEvents();c.formatInputLabel();b.stripeTables();};b.setValues=function(){var c=function(e){if((this.jsvalue!==null)&&(this.jsvalue!==undefined)){this.value=this.jsvalue;}};b.getAllInputObjects().each(c);};b.stopSubmit=function(){$("form").unbind("submit",b.stopSubmit);return false;};b.addKeyDownEvents=function(){};b.getAllInputObjects=function(){if(b.allInputObjects===null){b.allInputObjects=$(":input");}return b.allInputObjects;};b.addSetAndEraseEvents=function(){var f=function(){b.eraseElement(this,this.requiredempty);};var c=function(){b.setElement(this,this.requiredempty);$(this).change();};var e=function(m){var l=$(this);if((this.requiredempty!==null)&&(this.requiredempty!==undefined)){if(l.is(":text")&&(l.is(":hidden")===false)){l.focus(f);l.blur(c);}}};b.getAllInputObjects().each(e);};b.eraseElement=function(e,c){if(e.value===c){e.value="";}};b.setElement=function(e,c){if(e.value===""){e.value=c;}};b.getCountryInfo=function(){if(a===null){a=window.countryInfo;}return a;};b.setCountryInfo=function(c){a=c;return b;};b.isEmpty=function(e,c){var l=null;var f=false;if((e)&&(c===undefined)){if(e.requiredempty){c=e.requiredempty;}else{c="";}}l=SKYSALES.Common.getValue(e);if((l===null)||(l===undefined)||(l.length===0)||(l===c)){f=true;}return f;};b.stripeTables=function(){$(".stripeMe tr:even").addClass("alt");return b;};};SKYSALES.Common.addEvent=function(c,a,b){$(c).bind(a,b);};SKYSALES.Common.getValue=function(a){var b=null;if(a){b=$(a).val();return b;}return null;};SKYSALES.InputLabel=function(){var a=this;a.getInputLabelRequiredFlag=function(){return"*";};a.getInputLabelSuffix=function(){return":";};a.formatInputLabel=function(){var b=a.getInputLabelRequiredFlag();var e=a.getInputLabelSuffix();var c=function(l){var f=$("label[for="+this.id+"]").eq(0);var n=$(f).text();var m="";var p=null;if(n!==""){m=$(this).attr("type");if((m!=="checkbox")&&(m!=="radio")){n=n;}p=this.required;if(p===undefined){p=null;}if(p===null){p=this.getAttribute("required");}if(p!==null){p=p.toString().toLowerCase();if(p==="true"){if(this.id.indexOf("RoundTrip")==-1){n="<span class='red'>"+b+"</span>"+n;}}}$(f).html(n);}};SKYSALES.common.getAllInputObjects().each(c);};};SKYSALES.Dhtml=function(){var a=this;a.getX=function(b){var c=0;if(b.x){c+=b.x;}else{if(b.offsetParent){while(b.offsetParent){c+=b.offsetLeft;b=b.offsetParent;}}}return c;};a.getY=function(b){var c=0;if(b.y){c+=b.y;}else{if(b){while(b){c+=b.offsetTop;b=b.offsetParent;}}}return c;};return a;};SKYSALES.Hint=function(){var a=this;a.addHintEvents=function(){var b=function(c){if((this.hint!==null)&&(this.hint!==undefined)){if(this.tagName&&(this.tagName.toString().toLowerCase()==="input")){a.addHintFocusEvents(this);}else{a.addHintHoverEvents(this);}}};SKYSALES.common.getAllInputObjects().each(b);};a.addHintFocusEvents=function(f,c){var e=function(){a.showHint(f,c);};var b=function(){a.hideHint(f,c);};if($(f).is(":hidden")===false){$(f).focus(e);$(f).blur(b);}};a.addHintHoverEvents=function(e,b){var c=function(){a.showHint(e,b);};var f=function(){a.hideHint(e,b);};$(e).hover(c,f);};a.getHintDivId=function(){return"cssHint";};a.showHint=function(l,t,n,f,b){var w=a.getHintDivId();var m=$("#"+w);var s=0;var q=0;var v=0;var p=0;if(n===undefined){n=l.hintxoffset;}if(f===undefined){f=l.hintyoffset;}if(b===undefined){b=l.hintReferenceid;}var u=$("#"+b).get(0);var r=new SKYSALES.Dhtml();if(!u){s=r.getX(l);q=r.getY(l);if(n===undefined){s+=l.offsetWidth+5;}}else{s=r.getX(u);q=r.getY(u);if(n===undefined){s+=u.offsetWidth+5;}}if(t===undefined){if(l.hint!==undefined){t=l.hint;}}m.html(t);m.show();n=(n!==undefined)?n:v;f=(f!==undefined)?f:p;var e=parseInt(n,10)+parseInt(s,10);var c=parseInt(f,10)+parseInt(q,10);m.css("left",e+"px");m.css("top",c+"px");};a.hideHint=function(c){var b=a.getHintDivId();$("#"+b).hide();};};SKYSALES.ValidationErrorReadAlong=function(){var a=this;a.objId="";a.obj=null;a.errorMessage="";a.isError=false;a.hasBeenFixed=false;a.hasValidationEvents=false;a.getValidationErrorHtml=function(){var b='<span id="validationErrorContainerReadAlongIFrame" class="hidden" ></span> <div id="validationErrorContainerReadAlong" class="validationErrorContainerStyle left"> <p class="close">  </p> <div id="validationErrorContainerReadAlongContent" > <div id="validationErrorContainerReadAlongList" > </div> </div> </div>';return b;};a.getValidationErrorCloseId=function(){return"validationErrorContainerReadAlongCloseButton";};a.getValidationErrorListId=function(){return"validationErrorContainerReadAlongList";};a.getValidationErrorIFrameId=function(){return"validationErrorContainerReadAlongIFrame";};a.getValidationErrorDivId=function(){return"validationErrorContainerReadAlong";};a.getFixedClass=function(){return"fixedValidationError";};a.addCloseEvent=function(){var c=a.getValidationErrorCloseId();var b=function(){a.hide();};$("#"+c).click(b);};a.addValidationErrorDiv=function(){$("#mainContent").append(a.getValidationErrorHtml());};a.hide=function(){var c=a.getValidationErrorIFrameId();var b=a.getValidationErrorDivId();$("#"+c).hide();$("#"+b).hide();};a.addFocusEvent=function(b){var e={obj:this};var c=function(f){var n=f.data.obj;var l=null;var z=null;var m=0;var v=0;var t=0;var q=0;var s=null;var w=null;var p=null;var r=null;var u=null;if(n.isError===true||$("#mainTraveler .validationError").length>0){l=new SKYSALES.Hint();l.hideHint();z=$("#"+a.getValidationErrorDivId());m=parseInt(z.width(),10)+5;v=parseInt(z.height(),10)+5;s=new SKYSALES.Dhtml();t=s.getX(n.obj);q=s.getY(n.obj);if($("#mainTraveler .validationError").length>0){t=$("#mainTraveler .validationError")[0].offsetLeft;q=$("#mainTraveler .validationError")[0].offsetTop;}else{if(n.isError===true||$("#termAndConditionAgm .validationError").length>0){l=new SKYSALES.Hint();l.hideHint();z=$("#"+a.getValidationErrorDivId());m=parseInt(z.width(),10)+5;v=parseInt(z.height(),10)+5;s=new SKYSALES.Dhtml();t=s.getX(n.obj);q=s.getY(n.obj);if($("#termAndConditionAgm .validationError").length>0){t+=730;q+=(-1);}else{if(($("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_TextBoxACCTNO_VI.validationError").length==1)||($("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_TextBoxACCTNO_MC.validationError").length==1)||($("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_TextBoxACCTNO_AX.validationError").length==1)){if(thisPaymentInputContainer.defaultCreditCardsArray[thisPaymentInputContainer.getActivePayment()]!=null){r=thisPaymentInputContainer.defaultCreditCardsArray[thisPaymentInputContainer.getActivePayment()];u=r.contentId;}if(u=="content_ExternalAccount:VI"){p=$("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_TextBoxACCTNO_VI").val().substring(0,6);}else{if(u=="content_ExternalAccount:MC"){p=$("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_TextBoxACCTNO_MC").val().substring(0,6);}else{if(u=="content_ExternalAccount:AX"){p=$("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_TextBoxACCTNO_AX").val().substring(0,6);}}}if(p=="469390"){t+=(-2);q+=(-28);$("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_DropDownListPaymentMethodCode").css("backgroundColor","#FFFFCC");$("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_DropDownListPaymentMethodCode").css("border","1px solid #DD0000");}}}}}if($(location).attr("href").toLowerCase().lastIndexOf("select.aspx")>0){if(!$.browser.msie){t=t+this.offsetWidth-$("#header")[0].offsetLeft-20;q=q-300;}else{if(t==0){t=350+$("#header")[0].offsetLeft;q=183;}if($.browser.msie&&$.browser.version==9&&n.obj.id.indexOf("destinationStationMultiColumn1")!=-1){q+=22;}t=t+this.offsetWidth;q=q-27;}if(n.obj.id.indexOf("RadioButtonMkt")>0){t+=143;}}else{if($("#mainTraveler .validationError").length>0){t=t+$("#mainTraveler .validationError")[0].offsetWidth;q=q-25;}else{t=t+this.offsetWidth-$("#wrapper")[0].offsetLeft-20;q=q-$("#wrapper")[0].offsetTop-30;}}if($.browser.msie){w=$("#"+a.getValidationErrorIFrameId());w.css("position","absolute");w.show();if(m>25){w.width(m-25);}w.height(v-5);w.css("left",t+16);w.css("top",q);}z.css("left",t);z.css("top",q);z.css("position","absolute");z.show("slow");return false;}if($("#termAndConditionAgm").length>0){if(($("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_TextBoxACCTNO_VI.validationError").length==0)||($("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_TextBoxACCTNO_MC.validationError").length==0)||($("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_TextBoxACCTNO_AX.validationError").length==0)){$("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_DropDownListPaymentMethodCode").removeAttr("style");$("#"+a.getValidationErrorDivId()).remove();}}};if($(this.obj).is(":hidden")===false){$(this.obj).bind("focus",e,c);$(this.obj).bind("blur",e,c);}};a.addBlurEvent=function(b){var e={obj:this};var c=function(f){var s=f.data.obj;var y=new SKYSALES.Validate(null,"","",null);y.validateSingleElement(this);var v=y.errors;var n=false;var p=true;if(y.validationErrorArray.length>0){if(y.validationErrorArray[0].isError===false){n=true;}}var u=s.getValidationErrorListId();var l=$("#"+u).find("li").eq(b);var m=s.getFixedClass();var x=function(){if((p===true)&&$(this).html()!=""&&($(this).attr("class").indexOf(m)===-1)){p=false;}};var t=true;for(var q=0;q<$("#"+u).find("li").length&&$("#mainTraveler").length>0;q++){if($("#"+u).find("li").eq(q).html()!=""){if(t=false){$("#"+u).find("li").eq(q).addClass("hidden");}t=false;}}var z=$("#"+u).find("li").length;var w=$("#"+u).find(".hidden").length;if(n===true){s.hasBeenFixed=true;if(s.objId=="CONTROLGROUP_OUTERTRAVELER_CONTROLGROUPTRAVELER_ContactInputTravelerView_TextBoxLastName"){validate($("#CONTROLGROUP_OUTERTRAVELER_CONTROLGROUPTRAVELER_ContactInputTravelerView_TextBoxEmailAddress"));}for(var r=b+1,q=0;r<$("#"+u).find("li").length&&q==0;r++){if($("#"+u).find("li").eq(r).html()!=""){$("#"+u).find("li").eq(r).removeClass("hidden");q=1;}}l.addClass(m);p=true;$("#"+u).find("li").each(x);if(p===true){$("#"+a.getValidationErrorDivId()).remove();}if($(this).attr("id").indexOf("DropDownListNationality_")!=-1){$("#CONTROLGROUP_OUTERTRAVELER_CONTROLGROUPTRAVELER_ButtonSubmit").removeClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELER_ButtonSubmit").removeClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELERCHANGE_ButtonSubmit").removeClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELERFLIGHTCHANGE_CONTROLGROUPTRAVELERFLIGHTCHANGE_ButtonSubmit").removeClass("dimContinue");}}else{if(!(z-w>0)){l.removeClass(m);l.removeClass("hidden");}s.hasBeenFixed=false;s.isError=true;if($(this).attr("id").indexOf("DropDownListNationality_")!=-1&&$(this).val()==$("#blockedNationals").val()){l.html($("#blockIsraelMessage").text());$("#CONTROLGROUP_OUTERTRAVELER_CONTROLGROUPTRAVELER_ButtonSubmit").addClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELER_ButtonSubmit").addClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELERCHANGE_ButtonSubmit").addClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELERFLIGHTCHANGE_CONTROLGROUPTRAVELERFLIGHTCHANGE_ButtonSubmit").addClass("dimContinue");}else{s.errorMessage=v;l.text(v);}$("#mainTraveler").length>0||$(this).attr("id").indexOf("ControlGroupAvailabilitySearchInputSelectView")>-1||$(this).attr("id").indexOf("ControlGroupSearchView")>-1?"true":$("#"+a.getValidationErrorDivId()).remove();if($(this).attr("id").indexOf("RadioButtonMkt")!=-1){$("#"+a.getValidationErrorDivId()).remove();}}if($("#termAndConditionAgm").length>0){$("#validationErrorContainerReadAlong").css("display","none");$("#validationErrorContainerStyle").css("display","none");$("#validationErrorContainerReadAlongContent").css("display","none");$("#"+a.getValidationErrorDivId()).remove();l.addClass("hidden");}if(($("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_TextBoxACCTNO_VI").length>0)||($("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_TextBoxACCTNO_MC").length>0)||($("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_TextBoxACCTNO_AX").length>0)){$("#validationErrorContainerReadAlong").css("display","none");$("#validationErrorContainerStyle").css("display","none");$("#validationErrorContainerReadAlongContent").css("display","none");$("#"+a.getValidationErrorDivId()).remove();l.addClass("hidden");}if($("#CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_TextBoxVoucherAccount_VO_ACCTNO").length>0){$("#validationErrorContainerReadAlong").css("display","none");$("#validationErrorContainerStyle").css("display","none");$("#validationErrorContainerReadAlongContent").css("display","none");$("#"+a.getValidationErrorDivId()).remove();l.addClass("hidden");}return false;};$(this.obj).bind("blur",e,c);};};SKYSALES.errorsHeader="Please correct the following.\n\n";SKYSALES.Redirect=function(l){var v=$("#ControlGroupCompactNewView_AvailabilitySearchInputCompactNewView_TextBoxMarketOrigin1").val();var u=$("#ControlGroupCompactNewView_AvailabilitySearchInputCompactNewView_TextBoxMarketDestination1").val();var x=$("#ControlGroupCompactNewView_AvailabilitySearchInputCompactNewViewdate_picker_id_1").val();var w=$("#ControlGroupCompactNewView_AvailabilitySearchInputCompactNewViewdate_picker_id_2").val();if(x!=""){var t=x.split("/");}if(w!=""){var s=w.split("/");}var r;var q=$("#ControlGroupCompactNewView_AvailabilitySearchInputCompactNewView_DropDownListPassengerType_ADT").val();var p=$("#ControlGroupCompactNewView_AvailabilitySearchInputCompactNewView_DropDownListPassengerType_CHD").val();var n=$("#ControlGroupCompactNewView_AvailabilitySearchInputCompactNewView_DropDownListPassengerType_INFANT").val();var m=$("#ControlGroupCompactNewView_MultiCurrencyConversionViewCompactSearchNewView_DropDownListCurrency").find("option:selected").text();if($("#oneWayOnly").checked=true){r="true";}else{r="false";}if(w!=""){window.location="http://85790adc0962402f803441a7cf247e54.cloudapp.net/Page/SkySalesRedirectHandler.aspx?IsReturn="+r+"&DepartureStation="+v+"&ArrivalStation="+u+"&DepartDate="+t[2]+"-"+t[0]+"-"+t[1]+"&ReturnDate="+s[2]+"-"+s[0]+"-"+s[1]+"&NoAdult="+q+"&NoChild="+p+"&NoInfant="+n+"&Currency="+m+"&Culture="+l;}else{window.location="http://85790adc0962402f803441a7cf247e54.cloudapp.net/Page/SkySalesRedirectHandler.aspx?IsReturn="+r+"&DepartureStation="+v+"&ArrivalStation="+u+"&DepartDate="+t[2]+"-"+t[0]+"-"+t[1]+"&ReturnDate="+"&NoAdult="+q+"&NoChild="+p+"&NoInfant="+n+"&Currency="+m+"&Culture="+l;}};SKYSALES.LowFareCalender=function(y){var t,s;var F=$("#ControlGroupAvailabilitySearchInputSelectView_AvailabilitySearchInputSelectView_TextBoxMarketOrigin1").val();var E=$("#ControlGroupAvailabilitySearchInputSelectView_AvailabilitySearchInputSelectView_TextBoxMarketDestination1").val();t=$("#selectMainBody div[class^='dayHeadersLarge'] span[class^='todayDate']")[0].innerHTML;if(t!=""){var D=t.split("/");}var B,l,q;var A=$("#ControlGroupAvailabilitySearchInputSelectView_AvailabilitySearchInputSelectView_DropDownListPassengerType_ADT").val();var z=$("#ControlGroupAvailabilitySearchInputSelectView_AvailabilitySearchInputSelectView_DropDownListPassengerType_CHD").val();var x=$("#ControlGroupAvailabilitySearchInputSelectView_AvailabilitySearchInputSelectView_DropDownListPassengerType_INFANT").val();var w=$("#ControlGroupAvailabilitySearchInputSelectView_MultiCurrencyConversionViewSelectView_DropDownListCurrency").find("option:selected").text();var u=w.indexOf("(");var v=w.indexOf(")");if(u>=0){w=w.substring(u+1,v);}if(document.getElementById("ControlGroupAvailabilitySearchInputSelectView_AvailabilitySearchInputSelectView_RoundTrip").checked){B="true";s=$("#selectMainBody div[class^='dayHeadersLarge'] span[class^='todayDate']")[1].innerHTML;if(s!=""){var C=s.split("/");}}else{B="false";}if(document.getElementById("PromoCode")){l=document.getElementById("PromoCode").innerHTML;}q=window.location.href;q=q.substring(0,q.lastIndexOf("/")+1);var r=$("#isProd").val();var p;if(r=="TRUE"){p="http://booking11.airasia.com";}else{p="http://stagingbooking11.airasia.com";}if(document.getElementById("ControlGroupAvailabilitySearchInputSelectView_AvailabilitySearchInputSelectView_RoundTrip").checked){window.location=p+"/Page/SkySalesRedirectHandler.aspx?IsReturn="+B+"&OriginStation="+F+"&ArrivalStation="+E+"&DepartureDate="+D[2]+"-"+SKYSALES.pad(D[0],2)+"-"+SKYSALES.pad(D[1],2)+"&ReturnDate="+C[2]+"-"+SKYSALES.pad(C[0],2)+"-"+SKYSALES.pad(C[1],2)+"&NoAdult="+A+"&NoChild="+z+"&NoInfant="+x+"&Currency="+w+"&Culture="+y+"&RedirectTo=LowFare"+"&pc="+l+"&respURL="+q;}else{window.location=p+"/Page/SkySalesRedirectHandler.aspx?IsReturn="+B+"&OriginStation="+F+"&ArrivalStation="+E+"&DepartureDate="+D[2]+"-"+SKYSALES.pad(D[0],2)+"-"+SKYSALES.pad(D[1],2)+"&ReturnDate="+"&NoAdult="+A+"&NoChild="+z+"&NoInfant="+x+"&Currency="+w+"&Culture="+y+"&RedirectTo=LowFare"+"&pc="+l+"&respURL="+q;}};SKYSALES.pad=function(b,a){var c=""+b;while(c.length<a){c="0"+c;}return c;};SKYSALES.Validate=function(f,e,a,m){var c=this;if(a===undefined){a=SKYSALES.errorsHeader;}c.form=f;c.namespace=e;c.errors="";c.validationErrorArray=[];c.setfocus=null;c.clickedObj=null;c.errorDisplayMethod="read_along";c.errorsHeader=a;c.namedErrors=[];c.dateRangeArray=[];if(m){c.regexElementIdFilter=m;}c.requiredAttribute="required";c.requiredEmptyAttribute="requiredempty";c.validationTypeAttribute="validationtype";c.regexAttribute="regex";c.checkAgeAttribute="checkage";c.minLengthAttribute="minlength";c.numericMinLengthAttribute="numericminlength";c.maxLengthAttribute="maxlength";c.numericMaxLengthAttribute="numericmaxlength";c.minValueAttribute="minvalue";c.maxValueAttribute="maxvalue";c.equalsAttribute="equals";c.dateRangeAttribute="daterange";c.dateRange1HiddenIdAttribute="date1hiddenid";c.dateRange2HiddenIdAttribute="date2hiddenid";c.validateCreditCardAttribute="validatecreditcard";c.numPaxAttribute="numpaxcheck";c.dateRegexAttribute="dateregex";c.checkFlightTimeAttribute="checkflighttime";c.byPassArrayValidationAttribute="bypassarray";c.defaultErrorAttribute="error";c.requiredErrorAttribute="requirederror";c.validationTypeErrorAttribute="validationtypeerror";c.regexErrorAttribute="regexerror";c.adtcheckAgeErrorAttribute="adtcheckageerror";c.chdcheckAgeErrorAttribute="chdcheckageerror";c.infcheckAgeErrorAttribute="infcheckageerror";c.pqnationalityerror="pqnationalityerror";c.scpAgeError="scpageerror";c.blockILerror="blockilerror";c.returnDateAttribute="returndate";c.departDateAttribute="departdate";c.paxTypeAttribute="paxtype";c.minLengthErrorAttribute="minlengtherror";c.maxLengthErrorAttribute="maxlengtherror";c.minValueErrorAttribute="minvalueerror";c.maxValueErrorAttribute="maxvalueerror";c.equalsErrorAttribute="equalserror";c.dateRangeErrorAttribute="daterangeerror";c.infantCountErrorAttribute="infantcounterror";c.numPaxErrorAttribute="numpaxerror";c.numPaxZeroErrorAttribute="numpaxzeroerror";c.validationCreditCardErrorAttribute="validationcreditcarderror";c.dateRegexErrorAttribute="dateregexerror";c.bigCardSuggestionAttribute="bigcardsuggestion";c.checkFlightTimeErrorAttribute="checkflighttimeerror";c.defaultError="{label} is invalid.";c.defaultRequiredError="{label} is required.";c.defaultCheckAgeError="{label} age is incorrect.";c.defaultValidationTypeError="{label} is invalid.";c.defaultRegexError="{label} is invalid.";c.defaultMinLengthError="{label} is too short in length.";c.defaultMaxLengthError="{label} is too long in length.";c.defaultMinValueError="{label} must be greater than {minValue}.";c.defaultMaxValueError="{label} must be less than {maxValue}.";c.defaultEqualsError="{label} is not equal to {equals}";c.defaultNotEqualsError="{label} cannot equal {equals}";c.defaultValidationCreditCardError="{label} does not match your Card Type, please reconfirm your details before proceeding.";c.bigCardVarification="Please select BIG Visa as the card type to continue payment.";c.defaultValidationErrorClass="validationError";c.defaultValidationErrorLabelClass="validationErrorLabel";c.sameDate=false;c.dateRangeErrorAlert=false;c.run=function(){var p=$(":input",SKYSALES.getSkySalesForm()).get();var q=null;for(var n=0;n<p.length;n+=1){q=p[n];if(!this.isExemptFromValidation(q)&&!this.isByPassArrayValidation(q)){c.validateSingleElement(q);}if(!this.isExemptFromValidation(q)&&this.isByPassArrayValidation(q)){c.byPassArrayValidation(q);}}return c.outputErrors();};c.byPassArrayValidation=function(p){this.validateRequired(p);var n=c.getValue(p);if((c.errors.length<1)&&(n!==null)&&(n!=="")){c.validateType(p);c.validateRegex(p);c.validateMinLength(p);c.validateMaxLength(p);c.validateMinValue(p);c.validateMaxValue(p);c.validateEquals(p);c.validateDateRange(p);c.ValidateInfantCount(p);c.ValidateNumPax(p);}};c.runBySelector=function(r){var q=$(r).find(":input").get();var p=null;var n=0;for(n=0;n<q.length;n+=1){p=q[n];c.validateSingleElement(p);}return false;};c.validateSingleElement=function(q){$(q).removeClass(c.defaultValidationErrorClass);$("label[for="+q.id+"]").eq(0).removeClass(this.defaultValidationErrorLabelClass);var p=new SKYSALES.ValidationErrorReadAlong();p.objId=q.id;p.obj=q;this.validationErrorArray[c.validationErrorArray.length]=p;this.validateRequired(q);var n=c.getValue(q);if((c.errors.length<1)&&(n!==null)&&(n!=="")){c.validateType(q);c.validateRegex(q);c.validateMinLength(q);c.validateMaxLength(q);c.validateMinValue(q);c.validateMaxValue(q);c.validateEquals(q);c.validateDateRange(q);c.validateCreditCard(q);c.ValidateInfantCount(q);c.ValidateNumPax(q);c.ValidateFlightTime(q);}};c.outputErrors=function(){var n=this.errorDisplayMethod.toString().toLowerCase();var s="";var p=[];var r=0;var t=true;if(this.errors){p=c.errors.split("\n");s+='<ul class="validationErrorList" >';for(r=0;r<p.length;r+=1){if(p[r]!==""){s+='<li class="validationErrorListItem" >'+p[r]+"</li>";}}s+="</ul>";if(n.indexOf("read_along")>-1){c.outputErrorsReadAlong(s);t=false;}if(n.indexOf("alert")>-1){alert(c.errorsHeader+c.errors);}if(t===true){alert(c.errorsHeader+c.errors);}if(c.setfocus){if($(c.setfocus).is(":hidden")===false){try{c.setfocus.blur();c.setfocus.focus();}catch(q){}}}return false;}else{if(c.sameDate||c.dateRangeErrorAlert){return false;}return true;}};c.outputErrorsReadAlong=function(r){var q=0;var n="";var s=null;var u=this;var t=function(v){this.hasValidationEvents=true;this.addFocusEvent(v);this.addBlurEvent(v);};u.validationErrorReadAlong=new SKYSALES.ValidationErrorReadAlong();u.readAlongDivId=$("#"+this.validationErrorReadAlong.getValidationErrorDivId()).attr("id");if(u.readAlongDivId===undefined){u.validationErrorReadAlong.addValidationErrorDiv();}n+='<ul class="validationErrorList" >';var p=false;for(q=0;q<u.validationErrorArray.length;q+=1){s=this.validationErrorArray[q];if(s.isError===true&&p==false){n+='<li class="validationErrorListItem" >'+s.errorMessage+"</li>";p=true;}else{n+='<li class="validationErrorListItem hidden" >'+s.errorMessage+"</li>";}}$("#"+u.validationErrorReadAlong.getValidationErrorListId()).html(n);$(u.validationErrorArray).each(t);};c.checkFocus=function(n){if(!c.setfocus){c.setfocus=n;}};c.setError=function(w,r,q){var p="";var x="";var v="";var u=0;var n=null;if(w.type==="radio"){p=w.getAttribute("name");if(p.length>0){if(c.namedErrors[p]!==undefined){return;}c.namedErrors[p]=p;}}x=w[r];if(!x){if(w.getAttribute(r)){x=w.getAttribute(r);}else{if(w[c.defaultErrorAttribute]){x=w[c.defaultErrorAttribute];}else{if(q){x=q;}else{x=c.defaultError;}}}}var t=x.match(/\{\s*(\w+)\s*\}/g);if(t){for(u=0;u<t.length;u+=1){v=t[u].replace(/\{\s*(\w+)\s*\}/,"$1");x=x.replace(/\{\s*\w+\s*\}/,c.cleanAttributeForErrorDisplay(w,v));}}if(w.id.indexOf("RadioButtonMkt")<0){$(w).addClass(this.defaultValidationErrorClass);$("label[for="+w.id+"]").eq(0).addClass(c.defaultValidationErrorLabelClass);}this.errors=x;var s=w.id;for(u=0;u<c.validationErrorArray.length;u+=1){n=c.validationErrorArray[u];if(n.objId===s){n.errorMessage=x;if(n.objId.indexOf("CONTROLGROUPPAYMENTBOTTOM")!=-1){if(n.objId.indexOf("CONTROLGROUPPAYMENTBOTTOM_PaymentInputViewPaymentView_TextBoxACCTNO")!=-1){n.isError=true;}else{n.isError=false;}}else{n.isError=true;}break;}}this.checkFocus(w);};c.cleanAttributeForErrorDisplay=function(s,n){var p=null;var r="";if(n===undefined){n="";}n=n.toLowerCase();var q="";if(n==="label"){q=$("label[for="+s.id+"]").eq(0).text();p=new SKYSALES.InputLabel();r=p.getInputLabelRequiredFlag();q=q.replace(r,"");}if(!q){q=s.id;}if(!q){return n;}if(n.match(/^(minvalue|maxvalue)$/i)){return q.replace(/[^\d.,]/g,"");}return q;};c.validateRequired=function(I){var C=c.requiredAttribute;var E=c.requiredEmptyAttribute;var s=I[C]?I[C]:I.getAttribute(C);var w=I[E]?I[E]:I.getAttribute(E);var M=c.checkAgeAttribute;var L=I[M]?I[M]:I.getAttribute(M);var p="PH";var A=null;c.radioGroupHash={};var J="";var F=false;var B=false;if($("#"+I.id+"").length>0&&($("#"+I.id+"")[0].offsetWidth>0||$("#"+I.id+"")[0].offsetHeight>0)){B=true;}if(s===undefined||s==null){s=$("#"+I.id).attr("required");}if(s!==undefined&&s!=null){s=s.toString().toLowerCase();if(w){w=w.toString().toLowerCase();}if((s==="true"||s==="required")&&(B||$("#mainTraveler").length>0)){A=c.getValue(I);if((I.type==="checkbox")&&(I.checked===false)){A="";}else{if(I.type==="radio"){J=I.getAttribute("name");if(c.radioGroupHash[J]===undefined){c.radioGroupHash[J]=$("input[name='"+J+"']");}F=c.radioGroupHash[J].is(":checked");if(!F){A="";}}}if((A===undefined)||(A==="none")||(A===null)||(A==="")||(A.toLowerCase()===w)){c.setError(I,c.requiredErrorAttribute,c.defaultRequiredError);}else{var M=c.checkAgeAttribute;var z=c.returnDateAttribute;var v=c.departDateAttribute;var q=c.paxTypeAttribute;var L=I[M]?I[M]:I.getAttribute(M);var y=I[z]?I[z]:I.getAttribute(z);var H=I[v]?I[v]:I.getAttribute(v);var n=I[q]?I[q]:I.getAttribute(q);if(L!==undefined&&L!=null){var G;var u;if(I.id.indexOf("DropDownListBirthDateYear_")!=-1){G=I.id.split("DropDownListBirthDateYear_");u=G[1];}var K=$("select[id*=DropDownListBirthDateMonth_"+u+"]"),D=$("select[id*=DropDownListBirthDateDay_"+u+"]"),t=$("select[id*=DropDownListBirthDateYear_"+u+"]"),r=new SKYSALES.Class.TravelerAge();r.init(K,D,t);if(y!==undefined&&y!=null){if(n=="ADT"){if(!r.isNotFutureDate()){c.setError(I,c.adtcheckAgeErrorAttribute,c.defaultCheckAgeError);}else{if(!r.isAdult(H,null)){c.setError(I,c.adtcheckAgeErrorAttribute,c.defaultCheckAgeError);}else{if(!r.isScpAge(H,null,"150",false)){c.setError(I,c.adtcheckAgeErrorAttribute,c.defaultCheckAgeError);}}}}else{if(n=="CHD"){if(!r.isNotFutureDate()){c.setError(I,c.chdcheckAgeErrorAttribute,c.defaultCheckAgeError);}else{if(!r.isChild(y,null)){c.setError(I,c.chdcheckAgeErrorAttribute,c.defaultCheckAgeError);}}}else{if(n=="INF"){if(!r.isNotFutureDate()){c.setError(I,c.infcheckAgeErrorAttribute,c.defaultCheckAgeError);}else{if(!r.isInfant(y,null,H)){c.setError(I,c.infcheckAgeErrorAttribute,c.defaultCheckAgeError);}}}else{if(n=="SCP"){if($("#CONTROLGROUP_OUTERTRAVELERFLIGHTCHANGE_CONTROLGROUPTRAVELERFLIGHTCHANGE_PassengerInputTravelerFlightChangeView_DropDownListNationality_"+u).val()==p||$("#CONTROLGROUP_OUTERTRAVELER_CONTROLGROUPTRAVELER_PassengerInputTravelerView_DropDownListNationality_"+u).val()==p){}else{c.setError(I,c.pqnationalityerror,c.defaultCheckAgeError);}if(!r.isScpAge(H,null,"60",true)){c.setError(I,c.scpAgeError,c.defaultCheckAgeError);}}else{if(n=="PWD"){var x=true;if($("#CONTROLGROUP_OUTERTRAVELERFLIGHTCHANGE_CONTROLGROUPTRAVELERFLIGHTCHANGE_PassengerInputTravelerFlightChangeView_DropDownListNationality_"+u).val()==p||$("#CONTROLGROUP_OUTERTRAVELER_CONTROLGROUPTRAVELER_PassengerInputTravelerView_DropDownListNationality_"+u).val()==p){}else{c.setError(I,c.pqnationalityerror,c.defaultCheckAgeError);}}}}}}}}if(I.id.indexOf("DropDownListNationality_")!=-1&&I.value==$("#blockedNationals").val()){c.setError(I,"displaycustom",$("#blockIsraelMessage").text());}}}}};c.validateType=function(u){var r=u[this.validationTypeAttribute]?u[this.validationTypeAttribute]:u.getAttribute(this.validationTypeAttribute);var t=this.getValue(u);if((r)&&(t!==null)){r=r.toLowerCase();if((r==="address")&&(!t.match(c.stringPattern))){c.setValidateTypeError(u);}else{if((r==="alphanumeric")&&(!t.match(c.alphaNumericPattern))){c.setValidateTypeError(u);}else{if((r==="amount")&&(!c.validateAmount(t))){c.setValidateTypeError(u);}else{if((r==="country")&&(!t.match(c.stringPattern))){c.setValidateTypeError(u);}else{if((r==="email")&&(!t.match(c.emailPattern))){c.setValidateTypeError(u);}else{if((r==="mod10")&&(!c.validateMod10(t))){var s="";var q=t.replace(/ /g,"");var n=thisPaymentInputContainer.defaultCreditCardsArray[thisPaymentInputContainer.getActivePayment()];for(var p=0;p<6;p++){s+=q[p];}if(s==="469390"&&n.contentId!="content_ExternalAccount:BG"){c.setError(u,c.bigCardSuggestionAttribute,c.bigCardVarification);}else{c.setValidateTypeError(u);}}else{if((r==="name")&&(!t.match(c.stringPattern))){c.setValidateTypeError(u);}else{if((r==="numeric")&&(!c.validateNumeric(t))){c.setValidateTypeError(u);}else{if((r.indexOf("date")===0)&&(!c.validateDate(u,r,t))){c.setValidateTypeError(u);}else{if((r==="state")&&(!t.match(c.stringPattern))){c.setValidateTypeError(u);}else{if((r==="string")&&(!t.match(c.stringPattern))){c.setValidateTypeError(u);}else{if((r==="uppercasestring")&&(!t.match(c.upperCaseStringPattern))){c.setValidateTypeError(u);}else{if((r==="zip")&&(!t.match(c.stringPattern))){c.setValidateTypeError(u);}}}}}}}}}}}}}}};c.validateRegex=function(r){var p=r[c.regexAttribute]!=undefined?r[c.regexAttribute]:r.getAttribute(c.regexAttribute);var q=c.getValue(r);var n=false;if($("#"+r.id+"").length>0&&($("#"+r.id+"")[0].offsetWidth>0||$("#"+r.id+"")[0].offsetHeight>0)){n=true;}if((q!==null)&&(p)&&(!q.match(p))&&(n)){this.setError(r,c.regexErrorAttribute,c.defaultRegexError);}};c.validateAge=function(s){var t=s[c.checkAgeErrorAttribute]!=undefined?s[c.checkAgeErrorAttribute]:s.getAttribute(c.checkAgeErrorAttribute);var q=c.getValue(s);var r=paxDetails.hasOwnProperty("birthDateMonthId")?$("#"+paxDetails["birthDateMonthId"]):null,n=paxDetails.hasOwnProperty("birthDateDayId")?$("#"+paxDetails["birthDateDayId"]):null,p=paxDetails.hasOwnProperty("birthDateYearId")?$("#"+paxDetails["birthDateYearId"]):null;travelerAge=new SKYSALES.Class.TravelerAge();travelerAge.init(r,n,p);};c.validateMinLength=function(r){var n=r[c.minLengthAttribute]!=undefined?r[c.minLengthAttribute]:r.getAttribute(c.minLengthAttribute);var q=r[c.numericMinLengthAttribute];var p=this.getValue(r);if((0<n)&&(p!==null)&&(p.length<n)){c.setError(r,c.minLengthErrorAttribute,c.defaultMinLengthError);}else{if((0<q)&&(0<p.length)&&(p.replace(c.numericStripper,"").length<q)){c.setError(r,c.minLengthErrorAttribute,c.defaultMinLengthError);}}};c.validateMaxLength=function(r){var n=r[c.maxLengthAttribute]!=undefined?r[c.maxLengthAttribute]:r.getAttribute(c.maxLengthAttribute);var q=r[c.numericMaxLengthAttribute];var p=this.getValue(r);if((0<n)&&(p!==null)&&(n<p.length)){c.setError(r,c.maxLengthErrorAttribute,c.defaultMaxLengthError);}else{if((0<q)&&(0<p.length)&&(q<p.replace(c.numericStripper,"").length)){c.setError(r,c.maxLengthErrorAttribute,c.defaultMaxLengthError);}}};c.validateMinValue=function(q){var n=q[c.minValueAttribute];var p=c.getValue(q);if((p!==null)&&(n!==undefined)&&(0<n.length)){if((5<n.length)&&(n.substring(0,5)==="&gt;=")){if(p<parseFloat(n.substring(5,n.length))){c.setError(q,c.minValueErrorAttribute,c.defaultMinValueError);}}else{if((4<n.length)&&(n.substring(0,4)==="&gt;")){if(p<=parseFloat(n.substring(4,n.length))){c.setError(q,c.minValueErrorAttribute,c.defaultMinValueError);}}else{if(p<parseFloat(n)){c.setError(q,c.minValueErrorAttribute,c.defaultMinValueError);}}}}};c.validateMaxValue=function(q){var n=q[this.maxValueAttribute];var p=this.getValue(q);if((p!==null)&&(n!==undefined)&&(0<n.length)){if((5<n.length)&&(n.substring(0,5)==="&lt;=")){if(p>parseFloat(n.substring(5,n.length))){c.setError(q,c.maxValueErrorAttribute,c.defaultMaxValueError);}}else{if((4<n.length)&&(n.substring(0,4)==="&lt;")){if(p>=parseFloat(n.substring(4,n.length))){c.setError(q,c.maxValueErrorAttribute,c.defaultMaxValueError);}}else{if(parseFloat(p)>n){c.setError(q,c.maxValueErrorAttribute,c.defaultMaxValueError);}}}}};c.validateEquals=function(q){var n=q[c.equalsAttribute];var p=c.getValue(q);if((p!==null)&&(n!==undefined)&&(0<n.length)){if((2<n.length)&&(n.substring(0,2)==="!=")){if(p===n.substring(2,n.length)){c.setError(q,c.equalsErrorAttribute,c.defaultEqualsError);}}}};c.validateCreditCard=function(t){var w=t[c.validateCreditCardAttribute];var v=c.getValue(t);var n="";if((v!==null)&&(w!==undefined)&&(0<w.length)){var q=v.substring(0,w.length);if(q!=w){c.setError(t,c.validationCreditCardErrorAttribute,c.defaultValidationCreditCardError);}if(thisPaymentInputContainer.selectedCreditCard==""&&thisPaymentInputContainer.defaultCreditCardsArray.length>0){var u=thisPaymentInputContainer.defaultCreditCardsArray[thisPaymentInputContainer.getActivePayment()];var s=$("#"+u.accountNumberInputId).val();var p=s.replace(/ /g,"");for(var r=0;r<6;r++){n+=p[r];}if(n==="469390"&&u.contentId!="content_ExternalAccount:BG"){c.setError(t,c.bigCardSuggestionAttribute,c.bigCardVarification);}}}};var l=function(u){var s=u.parent();var p=s.parent();var r=p.is(":hidden");var n=s.is(":hidden");var q=(p.parent()).is(":hidden");var t=!(r||(q||n));return t;};c.checkIfValidateDateRangeNeeded=function(u){var q=u.attributes[c.dateRangeAttribute]?u.attributes[c.dateRangeAttribute].value:u[c.dateRangeAttribute];var p=u.attributes[c.dateRange1HiddenIdAttribute]?u.attributes[c.dateRange1HiddenIdAttribute].value:u[c.dateRange1HiddenIdAttribute];var v=u.attributes[c.dateRange2HiddenIdAttribute]?u.attributes[c.dateRange2HiddenIdAttribute].value:u[c.dateRange2HiddenIdAttribute];var y="";var r="";var n=u.id;var x=false;var s=false;var w=null;var t=null;if((q!==undefined)&&(0<q.length)){y=n.charAt(n.length-1);if(this.validateNumeric(y)){r=y;}if(("2"===r)||(""===r)){w=$("#"+p);s=l(w);if(s){x=true;t=$("#"+v);c.dateRangeArray[0]=w.val();c.dateRangeArray[1]=t.val();c.dateRangeArray[2]=w.attr("dateFromat");}}}return x;};c.validateDateRange=function(u){var v=null;var t=false;var r=false;var n=false;if($("#"+u.id+"").length>0&&($("#"+u.id+"")[0].offsetWidth>0||$("#"+u.id+"")[0].offsetHeight>0)){n=true;}var q=u[c.dateRegexAttribute]!=undefined?u[c.dateRegexAttribute]:u.getAttribute(c.dateRegexAttribute);var s=c.getValue(u);if((s!==null)&&(q)&&(!s.match(q))&&(n)){this.setError(u,c.dateRegexErrorAttribute,c.defaultRegexError);return;}var p=c.checkIfValidateDateRangeNeeded(u);if(p&&(n)){v=new SKYSALES.Class.MarketDate();t=v.datesInOrder(this.dateRangeArray);if(!t){this.setError(u,this.dateRangeErrorAttribute,this.defaultError);}else{if(!c.dateRangeErrorAlert){c.dateRangeErrorAlert=false;}}}};c.ValidateInfantCount=function(s){var n=$("#"+s["id"]);var t=n.attr("id");var r=n.prop("tagName").toLowerCase();var p=t.lastIndexOf("_");if(p>-1){var q=t.substring(p+1,t.length).toLowerCase();if(r=="select"&&q=="infant"&&n.val()!="0"){var u=$("#"+t.substring(0,p)+"_ADT");if(u){if(u.val()<n.val()){this.setError(s,c.infantCountErrorAttribute,this.defaultError);return false;}}}}};c.ValidateNumPax=function(t){var r=t.attributes[c.numPaxAttribute]?t.attributes[c.numPaxAttribute].value:t[c.numPaxAttribute];var q=t["id"].lastIndexOf("_")+1;var s=t["id"].substring(q,t["id"].length);var u=t["id"].substring(0,q);scpCount=0;pwdCount=0;if(r=="true"){if($("#"+u+"SCP").length>0){scpCount=$("#"+u+"SCP").val();}if($("#"+u+"PWD").length>0){pwdCount=$("#"+u+"PWD").val();}if(s=="CHD"){var p=$("#"+t["id"].substring(0,q)+"ADT");var n=t.attributes["maxpax"]?t.attributes["maxpax"].value:t["maxpax"];if(parseInt(p.val())+parseInt(t.value)+parseInt(scpCount)+parseInt(pwdCount)>parseInt(n)){this.setError(t,c.numPaxErrorAttribute,this.defaultError);return false;}}else{if(s=="ADT"){totalADT=parseInt(t.value)+parseInt(scpCount)+parseInt(pwdCount);if(totalADT==0){this.setError(t,c.numPaxZeroErrorAttribute,this.defaultError);return false;}}}}};c.ValidateFlightTime=function(q){var r=q.attributes[c.checkFlightTimeAttribute]?q.attributes[c.checkFlightTimeAttribute].value:q[c.checkFlightTimeAttribute];if(r){var n=$("#"+q.id).attr("checked");if(n&&$("#selectMainBody div[class^='dayHeadersLarge'] span[class^='todayDate']").length>1){var A=$("#selectMainBody div[class^='dayHeadersLarge'] span[class^='todayDate']")[0].innerHTML;var y=$("#selectMainBody div[class^='dayHeadersLarge'] span[class^='todayDate']")[1].innerHTML;if(A!=""){var v=A.split("/");}if(y!=""){var t=y.split("/");}var w=new Date(v[2]+"/"+SKYSALES.pad(v[0],2)+"/"+SKYSALES.pad(v[1],2));var u=new Date(t[2]+"/"+SKYSALES.pad(t[0],2)+"/"+SKYSALES.pad(t[1],2));var s=new Date($("#selectMainBody td[class^='selectedAirlineCodeHilite'] div[class^='segmentStation'] p span[id^='UTCDATE']")[1].innerHTML);var p=new Date($("#selectMainBody td[class^='selectedAirlineCodeHilite'] div[class^='segmentStation'] p span[id^='UTCDATE']")[2].innerHTML);if(w>u){this.setError(q,c.checkFlightTimeErrorAttribute,this.defaultError);return false;}if(s>p){this.setError(q,c.checkFlightTimeErrorAttribute,this.defaultError);return false;}if(s.getTime()===p.getTime()){var z=+$("#selectMainBody td[class^='selectedAirlineCodeHilite'] div[class^='segmentStation'] p span[id^='UTCTIME']")[1].innerHTML.substring(0,4);var x=+$("#selectMainBody td[class^='selectedAirlineCodeHilite'] div[class^='segmentStation'] p span[id^='UTCTIME']")[2].innerHTML.substring(0,4);if(z>x){this.setError(q,c.checkFlightTimeErrorAttribute,this.defaultError);return false;}}}}};var b=function(){if($(this)[0].baseURI){return $(this)[0].baseURI.toLowerCase();}else{if($(this)[0].document){return $(this)[0].document.URL.toLowerCase();}}};c.isExemptFromValidation=function(n){if(n.id.indexOf(this.namespace)!==0){return true;}if(this.regexElementIdFilter&&(!n.id.match(this.regexElementIdFilter))){return true;}return false;};c.isByPassArrayValidation=function(n){if(n.attributes[c.byPassArrayValidationAttribute]&&n.attributes[c.byPassArrayValidationAttribute].value&&n.attributes[c.byPassArrayValidationAttribute].value!=="false"){return true;}return false;};c.setValidateTypeError=function(n){this.setError(n,this.validationTypeErrorAttribute,this.defaultValidationTypeError);};c.validateAmount=function(n){if((!n.match(this.amountPattern))||(n===0)){return false;}return true;};c.validateDate=function(t,q,r){var s="",n=new Date(),p=new Date(r);if(q){s=q.toLowerCase();}if((s==="dateyear")&&((r<n.getFullYear())||(!r.match(c.dateYearPattern)))){return false;}else{if((s==="datemonth")&&(!r.match(c.dateMonthPattern))){return false;}else{if((s==="dateday")&&(!r.match(c.DateDayPattern))){return false;}else{if((s==="date")&&(!SKYSALES.Util.isDateValid(p))){return false;}}}}return true;};c.validateMod10=function(t){var s=/\D/;var q=t.replace(/ /g,"");var r;var p=0;var u=0;var n=0;if(!s.test(q)){while(q.length<16){q="0"+q;}for(n=q.length-1;0<=n;n-=2){p+=parseInt(q.charAt(n),10);r=String((q.charAt(n-1)*2));for(u=0;u<r.length;u+=1){p+=parseInt(r.charAt(u),10);}}return(p%10===0);}return false;};c.validateNumeric=function(n){n=n.replace(/\s/g,"");if(!n.match(c.numericPattern)){return false;}return true;};c.getValue=function(n){return SKYSALES.Common.getValue(n);};c.stringPattern=/^.+$/;c.upperCaseStringPattern=/^[A-Z]([A-Z|\s])*$/;c.numericPattern=/^\d+$/;c.numericStripper=/\D/g;c.alphaNumericPattern=/^\w+$/;c.amountPattern=/^(\d+((\.|,|\s|\xA0)\d+)*)$/;c.dateYearPattern=/^\d{4}$/;c.dateMonthPattern=/^\d{2}$/;c.dateDayPattern=/^\d{2}$/;c.emailPattern=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,8}$/;};var validateBySelector=function(b){var c=null;var a=null;if(b!==undefined){c=new SKYSALES.Validate(null,"",SKYSALES.errorsHeader,null);c.clickedObj=a;c.runBySelector(b);return c.outputErrors();}return true;};var validate=function(f,a,c){var b=null;var m=null;var l=null;if(document.getElementById&&document.createTextNode){if(f.getAttribute){b=f;f=f.getAttribute("id").replace(/_\w+$/,"");}m=new SKYSALES.Validate(SKYSALES.getSkySalesForm(),f+"_",SKYSALES.errorsHeader,c);m.clickedObj=b;if(a){l=a;if(!a.getAttribute){l=document.getElementById(f+"_"+a);}m.validateSingleElement(l);return m.outputErrors();}return m.run();}return true;};var preventDoubleClick=function(){return true;};var events=[];var register=function(a,b){if(events[a]===undefined){events[a]=[];}events[a][events[a].length]=b;};var raise=function(eventName,eventArgs){var ix=0;if(events[eventName]!==undefined){for(ix=0;ix<events[eventName].length;ix+=1){if(eval(events[eventName][ix]+"(eventArgs)")===false){return false;}}}return true;};var WindowInitialize=function(){var a=window.onload;var b=function(){raise("WindowLoad",{});if(a){a();}document.onclick=function(l){var c=l||event||window.event;var m=c.srcElement||c.target;var f=navigator.userAgent.toLowerCase();if((m.tagName=="A"&&(c.ctrlKey||c.shiftKey))||(f.indexOf("safari")>0&&m.tagName=="INPUT"&&(c.ctrlKey||c.shiftKey)&&m.type=="submit")){SKYSALES.RemoveLoadingBar();}};document.onkeydown=function(l){var c=l||event||window.event;var f=c.keyCode||c.which||c.charCode;if(f==27){SKYSALES.RemoveLoadingBar();}};};$(window).ready(b);};SKYSALES.Util.displayPopUpConverter=function(){var a="CurrencyConverter.aspx";var b=window.converterWindow;if(!window.converterWindow||b.closed){b=window.open(a,"converter","width=360,height=220,toolbar=0,status=0,location=0,menubar=0,scrollbars=0,resizable=0");}else{b.open(a,"converter","width=360,height=220,toolbar=0,status=0,location=0,menubar=0,scrollbars=0,resizable=0");if($(b).is(":hidden")===false){b.focus();}}};var hideShow=function(a,c){var e=a;var b=c;if(document.getElementById&&document.getElementById(a)){if(document.getElementById(b).checked===true){document.getElementById(e).style.display="inline";}else{document.getElementById(e).style.display="none";}}};var jsLoadedCommon=true;SKYSALES.toggleAtAGlanceEvent=function(){$(this).next().slideToggle();};SKYSALES.toggleAtAGlance=function(){$("div.atAGlanceDivHeader").click(SKYSALES.toggleAtAGlanceEvent);};SKYSALES.initializeTime=function(){var a=0;var b="";for(a=0;a<23;a+=1){b+="<option value="+a+">"+a+"</option>";}if(b!==""){$("select.Time").append(b);}};$("a.animateMe").animate({height:"toggle",opacity:"toggle"},"slow");SKYSALES.aosAvailabilityShow=function(){$(this).parent().find("div.hideShow").show("slow");return false;};SKYSALES.aosAvailabilityHide=function(){$(this).parent().parent(".hideShow").hide("slow");return false;};SKYSALES.dropDownMenuEvent=function(){$("div.slideDownUp").toggle("fast");return false;};SKYSALES.faqHideShow=function(){$(this).parent("dt").next(".accordianSlideContent").slideToggle("slow");};SKYSALES.equipHideShow=function(){$("div#moreSearchOptions").slideToggle("slow");return false;};SKYSALES.initializeAosAvailability=function(){$(".hideShow").hide();$("a.showContent").click(SKYSALES.aosAvailabilityShow);$("a.hideContent").click(SKYSALES.aosAvailabilityHide);$("a.toggleSlideContent").click(SKYSALES.dropDownMenuEvent);$("a.accordian").click(SKYSALES.faqHideShow);$("a.showEquipOpt").click(SKYSALES.equipHideShow);$("a.hideEquipOpt").click(SKYSALES.equipHideShow);};SKYSALES.initializeMetaObjects=function(){$.metaobjects({clean:false});};SKYSALES.common=new SKYSALES.Common();function formatCurrency(c){var a=0;c=c.toString();if(isNaN(c)){c="0";}if(c.indexOf(".")>-1){a=c.substring(c.indexOf(".")+1,c.length);c=c*100;}a=c%100;if(a>0){c=Math.floor(c/100).toString();}if(a<10){a="0"+a;}for(var b=0;b<Math.floor((c.length-(1+b))/3);b+=1){c=c.substring(0,c.length-(4*b+3))+","+c.substring(c.length-(4*b+3));}return(c+"."+a);}SKYSALES.Util.sendAspFormFields=function(){var b=null;var e=window.document.getElementById("eventTarget");var c=window.document.getElementById("eventArgument");var a=window.document.getElementById("viewState");var f=window.theForm;if(!f.onsubmit||(f.onsubmit()!==false)){e.name="__EVENTTARGET";c.name="__EVENTARGUMENT";a.name="__VIEWSTATE";if(f.checkValidity){b=function(){$(this).removeAttr("required");};SKYSALES.common.getAllInputObjects().each(b);}}return true;};SKYSALES.Util.initStripeTable=function(){$(".hotelResult").hide();var a=function(){$(".stripeMe tr").removeClass("over");$(this).parent().parent().addClass("over");};$(".stripeMe input").click(a);};SKYSALES.Util.ready=function(){$("form").submit(SKYSALES.Util.sendAspFormFields);SKYSALES.initializeMetaObjects();SKYSALES.common.initializeCommon();SKYSALES.Util.initObjects();SKYSALES.initializeSkySalesForm();SKYSALES.toggleAtAGlance();SKYSALES.Util.initStripeTable();SKYSALES.initializeAosAvailability();$(".dropdown-styled").hover(function(){$(this).find("span.arrow").toggleClass("arrow-hovered ");},function(){$(this).find("span.arrow").toggleClass("arrow-hovered ");});$(".currencyComboBox").hover(function(){$(this).find("span.arrow").toggleClass("arrow-hovered ");},function(){$(this).find("span.arrow").toggleClass("arrow-hovered ");});if($.browser.msie){$(".multicoldd-drop-arrow").css({"margin-bottom":"-7px"});$(".currencyComboBox").find("span.arrow").css({"z-index":"0","display":"block"});$(".currencyComboBox").find("select").css({"z-index":"1","filter":"alpha(opacity=70)","zoom":"1","width":"275px"});$(".currencyComboBox").css({"width":"255px","overflow":"hidden"});$(".dropdown-styled").find("span.arrow").css({"z-index":2});$(".dropdown-styled").find("select").css({"z-index":1,"position":"relative","zoom":"1"});$(".dropdown-styled").find("span.arrow").hover(function(){$(this).css({"z-index":"0","display":"block"});},function(){$(this).css({"z-index":"2","display":"block"});});}if($.browser.msie&&$.browser.version==7){$(".multicoldd-drop-arrow").css({"margin-bottom":"1px","right":"-13px"});$(".currencyComboBox").find("select").css({"width":"255px"});$(".currencyComboBox").find("span.arrow").css({"z-index":"0","display":"none"});$(".hideSearchSpan").css({"margin-top":"30px","margin-bottom":"0px"});$(".loginDiv").css({"margin-left":"370px"});$(".rgMasterTable").find("td.resultFareCell2, td.resultFareCell3, td.resultFareCell4").css({"width":"auto"});$("ol.menu-text").css({"margin-left":"40px"}).children("li").each(function(a){$(this).prepend("<span>"+(a+1)+". </span>");});}if($.browser.msie&&$.browser.version==8){$(".multicoldd-drop-arrow").css({"margin-bottom":"-9px"});}};$(document).ready(SKYSALES.Util.ready);SKYSALES.openNewWindow=function(b,a,c){var e=window.open(b,a,c);};SKYSALES.tooltip=function(){var e="tt";var w=0;var l=0;var v=700;var m=10;var f=20;var q=95;var n=0;var r=null,x=null,s=null,u=null,p=null;var a=document.all?true:false;return{show:function(t,c,b){if(typeof(b)==="undefined"){e="tt";}else{e="tt2";}if(typeof(b)==="undefined"){b=23;}l=b;document.onmousemove=SKYSALES.tooltip.pos;if($("#"+e).length==0){r=document.createElement("div");r.setAttribute("id",e);if(b==23){x=document.createElement("div");x.setAttribute("id",e+"left");}s=document.createElement("div");s.setAttribute("id",e+"cont");r.appendChild(s);document.body.appendChild(r);r.style.opacity=0;$("#"+e).css("filter","alpha(opacity=0)");}else{r=document.getElementById(e);s=document.getElementById(e+"cont");}r.style.display="block";s.innerHTML=t;r.style.width=c?c+"px":"auto";s.style.width=c?(c-60)+"px":"auto";s.style.height="auto";if(!c&&a){x.style.display="none";r.style.width=r.offsetWidth;s.style.width=(r.offsetWidth-60);x.style.display="block";}if(r.offsetWidth>v){r.style.width=v+"px";s.style.width=(v-60)+"px";}p=(parseInt(r.offsetHeight)+w)/2;clearInterval(r.timer);r.timer=setInterval(function(){SKYSALES.tooltip.fade(1);},f);},pos:function(t){var c=a?event.clientY+document.documentElement.scrollTop:t.pageY;var b=a?event.clientX+document.documentElement.scrollLeft:t.pageX;if(l==23){r.style.top=(c-p)+"px";}else{r.style.top=(c+30)+"px";}r.style.left=(b+l)+"px";},fade:function(t){var b=n;if((b!=q&&t==1)||(b!=0&&t==-1)){var c=m;if(q-b<m&&t==1){c=q-b;}else{if(n<m&&t==-1){c=b;}}n=b+(c*t);r.style.opacity=n*0.01;$("#"+e).css("filter","alpha(opacity="+n+")");}else{clearInterval(r.timer);if(t==-1){r.style.display="none";}}},hide:function(){clearInterval(r.timer);r.timer=setInterval(function(){SKYSALES.tooltip.fade(-1);},f);}};}();SKYSALES.DDfriendlyReminder=function(){return{show:function(){document.getElementById("friendlyReminder").style.display="block";clearInterval(20);},hide:function(){document.getElementById("friendlyReminder").style.display="none";}};}();SKYSALES.CCfriendlyReminder=function(){return{show:function(){document.getElementById("ccFriendlyReminder").style.display="block";clearInterval(20);},hide:function(){document.getElementById("ccFriendlyReminder").style.display="none";}};}();$(document).ready(function(){SKYSALES.startSessionTracking();});window.onbeforeunload=function(){if(SKYSALES.sessionTracking){SKYSALES.sessionTracking.sessionExpiry=0;}SKYSALES.ReDisplayLoadingBar();};SKYSALES.startSessionTracking=function(){if(SKYSALES.sessionTracking&&parseInt(SKYSALES.sessionTracking.sessionExpiry)>0){setTimeout("SKYSALES.launchSessionNotice();",(((parseInt(SKYSALES.sessionTracking.sessionExpiry)*60)-30-SKYSALES.sessionTracking.sessionExpiryCountdown)*1000));}};$(window).resize(function(){if($("#dimmer").length>0){$("#dimmer").css({"width":"100%","height":"100%"});}if($("#loadingDimmer").length>0){$("#loadingDimmer").css({"width":"100%","height":"100%"});}if($("#blockDimmer").length>0){$("#blockDimmer").css({"width":"100%","height":"100%"});}});SKYSALES.launchSessionNotice=function(){if(SKYSALES.sessionTracking&&parseInt(SKYSALES.sessionTracking.sessionExpiry)>0){if($("#dimmer").length>0){$("#dimmer").remove();$("#sessionNoticeBox").remove();}$("body").append('<div id="dimmer" style="display: block; position: fixed; z-index:998;"></div><div id="sessionNoticeBox"><span id="sessionNoticeText">'+SKYSALES.sessionTracking.timeRemaining+'<span id="sessionNoticeCount">'+SKYSALES.sessionTracking.sessionExpiryCountdown+'</span></span><br/><br/><input id="sessionNoticeOK" type="button" value="'+SKYSALES.sessionTracking.noticeContinue+'" /></div>');$("#dimmer").show().css({"width":"100%","height":"100%"});$("#sessionNoticeBox").show();SKYSALES.sessionNoticeCountdownTick();window.focus();$("#sessionNoticeOK").focus();SKYSALES.windowTitle=document.title;document.title=" ";$("#sessionNoticeOK").click(function(){sCount=0;if($("#sessionNoticeCount").length>0){sCount=parseInt($("#sessionNoticeCount").html());}$("#dimmer").remove();$("#sessionNoticeBox").remove();document.title=SKYSALES.windowTitle;if(sCount>0){$.post("SessionRefresh.aspx");SKYSALES.startSessionTracking();}else{showMsg=false;window.location="Search.aspx";}});}};SKYSALES.sessionNoticeCountdown=function(){sCount=0;if($("#sessionNoticeCount").length>0){sCount=parseInt($("#sessionNoticeCount").html());}if(sCount>0){sCount=sCount-1;$("#sessionNoticeCount").html(sCount);if(sCount>0){SKYSALES.sessionNoticeCountdownTick();if(document.title!=SKYSALES.windowTitle){document.title=SKYSALES.windowTitle;}else{document.title=SKYSALES.sessionTracking.noticeWindowTitle;}window.focus();$("#sessionNoticeOK").focus();}}if(sCount==0&&$("#sessionNoticeText").length>0){$("#sessionNoticeBox").remove();window.alert(SKYSALES.sessionTracking.expiredText);$("#dimmer").remove();showMsg=false;window.location="Search.aspx";}};SKYSALES.sessionNoticeCountdownTick=function(){setTimeout("SKYSALES.sessionNoticeCountdown();",1000);};SKYSALES.setNoBaggage=function(a){for(var b=0;b<a.options.length;b++){if(a.options[b].value==""){a.options[b].selected=true;$(a).trigger("change");return;}}};SKYSALES.myClickHandler=function(a){if(a.preventDefault){a.preventDefault();}a.returnValue=false;};SKYSALES.waiveWCHFee=function(b,a){$.each($("[id*=WheelchairInputView][id*=passengerNumber_"+a+"]"),function(){SKYSALES.Util.updatePriceDisplay($(this));});};SKYSALES.numberSelectedWCH=function(f,a){var c=0;dropDownWCHarray=$('[id*=WheelchairInputView][id$="'+a+'"]');for(var b=0;b<dropDownWCHarray.length;b++){dropDownWCH=dropDownWCHarray[b];if($(dropDownWCH).val()&&$(dropDownWCH).val()!=""){var e=$(dropDownWCH).val().split("_").length>4?$(dropDownWCH).val().split("_")[4]:$(dropDownWCH).val();if(e==f){c++;}}}return c;};SKYSALES.SelectPageDDLCustomValidate=function(a){if($("#validationErrorContainerReadAlong").length>0){validate(a)?$("#validationErrorContainerReadAlong").remove():false;}};SKYSALES.DisplayLoadingBar=function(){$("#loadingDimmer").show();$("#loadingBarBox").show();window.focus();$("#loadingImage").focus();return true;};SKYSALES.RemoveLoadingBar=function(){if($("#loadingDimmer").length>0){$("#loadingDimmer").hide();$("#loadingBarBox").hide();}};SKYSALES.ReDisplayLoadingBar=function(){if($("#loadingImage").length>0&&document.getElementById("loadingBarBox").style.display!="none"){setTimeout("SKYSALES.DisplayLoadingBar();",10);}};SKYSALES.BlockIsraelPromter=function(){if($("#blockDimmer").length>0){$("#blockDimmer").remove();$("#blockNoticeBox").remove();}$("body").append('<div id="blockDimmer"></div><div id="blockNoticeBox"><span id="blockNoticeText"></span><br/><br/><input id="blockNoticeOK" type="button" value=" OK " /></div>');$("#blockDimmer").css({"width":"100%","height":"100%"}).hide();$("#blockNoticeBox").hide();$("#blockNoticeOK").click(function(){$("#blockDimmer").remove();$("#blockNoticeBox").remove();});};SKYSALES.validateNationality=function(l,c,s,t){var a=true;if($("#needBlockNational").length>0){var m;var q=0;if(l){if(l.id===undefined){m=l;}else{m=$("#"+l.id);}}else{m=$("#"+($("#pClientId").val()+"_DropDownListNationality_0"));}$("#CONTROLGROUP_OUTERTRAVELER_CONTROLGROUPTRAVELER_ButtonSubmit").removeClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELER_ButtonSubmit").removeClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELERCHANGE_ButtonSubmit").removeClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELERFLIGHTCHANGE_CONTROLGROUPTRAVELERFLIGHTCHANGE_ButtonSubmit").removeClass("dimContinue");var e=$("#blockedNationals").val();if(m.val()==e&&c==true){SKYSALES.BlockIsraelPromter();document.location.href="#";$("#CONTROLGROUP_OUTERTRAVELER_CONTROLGROUPTRAVELER_ButtonSubmit").addClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELER_ButtonSubmit").addClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELERCHANGE_ButtonSubmit").addClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELERFLIGHTCHANGE_CONTROLGROUPTRAVELERFLIGHTCHANGE_ButtonSubmit").addClass("dimContinue");a=false;}var p=m.attr("id");var r=p.indexOf("DropDownListNationality");var n=p.substring(0,r)+"DropDownListNationality";$("select[id*='"+n+"']").each(function(u){if(this.options[this.selectedIndex].value==e&&s){$("#CONTROLGROUP_OUTERTRAVELER_CONTROLGROUPTRAVELER_ButtonSubmit").addClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELER_ButtonSubmit").addClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELERCHANGE_ButtonSubmit").addClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELERFLIGHTCHANGE_CONTROLGROUPTRAVELERFLIGHTCHANGE_ButtonSubmit").addClass("dimContinue");a=false;}});if(t){var b=m.closest("div[id^=content_]").attr("id");var f=b.replace("content_","");if(parseInt(f)<$(".tabcontent").length-1){$("#CONTROLGROUP_OUTERTRAVELER_CONTROLGROUPTRAVELER_ButtonSubmit").addClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELER_ButtonSubmit").addClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELERCHANGE_ButtonSubmit").addClass("dimContinue");$("#CONTROLGROUP_OUTERTRAVELERFLIGHTCHANGE_CONTROLGROUPTRAVELERFLIGHTCHANGE_ButtonSubmit").addClass("dimContinue");}}}return a;};SKYSALES.loginDisp="show";SKYSALES.toggleLogin=function(){if(SKYSALES.loginDisp=="show"){$("#loginControl").removeClass("login_expand_icon").addClass("login_collapse_icon");$("#loginContainer").show("slide");SKYSALES.loginDisp="hide";}else{$("#loginControl").removeClass("login_collapse_icon").addClass("login_expand_icon");$("#loginContainer").hide("slide");SKYSALES.loginDisp="show";}};function toggleOneWayOnly(c,a,b){if($("#"+c).length>0){if($("#"+c).attr("checked")){$("#"+a).click();}else{$("#"+b).click();}}}function showDiv(a){if($("#"+a).length>0){if($("#"+a).attr("checked")){$("#termAndConditionAgm").css("backgroundColor","white");$("#termAndConditionAgm").css("border","none");$("#validationErrorContainerReadAlong").css("display","none");$("#validationErrorContainerStyle").css("display","none");}else{$("#termAndConditionAgm").css("backgroundColor","#FFFFCC");$("#termAndConditionAgm").css("border","1px solid #DD0000");$("#validationErrorContainerReadAlong").css("display","none");$("#validationErrorContainerStyle").css("display","none");}}}SKYSALES.selectedFareCellId=new Array();SKYSALES.selectedFareRowId=new Array();SKYSALES.selectedFareColumnId=new Array();SKYSALES.selectedFareCellId[1]="";SKYSALES.selectedFareCellId[2]="";SKYSALES.selectedFareRowId[1]="";SKYSALES.selectedFareRowId[2]="";SKYSALES.selectedFareColumnId[1]="";SKYSALES.selectedFareColumnId[2]="";SKYSALES.hiliteFare=function(l,c,f,b,a,e){if($("#"+c).length>0){if($("#"+c).attr("checked")==undefined||$("#"+c).attr("checked")==null){$("#"+c).attr("checked","checked");$("#"+c).click();}}fareCellId=c+"CellId";if($("#"+fareCellId).length>0){if($("#"+SKYSALES.selectedFareCellId[l])){$("#"+SKYSALES.selectedFareCellId[l]).removeClass("resultFareHilite"+e).find(".limited-selected").removeClass("limited-selected").addClass("limited");$("#"+SKYSALES.selectedFareCellId[l]).closest("td").removeClass("selected");$("#"+SKYSALES.selectedFareCellId[l]).addClass("resultFare"+e);}$("#"+fareCellId).removeClass("resultFare"+e).addClass("resultFareHilite"+e);$("#"+fareCellId).closest("td").addClass("selected").find(".limited").removeClass("limited").addClass("limited-selected");SKYSALES.selectedFareCellId[l]=fareCellId;}if($("#"+f).length>0){if($("#"+SKYSALES.selectedFareRowId[l])){$("#"+SKYSALES.selectedFareRowId[l]).removeClass("selectedAirlineCodeHilite").addClass("selectedAirlineCode");}$("#"+f).removeClass("selectedAirlineCode").addClass("selectedAirlineCodeHilite");SKYSALES.selectedFareRowId[l]=f;}if($("#"+b).length>0){if($("#"+SKYSALES.selectedFareColumnId[l])){$("#"+SKYSALES.selectedFareColumnId[l]).removeClass("resultClassHilite").addClass("resultClass");}$("#"+b).removeClass("resultClass").addClass("resultClassHilite");SKYSALES.selectedFareColumnId[l]=b;}};SKYSALES.CheckPQTCPrompter=function(a){var q="";var p="";var m="";var l="";var f="";var e="";var c="";var b="";var n=true;if(parseInt($(".selectedAirlineCodeHilite .scheduleFlightNumber").length)<=2){q=$(".selectedAirlineCodeHilite .scheduleFlightNumber .hotspot span")[0].getAttribute("class");if($(".selectedAirlineCodeHilite")[1]!=null){m=$(".selectedAirlineCodeHilite .scheduleFlightNumber .hotspot span")[1].getAttribute("class");}f=q.substring(0,2);if(m!=""){c=m.substring(0,2);}if(a!=""){if(f=="PQ"||c=="PQ"||f=="Z2"||c=="Z2"){n=window.confirm(a);}else{n=true;}}}else{q=$(".selectedAirlineCodeHilite .scheduleFlightNumber span")[0].getAttribute("Class");p=$(".selectedAirlineCodeHilite .scheduleFlightNumber span")[2].getAttribute("Class");if($(".selectedAirlineCodeHilite")[1]!=null){m=$(".selectedAirlineCodeHilite .scheduleFlightNumber span")[3].getAttribute("Class");}if($(".selectedAirlineCodeHilite")[1]!=null){l=$(".selectedAirlineCodeHilite .scheduleFlightNumber span")[5].getAttribute("Class");}f=q.substring(0,2);e=p.substring(0,2);if(m!=""){c=m.substring(0,2);}if(l!=""){b=l.substring(0,2);}if(a!=""){if(f=="PQ"||e=="PQ"||c=="PQ"||b=="PQ"||f=="Z2"||e=="Z2"||c=="Z2"||b=="Z2"){n=window.confirm(a);}else{n=true;}}}return n;};SKYSALES.CheckZ2Prompter=function(a){var n=false;if($("#hdZ2_AGENT_BLOCK").val()=="true"){var q="";var p="";var m="";var l="";var f="";var e="";var c="";var b="";if(parseInt($(".selectedAirlineCodeHilite .scheduleFlightNumber").length)<=2){q=$(".selectedAirlineCodeHilite .scheduleFlightNumber .hotspot span")[0].getAttribute("class");if($(".selectedAirlineCodeHilite .scheduleFlightNumber .hotspot span")[1]!=null){m=$(".selectedAirlineCodeHilite .scheduleFlightNumber .hotspot span")[1].getAttribute("class");}f=q.substring(0,2);if(m!=""){c=m.substring(0,2);}if(a!=""){if(c==""){c=f;}if(f=="Z2"&&c=="Z2"){n=true;}else{alert(a);}}}else{q=$(".selectedAirlineCodeHilite .scheduleFlightNumber span")[0].getAttribute("Class");p=$(".selectedAirlineCodeHilite .scheduleFlightNumber span")[2].getAttribute("Class");if($(".selectedAirlineCodeHilite .scheduleFlightNumber span")[3]!=null){m=$(".selectedAirlineCodeHilite .scheduleFlightNumber span")[3].getAttribute("Class");}if($(".selectedAirlineCodeHilite .scheduleFlightNumber span")[5]!=null){l=$(".selectedAirlineCodeHilite .scheduleFlightNumber span")[5].getAttribute("Class");}f=q.substring(0,2);e=p.substring(0,2);if(m!=""){c=m.substring(0,2);}if(l!=""){b=l.substring(0,2);}if(a!=""){if($(".selectedAirlineCodeHilite .scheduleFlightNumber span")[3]==""){c=f;b=f;}if(f=="Z2"&&e=="Z2"&&c=="Z2"&&b=="Z2"){n=true;}else{alert(a);}}}}else{n=true;}return n;};SKYSALES.changeTandCLink=function(a){if($("#termsAndConditionsLink")){$("#termsAndConditionsLink")[0].href="tandc_"+a+".html";}};SKYSALES.openTermsAndConditions=function(b,f){var e=SKYSALES.AK_defineLanguagePath(f);var a="http://www.airasia.com/"+e+"/about-us/terms-and-conditions.page";var c=window.open(a,"TermsAndConditions","width=600,height=500,toolbar=0,status=0,menubar=0,scrollbars=1,resizable=Yes");};SKYSALES.openFareRules=function(e){var c=SKYSALES.AK_defineLanguagePath(e);var a="http://www.airasia.com/"+c+"/our-fares/fare-rules.page ";var b=window.open(a,"FareRules","width=600,height=500,toolbar=0,status=0,menubar=0,scrollbars=1,resizable=Yes");};SKYSALES.openFerryTransfer=function(e){var c=SKYSALES.AK_defineLanguagePath(e);var a="http://www.airasia.com/"+c+"/island-transfers-tnc.page ";var b=window.open(a,"FerryTransfer","width=600,height=500,toolbar=0,status=0,menubar=0,scrollbars=1,resizable=No");};SKYSALES.openPrivacyPolicy=function(e){var c=SKYSALES.AK_defineLanguagePath(e);var a="http://www.airasia.com/"+c+"/privacy-policy.page";var b=window.open(a,"PrivacyPolicy","width=600,height=500,toolbar=0,status=0,menubar=0,scrollbars=1,resizable=Yes");};SKYSALES.AK_defineLanguagePath=function(a){switch(a){case"ms-MY":language_path="my/ms";break;case"en-GB":language_path="my/en";break;case"en-TT":language_path="th/th";break;case"en-US":language_path="my/en";break;case"zh-CN":language_path="cn/zh";break;case"zh-HK":language_path="hk/zh";break;case"zh-TW":language_path="tw/zh";break;case"vi-VN":language_path="vn/vi";break;case"id-ID":language_path="id/id";break;case"ko-KR":language_path="kr/ko";break;case"ja-JP":language_path="jp/ja";break;case"fr-FR":language_path="fr/fr";break;case"fa-IR":language_path="ir/fa";break;case"ar-SY":language_path="sa/ar";break;case"fr":language_path="fr/fr";break;default:language_path="my/en";}return language_path;};function genSelectConversionBuddyButton(){if(document.getElementById("CBShareButton")!=null&&document.getElementById("CBShareButton").innerHTML=="true"){if($("div[class='total-amount']").length>0){var b=$("div[class^='total-amount'] span[class*='total-currency']")[0].innerHTML;var c=$("div[class^='total-amount'] span[class*='total-value']")[0].innerHTML.split(",").join("");var a=document.getElementById("conversionBuddy_pn").innerHTML.replace("|amount|",b+" "+c);document.getElementById("conversionBuddySelect").innerHTML=('<a href="#" style="position:absolute;display:block;" class="sb_facebook" sb_params="{\'pn\': \''+a+'\'}"></a><a href="#" style="position:absolute;left:68px;display:block;" class="sb_twitter" sb_params="{\'twitterText\': \''+a+'\'}"></a><a href="#" style="position:absolute;left:135px;display:block;" class="sb_email" sb_params="{\'pn\': \''+a+"'}\"></a>").split(",").join("&amp;#44;");for(key in CBWA_.settings.objHash){if(CBWA_.settings.objHash.hasOwnProperty(key)){if(!document.getElementById(key)){try{delete CBWA_.settings.objHash[key];}catch(f){CBWA_.settings.objHash[key]=null;}}}}CBWA_.render("conversionBuddySelect");}}}SKYSALES.togglePriceSummary=function(b){var a="";if(b=="OtherTaxesAndFees"){a="#OtherTaxesAndFees";}else{if(b=="PriceMarket1"){a="#PriceMarket1";}else{if(b=="PriceMarket2"){a="#PriceMarket2";}}}if($(a).hasClass("expand_icon")){$(a).removeClass("expand_icon").addClass("collapse_icon");}else{$(a).removeClass("collapse_icon").addClass("expand_icon");}};SKYSALES.openAAGo=function(f){var c="";var n="";var e="";var p="";var b=window.location.href;if(b!=null){var l=b.split("/");if(l[3]!=null){e=l[3];e=e.toUpperCase();}if(l[4]!=null){p=l[4];p=p.toUpperCase();}}switch(e){case"AU":c="AUSTRALIA";break;case"BN":c="BRUNEI";break;case"CN":c="CHINA";break;case"HK":c="HONGKONG";break;case"IN":c="INDIA";break;case"ID":c="INDONESIA";break;case"MO":c="MACAU";break;case"MY":c="MALAYSIA";break;case"PH":c="PHILLIPPINES";break;case"SG":c="SINGAPORE";break;case"KR":c="KOREA";break;case"TW":c="TAIWAN";break;case"TH":c="THAILAND";break;case"GB":c="UK";break;case"JP":c="JAPAN";break;case"FR":c="FRANCE";break;case"NZ":c="NEWZEALAND";break;default:c="ROW";}switch(p){case"EN":n="en";break;case"ZH":n="zz";break;case"ID":n="id";break;case"MS":n="ms";break;case"KO":n="kr";break;case"TH":n="th";break;case"JA":n="jp";break;default:n="en";}if((e=="CN")&&(p=="ZH")){n="zh";}var a=f+n+c;var m=window.open(a,"_self","");};SKYSALES.get_url_param=function(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a="[\\?&]"+b+"=([^&#]*)";var e=new RegExp(a);var c=e.exec(window.location.href);if(c==null){return"";}else{return c[1];}};SKYSALES.ShowContent=function(a){document.getElementById(d).style.display="block";}
/*!
This file is part of the Navitaire NewSkies application.
Copyright (C) Navitaire.  All rights reserved.
*/
;if(SKYSALES.Class.AvailabilityInput===undefined){SKYSALES.Class.AvailabilityInput=function(){var a=this;a.detailsLinks=null;a.journeyInfoArray=[];a.productClasses=[];a.fareClasses=[];a.fareCategories=[];a.changeLimits=[];a.departureDates=[null,null];a.submitButtonId="";a.restrictSameFareCategory="";a.sameCategoryMessage="";a.agreement24HrMessage="";a.incompleteFareSelection="";a.isNewBooking="true";a.mostRestrictiveCutOff=0;a.isWithinCutOffHours=[false,false];a.WithinTimeLimit=120;a.isWithinTimeLimit=[false,false];a.cutOffTime=null;a.agreement24HrsId="";a.agreement24HrsCheckboxId="";a.agreementCutOffHrsNoteId="";a.taxAndFeeProgressMessage="";a.infantAgeText="";a.submitButton=null;a.isExemptedFromCutoff=null;a.hideMarketIndex="";a.marketCount=null;a.preselectFares=null;a.clientId="";a.differentMarketMsg="";a.differentTransferMsg="";a.hiflyerFares=null;a.isFlightChange=false;a.marketDatesMessage="";a.userSelectedDateTime=[];a.offloadPassengers="";a.offloadPassengerMessage="";a.infantArray=[];a.culture="";a.addEvents=function(){a.addGetPriceItineraryInfoEvents();a.addEquipmentPropertiesAjaxEvents();a.submitButton.click(a.validateEvent);a.addFareCategoryDisplayEvents();a.agreementCheckBoxEvents();};a.setVars=function(){var b=(a.clientId).split("_");a.submitButtonId=b[0]+"_ButtonSubmit";a.detailsLinks=$(".showContent");a.submitButton=$("#"+a.submitButtonId);};a.agreementCheckBoxEvents=function(){$("#ControlGroupSelectView_AgreementInputSelectView_CheckBoxAgreement,#ControlGroupSelectChangeView_AgreementInputSelectChangeView_CheckBoxAgreement").click(function(){$("#validationErrorContainerReadAlong").hide();$("#validationErrorContainerReadAlongIFrame").hide();});};a.addFareCategoryDisplayEvents=function(){for(j=1;j<=2;j++){for(i=0;i<this.fareCategories.length;i++){if($("#icon"+this.fareCategories[i].fareCategoryName+j).length>0&&$("#description"+this.fareCategories[i].fareCategoryName).length>0){$("#icon"+this.fareCategories[i].fareCategoryName+j).addClass("pointer");$("#icon"+this.fareCategories[i].fareCategoryName+j).mouseover(function(){a.FareCategoryDisplayMouseover(this);});$("#icon"+this.fareCategories[i].fareCategoryName+j).mouseout(function(){a.FareCategoryDisplayMouseout(this);});}}}};a.FareCategoryDisplayMouseover=function(c){if(!c.classList){c.classList=c.className.split(" ");}if($("#description"+c.classList[0]).length>0){var b=parseInt($("#icon"+c.classList[1]).offset().top+35)+"px";var e=parseInt($("#icon"+c.classList[1]).offset().left-70)+"px";$("#description"+c.classList[0]).css({"top":b,"left":e}).show();}};a.FareCategoryDisplayMouseout=function(b){if(!b.classList){b.classList=b.className.split(" ");}if(b.classList){if($("#description"+b.classList[0]).length>0){$("#description"+b.classList[0]).hide();}}};a.initJourneyInfoContainers=function(){var b=0;var c=this.journeyInfoList;var e=null;for(b=0;b<c.length;b+=1){e=new SKYSALES.Class.JourneyInfo();e.init(c[b]);a.journeyInfoArray[a.journeyInfoArray.length]=e;}};a.getPriceItineraryInfo=function(){if(undefined!==SKYSALES.taxAndFeeInclusiveDisplayDataRequestHandler){var b=$("#selectMainBody div[class^='availabilityInputContent'] .rgMasterTable tr td[class^='resultFareCell'] div[class^='resultFare'] div[id^='fareRadio'] :radio[checked]");var c=[];$(b).each(function(e){var f=$(this).val().split("@");c[e]=f[0];});SKYSALES.taxAndFeeInclusiveDisplayDataRequestHandler(c,b.length,a.marketCount,a.hideMarketIndex,a.taxAndFeeProgressMessage);SKYSALES.fareRuleHandler(c,b.length,a.culture);SKYSALES.dgrGoodsNotify(c,b.length,a.culture);}};a.updateFareInfo=function(){var b=$("#selectMainBody div[class^='availabilityInputContent'] .rgMasterTable tr td[class^='resultFareCell'] div[class^='resultFare'] div[id^='fareRadio'] :radio[checked]");if($("#agreementInput").is(":hidden")){$("#agreementInput").show();if($("#ControlGroupSelectView_AgreementInputSelectView_CheckBoxAgreement").length>0){$("#ControlGroupSelectView_AgreementInputSelectView_CheckBoxAgreement").attr("required","true");}else{$("#ControlGroupSelectChangeView_AgreementInputSelectChangeView_CheckBoxAgreement").attr("required","true");}}$(b).each(function(l){var q=$(this).val().split("@");var p=q[0].split("~");var e=new Date();var n=new Date();a.fareClasses[l]=this.getAttribute("productClass");a.departureDates[l]=new Date(q[1]);var f;if(a.hideMarketIndex==""){f=l;}else{if(a.hideMarketIndex==1){f=0;}else{f=1;}}var m=a.cutOffTime;if(a.changeLimits.length>0){m=parseInt(a.changeLimits[f].changeLimit);}n.setHours(e.getHours()+m+(e.getTimezoneOffset()/60));a.isWithinCutOffHours[l]=false;if((a.departureDates[l]<n)&&((a.hideMarketIndex=="")||(a.hideMarketIndex!=l))){a.isWithinCutOffHours[l]=true;if(m>a.mostRestrictiveCutOff){a.mostRestrictiveCutOff=m;}}var c=a.departureDates[l].getTime()-e.getTime();c=Math.ceil(c/(1000*60));a.isWithinTimeLimit[l]=false;if(c!=NaN){if((c<=a.WithinTimeLimit)&&((a.hideMarketIndex=="")||(a.hideMarketIndex!=l))){a.isWithinTimeLimit[l]=true;}}});a.update24HrCheckbox();a.updateCutOffHrNote();if($(".bookingnaHL").length>0){$(".operated-info").hide();$("#agreementInput").hide();$("#SpecialNeedssection").hide();}};a.update24HrCheckbox=function(){if(a.isNewBooking=="false"){var b=true;b=(!a.isWithinCutOffHours[0])&&(!a.isWithinCutOffHours[1]);if(b==true){$("#"+a.agreement24HrsId).hide();}else{$("#"+a.agreement24HrsId).show();}}};checkIfHiFlyer=function(e){var b=a.isFlightChange==true?(a.hiflyerFares!=null&&a.hiflyerFares.length>0):false;if(!b){return true;}for(var c=0;c<a.hiflyerFares.length;c++){if(a.hiflyerFares[c]==e){return true;}}return false;};a.updateCutOffHrNote=function(){var e=true;var c=false;if(a.hideMarketIndex=="0"){e=(!a.isWithinCutOffHours[1]);c=checkIfHiFlyer(1);}else{if(a.hideMarketIndex=="1"){e=(!a.isWithinCutOffHours[0]);c=checkIfHiFlyer(0);}else{e=(!a.isWithinCutOffHours[0])&&(!a.isWithinCutOffHours[1]);c=checkIfHiFlyer(0)&&checkIfHiFlyer(1);}}var b=a.isExemptedFromCutoff&&c;if(!e&&b==false){$("#"+a.submitButtonId).hide();$("#agreementInputCheckbox").hide();$("#SpecialNeedssection").hide();$("#"+a.agreementCutOffHrsNoteId).html($("#"+a.agreementCutOffHrsNoteId).html().replace(/~hours~/g,a.mostRestrictiveCutOff)).show();a.mostRestrictiveCutOff=0;}else{$("#"+a.agreementCutOffHrsNoteId).hide();$("#agreementInput").show();$("#agreementInputCheckbox").show();$("#SpecialNeedssection").show();$("#"+a.submitButtonId).show();}};a.showPreselectedFares=function(b){for(var c=0;c<b.length;c+=1){if(b[c]!==null){$("#"+b[c]).click();}}};a.setPreselectedFares=function(){var p=$("#selectMainBody div[class^='availabilityInputContent'] .rgMasterTable tr td[class^='resultFareCell'] div[class^='resultFare'] div[id^='fareRadio']");var r=p.find(":radio[checked]").length;if(r===0){$("#taxAndFeeInclusiveDivBody").remove();}else{if(r===1){$("#taxesAndFeesInclusiveDisplay_2").hide();}}var q=-1;var f=-1;var s="";var c="";var m=-1;var l=$("#"+this.clientId+"_HiddenFieldTabIndex1").val();var e=$("#"+this.clientId+"_HiddenFieldTabIndex2").val();var n=0;if($("td[class^='resultFareCell1']").length!==0){n=1;}else{if($("td[class^='resultFareCell2']").length!==0){n=2;}else{if($("td[class^='resultFareCell3']").length!==0){n=3;}else{n=4;}}}$("td[class^='resultFareCell"+n+"']",$("#fareTable1_"+l)).each(function(){var w=$(this);var t=$(this).closest("tr").height();var v=parseInt($(".resultFare"+n).css("padding-top").replace("px",""))+parseInt($(".resultFare"+n).css("padding-bottom").replace("px",""));w.children("div:first").css("height",t-v);var u=w.find(":radio[name$='market1']").attr("id");if(u){m=$.trim(w.find("div[class='price']").find("span").text());m=parseFloat(m.replace(/[^0-9\.]+/g,""));if(!isNaN(m)){if(m<q||q<0){q=m;s=u;}}}});$("#"+s).attr("checked","checked");$("td[class^='resultFareCell"+n+"']",$("#fareTable2_"+e)).each(function(){var w=$(this);var t=$(this).closest("tr").height();var v=parseInt($(".resultFare"+n).css("padding-top").replace("px",""))+parseInt($(".resultFare"+n).css("padding-bottom").replace("px",""));w.children("div:first").css("height",t-v);var u=w.find(":radio[name$='market2']").attr("id");if(u){m=$.trim(w.find("div[class='price']").find("span").text());m=parseFloat(m.replace(/[^0-9\.]+/g,""));if(!isNaN(m)){if(m<f||f<0){f=m;c=u;}}}});$("#"+c).attr("checked","checked");a.getPriceItineraryInfo();a.updateFareInfo();var b=[];b[0]=s;b[1]=c;a.showPreselectedFares(b);};a.addGetPriceItineraryInfoEvents=function(){$("#selectMainBody div[class^='availabilityInputContent'] table[id^='fareTable1'] tr td[class^='resultFareCell'] div[class^='resultFare'] div[id^='fareRadio'] :radio, #selectMainBody div[class^='availabilityInputContent'] table[id^='fareTable2'] tr td[class^='resultFareCell'] div[class^='resultFare'] div[id^='fareRadio'] :radio").click(function(){a.getPriceItineraryInfo();a.updateFareInfo();});};a.getFareCategory=function(b){var c="";for(i=0;i<a.fareCategories.length;i++){if(a.fareCategories[i].productClasses.indexOf("["+b+"]")>-1){c=a.fareCategories[i].fareCategoryName;}}return c;};a.checkInfantAge=function(){if(a.userSelectedDateTime!=null){var l=a.userSelectedDateTime[a.userSelectedDateTime.length-1].selectedFareDateTimeSchedSelect,b=a.userSelectedDateTime[0].selectedFareDateTimeSchedSelect,e=new SKYSALES.Class.TravelerAge(),c=0,f=null;if(l){for(c=0;c<a.infantArray.length;c+=1){f=a.infantArray[c];if(f){if(!e.isInfant(l,f,b)){alert(a.infantAgeText);return false;}}}}}};a.validateEvent=function(){var m=true;var l=false;var P=false;l=((a.isWithinCutOffHours[0])||(a.isWithinCutOffHours[1]));P=((a.isWithinTimeLimit[0])||(a.isWithinTimeLimit[1]));var e=$("#selectMainBody div[class^='availabilityInputContent'] .rgMasterTable");var Z=false;for(fareTableindex=0;fareTableindex<e.length;fareTableindex++){var N=$(e[fareTableindex]);if($.trim(N[0].parentNode.parentNode.parentNode.className)=="hidden"){continue;}var p=N.find("tr td[class^='resultFareCell'] div[class^='resultFare'] div[id^='fareRadio'] :radio[checked]");var w=N.find("tr");var n;for(rowindex=0;rowindex<w.length;rowindex++){n="";var D=$(w[rowindex]).find("td[class^='resultFareCell']");for(columnindex=0;columnindex<D.length;columnindex++){if($(D[columnindex]).find("div[class^='resultFare'] div[id^='fareRadio'] :radio[checked]").length>0&&columnindex<a.fareCategories.length){n=a.fareCategories[columnindex].productClasses;break;}}if(n&&n.length>0){break;}}if(p&&n&&p.length>0&&n.length>0){var V=p[0].value;var C=n;var ab=V.substring(V.indexOf("|")+1,V.length);var L=ab.substring(0,ab.indexOf("~~")).replace(/\~/g,"");if(ab.indexOf("^")>0){var B=ab.substring(ab.indexOf("^")+1,ab.length);B=B.substring(0,B.indexOf("~~")).replace(/\~/g,"");L=L+"/"+B;}var W=ab.substring(ab.indexOf("~~")+2,ab.length);var x=W.substring(W.indexOf("~")+1,W.indexOf(" "));if(a.existJourney.length>0){var Q=new Date(Date.parse(a.existJourney[fareTableindex].departuredate));var ae=new Date(Date.parse(x));var M=a.existJourney[fareTableindex].flightdesignator;var y="["+a.existJourney[fareTableindex].productclass+"]";if((Q-ae===0)&&L===M&&C.indexOf(y)>=0){Z=true;break;}else{Z=false;}}}}var r="";var z="";var H="";var ag="";if(document.getElementById("GoDep")){r=document.getElementById("GoDep").value;}if(document.getElementById("GoArr")){z=document.getElementById("GoArr").value;}if(document.getElementById("GoDep2")){H=document.getElementById("GoDep2").value;}if(document.getElementById("GoArr2")){ag=document.getElementById("GoArr2").value;}var J=r+"_"+z;var v=J+"_"+H+"_"+ag;if(J!="_"){var c="";var s="";var G="";var ad="";if(document.getElementById("BackDep")){c=document.getElementById("BackDep").value;}if(document.getElementById("BackArr")){s=document.getElementById("BackArr").value;}if(document.getElementById("BackDep2")){G=document.getElementById("BackDep2").value;}if(document.getElementById("BackArr2")){ad=document.getElementById("BackArr2").value;}var I=c+"_"+s;var u=I+"_"+G+"_"+ad;var af;var ac;var F;var X;af=document.getElementsByName("ControlGroupSelectChangeView$AvailabilityInputSelectChangeView$market1");ac=document.getElementsByName("ControlGroupSelectChangeView$AvailabilityInputSelectChangeView$market2");for(i=0;i<af.length;i++){if(af[i].checked==true){F=af[i].value;break;}}for(i=0;i<ac.length;i++){if(ac[i].checked==true){X=ac[i].value;break;}}var K="";var b=false;if(F!=null){if(F.indexOf("^")===-1){F=F.split("~");K=F[10]+"_"+F[12];}else{F=F.split("~");if(F.length>23){K=F[16]+"_"+F[18]+"_"+F[24]+"_"+F[26];}else{K=F[10]+"_"+F[12]+"_"+F[18]+"_"+F[20];}b=true;}}var aa="";var S=false;if(X!=null){if(X.indexOf("^")===-1){X=X.split("~");aa=X[10]+"_"+X[12];}else{X=X.split("~");if(X.length>23){aa=X[16]+"_"+X[18]+"_"+X[24]+"_"+X[26];}else{aa=X[10]+"_"+X[12]+"_"+X[18]+"_"+X[20];}S=true;}}var R=false;var q=false;if(H!=""&&ag!=""){R=true;}if(G!=""&&ad!=""){q=true;}if(R===b&&q===S){var f=false;if(F!=null){if(b===false){if(J!=K){f=true;}}else{if(v!=K){f=true;}}}if(X!=null){if(S===false){if(I!=aa){f=true;}}else{if(u!=aa){f=true;}}}var O=false;if(f===true){if(F!=null){if(b===false){if(J!=K){O=true;}}else{var U=v.split("_");var Y=K.split("_");if(U[0]!=Y[0]&&U[3]!=Y[3]){O=true;}}}if(X!=null){if(S===false){if(I!=aa){O=true;}}else{var T=u.split("_");var E=aa.split("_");if(T[0]!=E[0]&&T[3]!=E[3]){O=true;}}}}if(O===true){alert(a.differentMarketMsg);SKYSALES.RemoveLoadingBar();return false;}else{if(f===true){alert(a.differentTransferMsg);SKYSALES.RemoveLoadingBar();return false;}}}}if(Z){alert(a.changeSameFlightMessage);SKYSALES.RemoveLoadingBar();return false;}var A=$("#selectMainBody div[class^='availabilityInputContent'] .rgMasterTable tr td[class^='resultFareCell'] div[class^='resultFare'] div[id^='fareRadio'] :radio[checked]").length,t=$("#selectMainBody :visible div[class^='availabilityInputContent']").length;if(A===0||(!a.hideMarketIndex&&A<a.marketCount)||(A<t)){if($(".bookingnaHL").length>0){$("#validationErrorContainerReadAlong").hide();}alert(a.incompleteFareSelection);SKYSALES.RemoveLoadingBar();return false;}if(a.isExemptedFromCutoff==false){if(a.isNewBooking=="true"){if(l){SKYSALES.RemoveLoadingBar();return false;}}if(a.isNewBooking=="false"){if(P){return false;SKYSALES.RemoveLoadingBar();}if(l){if($("#"+a.agreement24HrsCheckboxId+":checked").length==0){alert(a.agreement24HrMessage);SKYSALES.RemoveLoadingBar();return false;}}}}if(m==true){if(a.restrictSameFareCategory=="True"){if(a.fareClasses.length>1){m=false;if(a.fareClasses[0]==a.fareClasses[1]){m=true;}else{if(a.getFareCategory(a.fareClasses[0])==a.getFareCategory(a.fareClasses[1])){m=true;}}}if(m==false){alert(a.sameCategoryMessage);SKYSALES.RemoveLoadingBar();return false;}}if(a.offloadPassengers&&a.offloadPassengerMessage&&a.offloadPassengers==="true"){if(confirm(a.offloadPassengerMessage)){return true;}else{SKYSALES.RemoveLoadingBar();return false;}}}return a.checkInfantAge();};a.GetDepartureDates=function(c){var b=[null,null],e=null,f=null;if(this.isFlightChange&&this.hideMarketIndex){f=c[0];e=new Date(this.userSelectedDateTime[this.hideMarketIndex].selectedFareDateTime);if(this.hideMarketIndex==="0"){b[1]=f;}else{b[0]=f;}b[this.hideMarketIndex]=e;return b;}return c;};a.ajaxEquipmentProperties=function(){};a.addEquipmentPropertiesAjaxEvent=function(){$(this).click(a.ajaxEquipmentProperties);};a.addEquipmentPropertiesAjaxEvents=function(){a.detailsLinks.each(a.addEquipmentPropertiesAjaxEvent);};a.init=function(){a.initJourneyInfoContainers();if(undefined!==SKYSALES.taxAndFeeInclusiveDisplayDataRequestHandler){a.setVars();if(a.preselectFares=="true"){a.setPreselectedFares();if($("#ControlGroupSelectView_AgreementInputSelectView_CheckBoxAgreement").length>0){$("#ControlGroupSelectView_AgreementInputSelectView_CheckBoxAgreement").attr("required","required");}else{$("#ControlGroupSelectChangeView_AgreementInputSelectChangeView_CheckBoxAgreement").attr("required","required");}}else{a.updateFareInfo();$("#agreementInput").hide();if($("#ControlGroupSelectView_AgreementInputSelectView_CheckBoxAgreement").length>0&&($($("#ControlGroupSelectView_AgreementInputSelectView_CheckBoxAgreement")[0]).attr("required")==="true"||$($("#ControlGroupSelectView_AgreementInputSelectView_CheckBoxAgreement")[0]).attr("required")==="required")){$("#ControlGroupSelectView_AgreementInputSelectView_CheckBoxAgreement").removeAttr("required");}else{if($("#ControlGroupSelectChangeView_AgreementInputSelectChangeView_CheckBoxAgreement").length>0&&($($("#ControlGroupSelectChangeView_AgreementInputSelectChangeView_CheckBoxAgreement")[0]).attr("required")==="true"||$($("#ControlGroupSelectChangeView_AgreementInputSelectChangeView_CheckBoxAgreement")[0]).attr("required")==="required")){$("#ControlGroupSelectChangeView_AgreementInputSelectChangeView_CheckBoxAgreement").removeAttr("required");}}}a.addEvents();}};};}if(SKYSALES.Class.JourneyInfo===undefined){SKYSALES.Class.JourneyInfo=function(){var a=this;a.equipmentInfoUri="EquipmentPropertiesDisplayAjax-resource.aspx";a.key="";a.journeyContainerId="";a.activateJourneyId="";a.activateJourney=null;a.deactivateJourneyId="";a.deactivateJourney=null;a.journeyContainer=null;a.legInfoArray=[];a.clientName="EquipmentPropertiesDisplayControlAjax";a.init=function(b){this.setSettingsByObject(b);this.setVars();this.addEvents();};a.setVars=function(){a.journeyContainer=$("#"+a.journeyContainerId);a.activateJourney=$("#"+a.activateJourneyId);a.deactivateJourney=$("#"+a.deactivateJourneyId);};a.addEvents=function(){a.activateJourney.click(a.show);a.deactivateJourney.click(a.hide);};a.setSettingsByObject=function(b){var c="";for(c in b){if(a.hasOwnProperty(c)){a[c]=b[c];}}};a.showWithData=function(m){var p=$(m).html();var e=SKYSALES.Json.parse(p);var n=e.legInfo;var f=null;var c="";var s=null;var q="";var b=null;var l=0;var r=null;for(c in n){if(n.hasOwnProperty(c)){q="";f=n[c];if(f.legIndex!==undefined){s=$("#propertyContainer_"+a.key);b=f.equipmentPropertyArray;for(l=0;l<b.length;l+=1){r=b[l];q+="<div>"+r.name+": "+r.value+"</div>";}s.html(q);}}}a.journeyContainer.show("slow");};a.show=function(){var c=a.legInfoArray;var f=null;var b={};var m="";var e=0;var l=a.clientName;for(e=0;e<c.length;e+=1){f=c[e];for(m in f){if(f.hasOwnProperty(m)){b[l+"$legInfo_"+m+"_"+e]=f[m];}}}$.post(a.equipmentInfoUri,b,a.showWithData);};a.hide=function(){a.journeyContainer.hide();};return a;};
/*!
This file is part of the Navitaire NewSkies application.
Copyright (C) Navitaire.  All rights reserved.
*/
}if(!SKYSALES.Class.SsrPassengerInput){SKYSALES.Class.SsrPassengerInput=function(){var b=SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.ssrFormArray=null;a.ssrFeeArray=null;a.errorMsgOverMaxPerPassenger="There has been an error";a.ssrButtonIdArray=null;a.ssrButtonArray=null;a.buttonTrackId="";a.buttonTrack=null;a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();$("table.ssrSoldContainer :input",this.container).attr("disabled","disabled");};a.setVars=function(){a.buttonTrack=$("#"+this.buttonTrackId);a.ssrButtonIdArray=this.ssrButtonIdArray||[];var l=[];var e=0;var c=null;var f="";for(e=0;e<this.ssrButtonIdArray.length;e+=1){f=this.ssrButtonIdArray[e];c=$("#"+f);if(c.length>0){l[l.length]=c;}}a.ssrButtonArray=l;};a.addEvents=function(){this.addButtonClickedEvents();};a.addButtonClickedEvents=function(){var e=0;var c=null;for(e=0;e<this.ssrButtonArray.length;e+=1){c=this.ssrButtonArray[e];c.click(this.updateButtonTrackHandler);}};a.updateButtonTrackHandler=function(){a.buttonTrack.val(this.id);};a.setSettingsByObject=function(m){b.setSettingsByObject.call(this,m);var l=0;var f=this.ssrFormArray||[];var n=null;for(l=0;l<f.length;l+=1){n=new SKYSALES.Class.SsrForm();n.index=l;n.ssrPassengerInput=this;n.init(f[l]);f[l]=n;}var e=this.ssrFeeArray||[];var c=null;for(l=0;l<e.length;l+=1){c=new SKYSALES.Class.SsrFormFee();c.index=l;c.ssrPassengerInput=this;c.init(e[l]);e[l]=c;}};a.deactivateSsrFormNotes=function(){var e=0;var c=this.ssrFormArray;var f=null;for(e=0;e<c.length;e+=1){f=c[e];f.deactivateNoteDiv();}};return a;};SKYSALES.Class.SsrPassengerInput.createObject=function(a){SKYSALES.Util.createObject("ssrPassengerInput","SsrPassengerInput",a);};}SKYSALES.Class.SsrForm=function(){var a=SKYSALES.Class.SkySales();var b=SKYSALES.Util.extendObject(a);b.maximumDropDownLimit=0;b.ssrPassengerId="";b.ssrPassenger=null;b.ssrCodeId="";b.ssrCode=null;b.ssrQuantityId="";b.ssrQuantity=null;b.ssrNoteId="";b.ssrNote=null;b.ssrNoteIframeId="";b.ssrNoteIframe=null;b.ssrNoteCloseId="";b.ssrNoteClose=null;b.ssrNoteDivId="";b.ssrNoteDiv=null;b.ssrNoteImageId="";b.ssrNoteImage=null;b.ssrNoteCancelId="";b.ssrNoteCancel=null;b.ssrFlightId="";b.ssrFlight=null;b.ssrAmountId="";b.ssrAmount=null;b.ssrCurrencyId="";b.ssrCurrency=null;b.index=-1;b.ssrPassengerInput=null;b.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();this.updateSsrAmount();};b.setVars=function(){b.ssrNote=$("#"+this.ssrNoteId);b.ssrNoteDiv=$("#"+this.ssrNoteDivId);b.ssrNoteClose=$("#"+this.ssrNoteCloseId);b.ssrNoteCancel=$("#"+this.ssrNoteCancelId);b.ssrNoteImage=$("#"+this.ssrNoteImageId);b.ssrNoteIframe=$("#"+this.ssrNoteIframeId);b.ssrQuantity=$("#"+this.ssrQuantityId);b.ssrPassenger=$("#"+this.ssrPassengerId);b.ssrCode=$("#"+this.ssrCodeId);b.ssrCurrency=$("#"+this.ssrCurrencyId);b.ssrFlight=$("#"+this.ssrFlightId);b.ssrAmount=$("#"+this.ssrAmountId);};b.addEvents=function(){this.addNoteEvents();this.addQuantityEvents();this.addSSRCodeEvents();this.addFlightEvents();};b.addFlightEvents=function(){this.ssrFlight.change(this.updateSsrAmountHandler);};b.updateSsrQuantityHandler=function(){b.updateSsrQuantity();};b.updateSsrAmountHandler=function(){b.updateSsrAmount();};b.addSSRCodeEvents=function(){this.ssrCode.change(this.updateSsrQuantityHandler);this.ssrCode.change(this.updateSsrAmountHandler);};b.addQuantityEvents=function(){this.ssrQuantity.change(this.updateSsrAmountHandler);this.ssrQuantity.blur(this.updateSsrAmountHandler);};b.updateSsrAmount=function(){var q=this.ssrAmount;var t=SKYSALES.Util.convertToLocaleCurrency("0.00");q.val(t);var s=this.ssrPassenger.val();var n=this.ssrCode.val();var l=this.ssrQuantity.val();l=$.trim(l);var u=/^[0-9]+$/;var m=0;var r=this.ssrPassengerInput;var c=r.ssrFeeArray;var e=null;var f="";var p=0;if(u.test(l)){f=this.ssrFlight.val();for(m=0;m<c.length;m+=1){e=c[m];if((f==="all")||(f===e.segmentKey)){if((s===e.passengerNumber)&&(n===e.ssrCode)){p+=(e.amount*l);}}}t=SKYSALES.Util.convertToLocaleCurrency(p);q.val(t);}else{this.ssrQuantity.val(0);}};b.updateSsrQuantity=function(){var u=this.maximumDropDownLimit;u=window.parseInt(u,10);var t=this.ssrPassenger.val();var q=this.ssrCode.val();var n=this.ssrFlight.val();var r=0;var p=0;var s=this.ssrPassengerInput;var e=s.ssrFeeArray;var f=null;var m=this.ssrQuantity.val();m=parseInt(m,10);var v=0;var c=null;var l=this.ssrQuantity.get(0);for(r=0;r<e.length;r+=1){f=e[r];if((n==="all")||(n===f.segmentKey)){if((t===f.passengerNumber)&&(q===f.ssrCode)){v=parseInt(f.maxPerPassenger,10);if(v===0){v=u;v=parseInt(v,10);if(m>=v){v=m;v=v+1;}}if(l.options){while(l.options.length>0){l.options[0]=null;}for(p=0;p<=v;p+=1){c=new window.Option(p,p);l.options[p]=c;if(m===p){this.ssrQuantity.val(p);}}}if(m>v){this.ssrQuantity.val(v);alert(this.getErrorMsgOverMaxPerPassenger());}else{this.ssrQuantity.val(m);}}}}};b.getErrorMsgOverMaxPerPassenger=function(){var c="";c=this.ssrPassengerInput.errorMsgOverMaxPerPassenger;return c;};b.clearAndDeactivateNoteDiv=function(){var e=this.ssrNote;var c=e.is(":disabled");if(c===false){e.val("");}this.deactivateNoteDiv();};b.deactivateNoteDiv=function(){this.ssrNoteDiv.hide();this.ssrNoteIframe.hide();};b.activateNoteDiv=function(){this.ssrPassengerInput.deactivateSsrFormNotes();var l=this.ssrNoteImage.get(0);var m=SKYSALES.Dhtml();var f=m.getX(l);var e=m.getY(l);this.ssrNoteDiv.css({"top":e+"px","left":f+"px"}).show();this.ssrNoteIframe.css({"top":e+"px","left":f+"px"}).show();var c=this.ssrNote.is(":disabled");if(c===false){this.ssrNote.click();}};b.ssrNoteCancelHandler=function(){b.clearAndDeactivateNoteDiv();};b.ssrNoteCloseHandler=function(){b.deactivateNoteDiv();};b.ssrNoteImageHandler=function(){b.activateNoteDiv();};b.addNoteEvents=function(){this.ssrNoteCancel.mouseup(this.ssrNoteCancelHandler);this.ssrNoteClose.mouseup(this.ssrNoteCloseHandler);this.ssrNoteImage.mouseup(this.ssrNoteImageHandler);};return b;};SKYSALES.Class.SsrFormFee=function(){var b=SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.journeyIndex=-1;a.segmentIndex=-1;a.segmentKey="";a.passengerNumber=-1;a.ssrCode="";a.feeCode="";a.amount=0;a.currencyCode="";a.maxPerPassenger=0;a.index=-1;a.ssrPassengerInput=null;return a;};SKYSALES.taxAndFeeInclusiveDisplayDataRequestHandler=function taxAndFeeInclusiveDisplayDataRequestHandler(q,n,c,a,b){var e=",";var f={flightKeys:q.join(e),numberOfMarkets:n,keyDelimeter:e};var l=0;var p=function(){var u=$("taxAndFeeInclusiveTotal");var s=$("allUpPricing");if(SKYSALES.common){SKYSALES.common.stripeTables(s);}var r=new SKYSALES.Class.ToggleView();var t={"elementId":"allUpPricing","hideId":"closeTotalPrice","showId":"taxAndFeeInclusiveTotal"};r.init(t);var v=function(){s.toggle();};if(u&&s){u.click(v);}};var m=function(r){r="<div>"+r+"</div>";if(window.$){$("#taxAndFeeInclusiveDivHeader").before("<div id='tempDiv'></div>");$("#taxAndFeeInclusiveDivHeader").remove();$("#taxAndFeeInclusiveDivBody").remove();$("#tempDiv").after($(r).find("#taxAndFeeInclusiveDivHeader"));$("#taxAndFeeInclusiveDivHeader").after($(r).find("#taxAndFeeInclusiveDivBody"));$("#tempDiv").remove();if(n===1){$("table#taxesAndFeesInclusiveDisplay_2").hide();}}p();genSelectConversionBuddyButton();};if(a!=""){l=1;}if(n===parseInt(c)-l){$.get("TaxAndFeeInclusiveDisplayAjax-resource.aspx",f,m);$("#taxAndFeeNoFaresSelected").remove();inProcessHTMLString='<div id="taxAndFeeInclusiveDivBody" class="right-col-sidebar" style="padding: 0 5px 10px 0;">'+b+'<div id="waitImg"></div></div>';$("#taxAndFeeInclusiveDivBody").remove();$("#taxAndFeeInclusiveDivHeader").after(inProcessHTMLString);}};if(!SKYSALES.Class.TravelerInputContainer){SKYSALES.Class.TravelerInputContainer=function(){var e=SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(e);a.submitButtonClicked=false;a.menuSectionId="";a.menuSection=null;a.menuListId="";a.menuList=null;a.mainTravelerId="";a.mainTraveler=null;a.travelerInputArray=null;a.submitButtonId="";a.submitButton=null;a.continueButtonId="";a.continueButton=null;a.confirmText="";a.nextButtonId="";a.nextButton=null;a.nextButtons=null;a.disableNames=null;a.disableContactNames=null;a.infantText="";a.infantPreText="";a.childText="";a.childPreText="";a.scpText="";a.PQAvailableNationality="";a.PQNationalityErrorText="";a.adultPreText="";a.adultText="";a.scpAgeText="";a.infantFutureBirthDateErrorPreText="";a.infantFutureBirthDateErrorPostText="";a.returnDate="";a.departDate="";a.passportExpDays="";a.adultPassportMsgText="";a.adultPassportMsgPreText="";a.childPassportMsgText="";a.childPassportMsgPreText="";a.infantPassportMsgText="";a.infantPassportMsgPreText="";a.adultTravelDocCountry="";a.childTravelDocCountry="";a.infantTravelDocCountry="";a.adultTravelDocInvalidDate="";a.childTravelDocInvalidDate="";a.infantTravelDocInvalidDate="";a.duplicateAdultTextPre="";a.duplicateAdultText="";a.friendsArray=null;a.addFriendsButtonId="";a.refreshFriendsButtonId="";a.addFriendsButton=null;a.refreshFriendsButton=null;a.addFriendsDiv="";a.addFriendsErrorText="";a.noTickedFriendsText="";a.continueButtonText="";a.submitButtonText="";a.paxTypesArray=null;a.changeCurrencyPrompter="";a.unmatchedPaxTypeErrorText="";a.passportNumber="";a.passportExpDate=null;a.passportExpMonth=null;a.passportExpYear=null;a.offloadPassengers="";a.offloadPassengerMessage="";a.flightChangeNotice="";a.travelDocRadioButtonName="";a.travelDocTypeId="";a.uncompletedTravelDocText="";a.insurancecontainerId="";a.dropdownSelectCountry="";a.insurancecontainer=null;var m=2;a.init=function(n){this.setSettingsByObject(n);this.setVars();this.addEvents();this.triggerAddOnControls();a.submitButton.attr("disabled","disabled").addClass("buttonDisabled").hide();a.nextButton.show();if(a.travelerInputArray.length>0){for(i=0;i<a.travelerInputArray.length;i+=1){a.travelerInputArray[i].travelerInputArray=this.travelerInputArray;a.travelerInputArray[i].hideContent();if(a.travelerInputArray[i].paxType=="ADT"){a.travelerInputArray[i].dropdownGender.removeAttr("required");}if(a.travelerInputArray[i].paxType=="CHD"){a.travelerInputArray[i].dropdownTitle.removeAttr("required");}if(a.travelerInputArray[i].contentId=="content_0"||(a.addFriendsDiv!=null&&a.travelerInputArray[i].contentId==a.addFriendsDiv)){if(this.disableContactNames!=null&&this.disableContactNames!=""&&a.travelerInputArray[i].contentId=="content_0"){a.travelerInputArray[i].disableTextFields();}else{continue;}}else{if(this.disableNames!=null&&this.disableNames!=""){a.travelerInputArray[i].disableTextFields();}}}a.travelerInputArray[0].showContent();}if(this.changeCurrencyPrompter!=""){alert(this.changeCurrencyPrompter);}};a.setVars=function(){a.menuSection=$("#"+this.menuSectionId);a.menuList=$("#"+this.menuListId);a.mainTraveler=$("#"+this.mainTravelerId);a.submitButton=$("input[id='"+this.submitButtonId+"']");if(a.submitButtonText!=""){a.submitButton.attr("value",a.submitButtonText);}a.addFriendsButton=$("input[id='"+this.addFriendsButtonId+"']");a.continueButton=$("#"+this.continueButtonId);a.nextButton=$("input[type='button'][id='"+this.nextButtonId+"']");a.refreshFriendsButton=$("input[id='"+this.refreshFriendsButtonId+"']");a.passportNumber=$("#"+this.passportNumber+" input[id=TextBoxDocumentNumber]");a.passportExpDate=$("#"+this.passportExpDate+" select[id=DropDownListDocumentDateDay]");a.passportExpMonth=$("#"+this.passportExpMonth+" select[id=DropDownListDocumentDateMonth]");a.passportExpYear=$("#"+this.passportExpYear+" select[id=DropDownListDocumentDateYear]");a.insurancecontainer=$("#"+this.insurancecontainerId);};a.addEvents=function(){a.submitButton.click(a.submitButtonHandler);a.submitButton.click(a.pickSeatHandler);a.nextButton.click(a.nextTabHandler);a.addFriendsButton.click(a.addFriends);a.refreshFriendsButton.click(a.clearAllFriends);if(a.confirmText==null||a.confirmText==""){a.continueButton.attr("value",a.continueButtonText);a.continueButton.click(a.pickSeatHandler);}else{a.continueButton.click(a.confirmPageHandler);}};a.submitButtonHandler=function(n){$("#currentTab").text(true);};a.triggerAddOnControls=function(){var s=$("input:checkbox:checked"),q=$("input:radio:checked"),p=$('div[class*="SSRInput"]').find("input.dynamic, select.dynamic, radio.dynamic"),t=$("input:text.ucmealpanel-item-sf-count-input[value!=0]"),r=$("input:text.uccomfortkitpanel-item-sf-count-input[value!=0]"),n=$('select[id*="DropDownSkyBus"]');p.bind("change",function(){SKYSALES.Util.updatePriceDisplay($(this));});t.bind("change",function(){SKYSALES.Util.updatePriceDisplay($(this));});r.bind("change",function(){SKYSALES.Util.updatePriceDisplay($(this));});t.trigger("change");r.trigger("change");s.trigger("change");q.trigger("change");n.trigger("change");};a.pickSeatHandler=function(p){$(this).removeAttr("onclick");var n=a.validateForms();if(n!=false){SKYSALES.DisplayLoadingBar();}showMsg=false;return n;};a.addFriends=function(){var r=$("#"+a.addFriendsDiv+" :checked").length;var p=0;for(p=0;p<a.paxTypesArray.length;p++){a.paxTypesArray[p].remainingTabs=a.countPaxType(a.paxTypesArray[p].paxType);}var n=a.checkPaxTypeCount();if(r>0&&n){if($("#"+a.addFriendsDiv+" :checked").length>0){a.clearAllFriends();SKYSALES.RemoveLoadingBar();var q=0;$("#"+a.addFriendsDiv+" :checked").each(function(){var s=parseInt($(this).val());var t=a.uploadFriend(s);m=q==0?t:(m>t?t:m);q++;});a.travelerInputArray[m].toggleMenuHandler();}}else{if(r==0){alert(a.noTickedFriendsText);}else{if(r>(a.travelerInputArray.length-2)){alert(a.addFriendsErrorText);}else{if(!n){alert(a.unmatchedPaxTypeErrorText);}}}}};a.checkPaxTypeCount=function(){var p=0;for(p=0;p<a.paxTypesArray.length;p++){var t=a.paxTypesArray[p].paxType;var s=0;var u=false;var n=$("input[paxType="+t+"]:checked").length;if(n>0){var r=a.paxTypesArray[p].codesMatchArray;for(s=0;s<r.length;s++){var q=a.searchPaxTypeIndex(r[s].typeCode);if(n<=a.paxTypesArray[q].remainingTabs){u=true;a.paxTypesArray[q].remainingTabs-=n;break;}else{if(a.paxTypesArray[q].remainingTabs>0&&n>a.paxTypesArray[q].remainingTabs){n-=a.paxTypesArray[q].remainingTabs;a.paxTypesArray[q].remainingTabs=0;}}}if(u==false){return false;}}}return true;};a.searchPaxTypeIndex=function(n){var p=0;for(p=0;p<a.paxTypesArray.length;p++){if(a.paxTypesArray[p].paxType==n){return p;}}};var c=function(s,n){var r=0;for(r=0;r<a.paxTypesArray.length;r++){if(a.paxTypesArray[r].paxType==s){var q=0;var p=a.paxTypesArray[r].codesMatchArray;for(q=0;q<p.length;q++){var t=a.findPaxType(p[q].typeCode,n);if(t!=null){return t;}}break;}}return a.findPaxType(a.paxTypesArray[0].paxType,n);};var b=function(q){var n=0;var p=0;for(n=0;n<a.friendsArray.length;n++){if(a.friendsArray[n].sequence==q){p=n;break;}}return p;};a.clearAllFriends=function(){var n=0;SKYSALES.DisplayLoadingBar();for(n=2;n<a.travelerInputArray.length;n++){a.travelerInputArray[n].clearFriend();}};a.uploadFriend=function(r){var s=r>0?this.friendsArray[b(r)]:contactData;var q=r>0?c(s.paxType,false):c("ADT",false);var t=this.travelerInputArray[q];var n=r>0?s.customerNumber:s.ff;t.hasFriend=true;t.travelerName.firstName.val(s.firstName);t.travelerName.lastName.val(s.lastName);t.travelerName.writeNameHandler();t.dropdownTitle.val(s.title);t.dropdownNationality.val(s.nationality);if(s.gender!="NaN"&&(parseInt(s.gender)==2||parseInt(s.gender)==1)){t.dropdownGender.val(s.gender);}else{t.dropdownTitle.change();}t.dropdownBirthDateMonth.val(s.bdayMonth);t.dropdownBirthDateDay.val(s.bdayDay);t.dropdownBirthDateYear.val(s.bdayYear);var p=t.dropdownTitle.val();if(!p){t.dropdownTitle.val("CHD");}return q;};a.validateForms=function(){var q=this.continueButton.get(0);if(q==null){q=this.submitButton.get(0);}var p=a.validateInfants();if(p){var n=validate(q);if(!n){this.customValidateHandler();return false;}if(this.offloadPassengers&&this.offloadPassengerMessage&&this.offloadPassengers==="true"){return confirm(this.offloadPassengerMessage);}return n;}else{return false;}return true;};a.validateInfants=function(){var n=0;var p=0;for(n=0;n<a.travelerInputArray.length;n++){if((a.travelerInputArray[n].paxType=="ADT"||a.travelerInputArray[n].paxType=="INF"||a.travelerInputArray[n].paxType=="SCP"||a.travelerInputArray[n].paxType=="PWD"||a.travelerInputArray[n].paxType=="CHD")&&!f(n)){return false;}}return true;};a.confirmPageHandler=function(){var n=a.confirmPage();return n;};a.confirmPage=function(){var p=window.confirm(this.confirmText);if(p){document.getElementById(this.submitButtonId).click();return false;}else{var n=this.validateForms();if(n!=false){SKYSALES.DisplayLoadingBar();}return n;}};a.customValidateHandler=function(){var p=null;for(i=0;i<a.travelerInputArray.length;i+=1){p=$("#"+a.travelerInputArray[i].contentId).find("input.validationError, select.validationError, radio.validationError");if(p!=null&&p.length>0){var n=$("#list_"+i+"").hasClass("selected");if(!n){a.travelerInputArray[i].toggleMenuHandler();p[0].focus();}break;}}};a.nextTabHandler=function(){var r=null;var q=0,p=$('div[id="'+a.travelDocTypeId+'"]');for(q=0;q<a.travelerInputArray.length;q+=1){r=a.travelerInputArray[q];if(r.selectedTab==0){var n=true;if($("div[id*='"+r.contentId+"']").find("select[id*=DropDownListNationality]").length>0){n=SKYSALES.validateNationality($("div[id*='"+r.contentId+"']").find("select[id*=DropDownListNationality]"),true,false,true);}if(f(q)&&validateBySelector("div[id='"+r.contentId+"']")&&n){r.travelerInputArray[q].hideContent();a.travelerInputArray[q+1].showContent();$("html, body").animate({scrollTop:0},0);if(q+1==a.travelerInputArray.length-1){a.submitButton.removeAttr("disabled").removeClass("buttonDisabled").show();a.nextButton.hide();SKYSALES.validateNationality(null,false,true,false);}if(a.travelerInputArray[q+1].paxType!=""){a.insurancecontainer.show();}else{a.insurancecontainer.hide();}}break;}}return false;};a.checkDaysOfMonth=function(q,t,r){r=window.parseInt(r,10);t=window.parseInt(t,10);q=window.parseInt(q,10);var s=false;var n=-1;var p=null;if(r&&t&&q){t-=1;if((r%4)==0){n=29;}else{n=28;}p=[31,n,31,30,31,30,31,31,30,31,30,31];if(q<=p[t]){s=true;}}return s;};var f=function(p){var w=0;var s=0;var x=a.findPaxType("INF",null);var q=a.findPaxType("CHD",null);var r=0;var t=0;var u=a.findPaxType("SCP",null);var v=a.findPaxType("ADT",null);var n="";if(n!=""){a.travelerInputArray[p].toggleMenuHandler();alert(n);return false;}return true;};a.findPaxType=function(r,p){var n=null;var s=0;for(s=0;s<a.travelerInputArray.length;s++){var q=p!=null?a.travelerInputArray[s].paxType==r&&a.travelerInputArray[s].hasFriend==p:a.travelerInputArray[s].paxType==r;if(q==true){n=s;break;}}return n;};var l=function(q){var p=/^\d{1,4}[\.|\/|-]\d{1,2}[\.|\/|-]\d{1,4}$/,r=null,n=null;if(p.test(q)){q=q.replace(/0*(\d*)/gi,"$1");r=q.split(/[\.|\/|-]/);n=new Date(r[2],r[1],r[0]);if(n.getDate()!=r[0]||n.getMonth()!=r[1]||n.getFullYear()!=r[2]){return false;}else{return true;}}else{return false;}};a.countPaxType=function(p){var n=0;var q=0;for(q=2;q<a.travelerInputArray.length;q++){if(a.travelerInputArray[q].paxType==p){n++;}}return n;};a.setSettingsByObject=function(q){e.setSettingsByObject.call(this,q);var p=0;var s=this.travelerInputArray||[];var n=null;for(p=0;p<s.length;p+=1){n=new SKYSALES.Class.TravelerInput();n.travelDocRadioButtonName=this.travelDocRadioButtonName;n.travelDocTypeId=this.travelDocTypeId;n.init(s[p]);s[p]=n;}if(this.friendsArray!=null){p=0;var r=null;for(p=0;p<this.friendsArray.length;p+=1){r=new SKYSALES.Class.Friend();r.init(this.friendsArray[p]);}}a.travelerInputArray=s;};return a;};SKYSALES.Class.TravelerInputContainer.createObject=function(a){SKYSALES.Util.createObject("travelerInputContainer","TravelerInputContainer",a);};}if(!SKYSALES.Class.TravelerInput){SKYSALES.Class.TravelerInput=function(){var b=SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.linkId="";a.link=null;a.listId="";a.list=null;a.contentId="";a.content=null;a.tabId="";a.tab=null;a.tabStart=0;a.travelerInputArray=null;a.travelerName=null;a.travelerAge=null;a.travelerCompany=null;a.selectedTab=0;a.imThisTravellerCheckboxId="";a.imThisTravellerCheckbox=null;a.paxType="";a.paxNumber="";a.docType=null;a.passportNumber=null;a.passportCountry=null;a.passportExpDate=null;a.passportExpMonth=null;a.passportExpYear=null;a.submitButtonId="";a.submitButton=null;a.nextButtonId="NextButton";a.nextButton=null;a.dropdownTitleId="";a.dropdownGenderId="";a.dropdownTitle=null;a.dropdownGender=null;a.dropdownNationalityId="";a.dropdownNationality=null;a.dropdownBirthDateMonthId="";a.dropdownBirthDateMonth=null;a.dropdownBirthDateDayId="";a.dropdownBirthDateDay=null;a.dropdownBirthDateYearId="";a.dropdownBirthDateYear=null;a.travelDocRadioButtonName="";a.travelDocRadioButtons=null;a.travelDocTypeId="";a.customerNumberId="";a.customerNumber=null;a.hasFriend=false;a.setTabIndexes=function(){a.link.attr("tabindex",a.tabStart);var c=$("#"+a.contentId+" :input:visible, select:visible, :radio:visible");for(i=0;i<c.length;i++){if($(c[i])&&$(c[i]).attr("tabindex")==0){$(c[i]).attr("tabindex",a.tabStart+i+1);c[i].setAttribute("tabindex",a.tabStart+i+1);}}};a.insurancecontainerId="";a.dropdownSelectCountry="";a.insurancecontainer=null;a.init=function(s){this.setSettingsByObject(s);this.setVars();this.addEvents();setTimeout(a.setTabIndexes,2000);var e=null,l=$("#"+a.contentId).find("select[id*=DropDownListBirthDateMonth]"),p=$("#"+a.contentId).find("select[id*=DropDownListBirthDateDay]"),m=$("#"+a.contentId).find("select[id*=DropDownListBirthDateYear]");e=new SKYSALES.Class.TravelerAge();e.init(l,p,m);a.travelerAge=e;if(this.paxType=="INF"){a.travelerCompany=$("#"+a.contentId).find("select[id*=DropDownListAssign]");}if($("#"+a.contentId).find("input:text[id*=TextBoxFirstName]").val()==""){$("#"+a.contentId).find("input:text[id*=TextBoxFirstName]").val($("#"+a.contentId).find("input:text[id*=TextBoxLastName]").val());}var n=null,q=$("#"+a.contentId).find("input:text[id*=TextBoxFirstName]"),r=$("#"+a.contentId).find("input:text[id*=TextBoxLastName]"),f=a.tab;if(q.length>0||r.length>0){n=new SKYSALES.Class.TravelerName();n.init(q,r,f);a.travelerName=n;}var c=$("#"+a.contentId).find("select[id*=DropDownListNationality]");if(c.length>0){a.populateCountryInput(c);}};a.disableTextFields=function(){a.travelerName.disable();};a.populateCountryInput=function(f){var l=$("#"+f[0].id+"_value").val();var c=SKYSALES.Util.getResource().countryInfo.CountryList;if(c.length==0||c[0].code!=""){c.unshift({InternationalDialCode:"",code:"",name:a.dropdownSelectCountry});}var e={"selectBox":f,"objectArray":c,"selectedItem":l,"showCode":false};SKYSALES.Util.populateSelect(e);};a.setVars=function(){a.link=$("#"+this.linkId);a.list=$("#"+this.listId);a.content=$("#"+this.contentId);a.tab=$("#"+this.tabId);a.imThisTravellerCheckbox=$("#"+this.imThisTravellerCheckboxId);a.dropdownTitle=$("#"+this.dropdownTitleId);a.dropdownGender=$("#"+this.dropdownGenderId);a.dropdownBirthDateMonth=$("#"+this.dropdownBirthDateMonthId);a.dropdownBirthDateDay=$("#"+this.dropdownBirthDateDayId);a.dropdownBirthDateYear=$("#"+this.dropdownBirthDateYearId);a.dropdownNationality=$("#"+this.dropdownNationalityId);a.customerNumber=$("#"+this.customerNumberId);a.submitButton=$("#"+this.submitButtonId);a.nextButton=$("#"+this.nextButtonId);a.insurancecontainer=$("#"+this.insurancecontainerId);};a.addEvents=function(){a.link.focus(this.toggleMenuHandler);a.link.click(this.toggleMenuHandler);a.imThisTravellerCheckbox.click(this.populateTravelerTabHandler);a.dropdownTitle.change(this.updateGender);a.dropdownGender.change(this.updateTitle);a.dropdownBirthDateMonth.change(this.updateDays);a.dropdownBirthDateYear.change(this.updateDays);a.dropdownNationality.change(this.validateNationality);a.dropdownNationality.change(function(){validateBySelector("div[id="+a.contentId+"]")?$("#validationErrorContainerReadAlong").hide():false;});a.dropdownBirthDateDay.change(function(){validateBySelector("div[id="+a.contentId+"]")?$("#validationErrorContainerReadAlong").hide():false;});a.dropdownBirthDateMonth.change(function(){validateBySelector("div[id="+a.contentId+"]")?$("#validationErrorContainerReadAlong").hide():false;});a.dropdownBirthDateYear.change(function(){validateBySelector("div[id="+a.contentId+"]")?$("#validationErrorContainerReadAlong").hide():false;});};a.validateNationality=function(){SKYSALES.validateNationality(this,true,true,true);};a.updateGender=function(){var c=a.dropdownTitle.val();var e=SKYSALES.Util.getResource().titleInfo.TitleList;for(i=0;i<e.length;i+=1){title=e[i];if(c==title.TitleKey){a.dropdownGender.val(title.GenderCode);break;}}};a.clearFriend=function(){a.customerNumber.val("");a.travelerName.firstName.val("");a.travelerName.lastName.val("");a.dropdownTitle.val("");a.travelerName.writeNameHandler();a.dropdownNationality.val("");a.dropdownGender.val("");a.dropdownBirthDateMonth.val("");a.dropdownBirthDateDay.val("");a.dropdownBirthDateYear.val("");a.hasFriend=false;};a.updateTitle=function(){var f=a.dropdownGender.val();var m=a.dropdownTitle.val();var n=SKYSALES.Util.getResource().titleInfo.TitleList;var c=n.length;for(i=0;i<c;i+=1){title=n[i];if(m!="CHD"&&f==title.GenderCode){a.dropdownTitle.val(title.TitleKey);break;}}var e=a.dropdownTitle.val();if(!e){a.dropdownTitle.val("CHD");}};a.updateDays=function(){var f=a.dropdownBirthDateMonth.val()-1;var e=a.dropdownBirthDateYear.val();var c=32-new Date(e,f,32).getDate();var m=a.dropdownBirthDateDay.val();var l=a.dropdownBirthDateDay[0].length-1;if(l<c){for(i=l+1;i<=c;i+=1){a.dropdownBirthDateDay.append('<option value="'+i+'">'+i+"</option>");}}else{if(l>c){for(i=l;i>c;i-=1){$("#"+a.dropdownBirthDateDayId+" option:eq("+i+")").remove();}}}if(m!=""&&m<=c){a.dropdownBirthDateDay.val(m);}else{a.dropdownBirthDateDay.val("");}};a.populateTravelerTabHandler=function(){a.travelerName.writeNameHandler();};a.toggleMenuHandler=function(){if(a.travelerInputArray!==null){var m=$("#"+a.listId+"").hasClass("selected");var f=function(){$(this).removeClass("validationError");};if(!m&&$("#currentTab").text()!="true"){$("#validationErrorContainerReadAlong").remove();if($("#mainTraveler .validationError").length>0){$("#mainTraveler .validationError").each(f);}}$("#currentTab").text("");var c=a.travelerInputArray.length;var e=$("#list_0").hasClass("selected");for(i=0;i<c;i+=1){a.travelerInputArray[i].hideContent();}if(a.paxType.length>0){a.insurancecontainer.show();}else{a.insurancecontainer.hide();}a.submitButton.attr("disabled","disabled").addClass("buttonDisabled").hide();a.nextButton.show();a.showContent(e);}};a.showContent=function(n){var f=$("#mainTraveler").height();$(".noFriendsNMDiv").css("height",f);if($("input[id*=RedCarpet]").length==0){$("span#redcarpetlabel").closest(".SSRInput2").remove();}a.list.addClass("selected");var m=a.travelerInputArray.length-1;if(a==a.travelerInputArray[m]){a.nextButton.hide();a.submitButton.removeAttr("disabled").removeClass("buttonDisabled").show();if(a.content.find("select[id*=DropDownListNationality]").length>0){SKYSALES.validateNationality(a.content.find("select[id*=DropDownListNationality]"),false,true,true);}}if(a.paxType.length>0){a.insurancecontainer.show();}else{a.insurancecontainer.hide();}a.content.show();var v=a.contentId.split("_");if(document.getElementById("CONTROLGROUP_OUTERTRAVELER_CONTROLGROUPTRAVELER_PassengerInputTravelerView_CheckBoxImFlying_0")&&document.getElementById("CONTROLGROUP_OUTERTRAVELER_CONTROLGROUPTRAVELER_PassengerInputTravelerView_CheckBoxImFlying_0").checked==false&&v[1]==1&&(n==undefined||n==true)){var s=document.getElementById("CONTROLGROUP_OUTERTRAVELER_CONTROLGROUPTRAVELER_PassengerInputTravelerView_CheckBoxImFlying_0");s.click();}$("select[id*=DropDownListTitle][option[value!=CHD][selected]]").change();a.selectedTab=0;var t=a.content.find("div.add-ons-container");var q=t.children("ul.add-on-labels").length;if(q>1){t.each(function(x){var z=false;var w=false;var A=false;var y=$(this).children("ul");y.each(function(){$(this).children("li.portable").each(function(){if($(this).children("input").length>0){z=true;}});$(this).children("li.comfortkit").each(function(){if($(this).children("input").length>0){w=true;}});$(this).children("li.meal").each(function(){if($(this).find("dl").length>0){A=true;}});});if(!z){y.children("li.portable").remove();}if(!A){y.children("li.meals").remove();}});}if($.browser.msie&&$.browser.version<9){t.find("div.complimentarystar").css("display","inline");t.find("div.complimentarystar").css("zoom","1");}else{t.find("div.complimentarystar").css("display","inline-block");}var l=t.children().length;if(t.length>=2&&l>3){t.each(function(x){var z=0;var y=0;var A=$(this);var w=A.find('ul[rel="addoncontainer"]');w.each(function(B){$(this).children("li").each(function(C){var E=$(this);if(E.hasClass("meals-row")&&!E.find("dd").eq(0).is(":hidden")){E.find("dd").eq(0).hide();}h=E.height();if(h>22){y=C;var D=0;w.each(function(F){h2=$(this).children("li").eq(y).height();if(h2>D){D=h2;}});w.each(function(F){$(this).children("li").eq(y).css("height",D);});}});});});}else{var c=0;var u=0;var r=0;var e=0;var p=t.find('ul[rel="addoncontainer"]');p.each(function(w){$(this).children("li").each(function(x){if($(this).hasClass("meals-row")&&!$(this).find("dd").eq(0).is(":hidden")){$(this).find("dd").eq(0).hide();}h=$(this).height();if(h>22){r=h;u=x;c=w;p.each(function(y){$(this).children("li").eq(u).css("height",r);});}});});}};a.hideContent=function(){a.list.removeClass("selected");a.content.hide();a.selectedTab=1;};a.setSettingsByObject=function(c){b.setSettingsByObject.call(this,c);};return a;};SKYSALES.Class.TravelerInput.createObject=function(a){SKYSALES.Util.createObject("travelerInput","TravelerInput",a);};}if(!SKYSALES.Class.TravelerName){SKYSALES.Class.TravelerName=function(){var a=SKYSALES.Class.SkySales(),b=SKYSALES.Util.extendObject(a);b.firstName=null;b.lastName=null;b.nameLink=null;b.init=function(e,c,f){b.firstName=e;b.lastName=c;b.nameLink=f;this.addEvents();this.writeNameHandler();};b.disable=function(){b.firstName.attr("readonly",true);b.lastName.attr("readonly",true);};b.addEvents=function(){b.firstName.change(this.writeNameHandler);b.lastName.change(this.writeNameHandler);};b.writeNameHandler=function(){var c=", ";if(b.lastName.val()===""||b.firstName.val()===""){c="";}b.nameLink.text(b.lastName.val()+c+b.firstName.val());};return b;};SKYSALES.Class.TravelerName.createObject=function(a){SKYSALES.Util.createObject("travelerName","TravelerName",a);};}if(!SKYSALES.Class.TravelerAge){SKYSALES.Class.TravelerAge=function(){var a=SKYSALES.Class.SkySales(),b=SKYSALES.Util.extendObject(a);b.dateMonth=null;b.dateDay=null;b.dateYear=null;b.init=function(e,f,c){b.dateMonth=e;b.dateDay=f;b.dateYear=c;};b.isInfant=function(r,q,m){var e=new Date(r);var n=null;if(q==null){n=new Date(parseInt(b.dateYear.val()),parseInt(b.dateMonth.val())-1,parseInt(b.dateDay.val()));}else{n=new Date(q);}if(!isNaN(n)&&!isNaN(e)){var p=b.computeAge(e,n);var c=new Date(m);var f=1000*60*60*24;var l=Math.ceil((c.getTime()-n.getTime())/(f));if(!(p<2)||!(l>8)){return false;}}return true;};b.isChild=function(m,l){var e=new Date(m);var f=null;if(l==null){f=new Date(parseInt(b.dateYear.val()),parseInt(b.dateMonth.val())-1,parseInt(b.dateDay.val()));}else{f=new Date(l);}if(!isNaN(f)&&!isNaN(e)){var c=b.computeAge(e,f);if(!(c>=2&&c<12)){return false;}}return true;};b.isAdult=function(m,l){var e=new Date(m);var f=null;if(l==null){f=new Date(parseInt(b.dateYear.val()),parseInt(b.dateMonth.val())-1,parseInt(b.dateDay.val()));}else{f=new Date(l);}if(!isNaN(f)&&!isNaN(e)){var c=b.computeAge(e,f);if(!(c>=12)){return false;}}return true;};b.isScpAge=function(p,n,m,f){var e=new Date(p);var l=null;if(n==null){l=new Date(parseInt(b.dateYear.val()),parseInt(b.dateMonth.val())-1,parseInt(b.dateDay.val()));}else{l=new Date(n);}if(!isNaN(l)&&!isNaN(e)){var c=b.computeAge(e,l);if(c<m&&f){return false;}if(c>=m&&!f){return false;}}return true;};b.isNotFutureDate=function(){var e=new Date(parseInt(b.dateYear.val()),parseInt(b.dateMonth.val())-1,parseInt(b.dateDay.val()));var c=new Date();if(!isNaN(e)){return(e<c);}return true;};b.computeAge=function(f,e){if(f>e){var c=f.getFullYear()-e.getFullYear();if(f.getMonth()<e.getMonth()||(f.getMonth()<=e.getMonth()&&f.getDate()<e.getDate())){c--;}return c;}return null;};return b;};SKYSALES.Class.TravelerAge.createObject=function(a){SKYSALES.Util.createObject("TravelerAge","TravelerAge",a);};}if(!SKYSALES.Class.Friend){SKYSALES.Class.Friend=function(){var b=SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.customerNumber=null;a.firstName=null;a.lastName=null;a.bdayDay=null;a.bdayMonth=null;a.bdayYear=null;a.sequence=null;a.documentDay=null;a.documentMonth=null;a.documentYear=null;a.gender=null;a.title=null;a.documentCountry=null;a.nationality=null;a.documentNumber=null;a.paxType=null;a.init=function(c){this.setSettingsByObject(c);};return a;};SKYSALES.Class.Friend.createObject=function(a){SKYSALES.Util.createObject("Friend","Friend",a);};
/*!
This file is part of the Navitaire Professional Services customization.
Copyright (C) Navitaire.  All rights reserved.
*/
}if(!SKYSALES.Class.AddOnsContainer){SKYSALES.Class.AddOnsContainer=function(){var a=SKYSALES.Class.SkySales(),b=SKYSALES.Util.extendObject(a);b.menuSectionId="";b.menuSection=null;b.menuListId="";b.menuList=null;b.AddOnsArray=null;b.submitButtonId="";b.submitButton=null;b.continueButtonId="";b.continueButton=null;b.AddOnsArrayLinks=null;b.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();for(i=0;i<b.AddOnsArray.length;i+=1){b.AddOnsArray[i].AddOnsArray=this.AddOnsArray;b.AddOnsArray[i].hideContent();}b.AddOnsArray[0].content.show();b.AddOnsArray[0].list.addClass("selected");};b.setVars=function(){b.menuSection=$("#"+this.menuSectionId);b.menuList=$("#"+this.menuListId);b.submitButton=$("#"+this.submitButtonId);b.continueButton=$("#"+this.continueButtonId);};b.addEvents=function(){b.continueButton.click(this.continueHandler);b.triggerAddOnControls();};b.setSettingsByObject=function(f){a.setSettingsByObject.call(this,f);var e=0;var l=this.AddOnsArray||[];var c=null;for(e=0;e<l.length;e+=1){c=new SKYSALES.Class.AddOns();l[e].linkId=this.AddOnsArrayLinks[e].linkId;l[e].contentId=this.AddOnsArrayLinks[e].contentId;l[e].listId=this.AddOnsArrayLinks[e].listId;c.init(l[e],e);l[e]=c;}this.AddOnsArray=l;};b.triggerAddOnControls=function(){var l=$("input:checkbox:checked"),f=$("input:radio:checked"),e=$("div#mainAddOns").find("input.dynamic, select.dynamic, radio.dynamic"),c=$('select[id*="DropDownSkyBus"]');e.bind("change",function(){SKYSALES.Util.updatePriceDisplay($(this));});l.trigger("change");f.trigger("change");c.trigger("change");};b.continueHandler=function(){var c=0;AddOnsArray=b.AddOnsArray||[];for(i=0;i<AddOnsArray.length;i+=1){if(AddOnsArray[i].list.hasClass("selected")){c=i;break;}}if((c+1)==AddOnsArray.length){if(b.validateAddOns()){SKYSALES.DisplayLoadingBar();document.getElementById(b.submitButtonId).click();}}else{b.AddOnsArray[c].triggerValidate();if(!b.AddOnsArray[c].isValidated()){b.AddOnsArray[c].toggleMenuHandler();return false;}b.AddOnsArray[c+1].toggleMenuHandler();}};b.isValidated=function(){var e=0;var f=this.AddOnsArray||[];var c=null;var l=true;for(e=0;e<f.length;e+=1){if(!f[e].isValidated()){l=false;}}return l;};b.validateAddOns=function(){var e=0;var f=this.AddOnsArray||[];var c=null;for(e=0;e<f.length;e+=1){f[e].triggerValidate();if(!f[e].isValidated()){f[e].toggleMenuHandler();return false;}}return true;};return b;};SKYSALES.Class.AddOnsContainer.createObject=function(a){SKYSALES.Util.createObject("AddOnsContainer","AddOnsContainer",a);};}if(!SKYSALES.Class.AddOns){SKYSALES.Class.AddOns=function(){var b=SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.linkLabel="";a.linkId="";a.link=null;a.listId="";a.list=null;a.contentId="";a.content=null;a.AddOnsArray=null;a.validateButtonId="";a.validateButton=null;a.validateValueId="";a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();a.link.html(a.linkLabel);};a.setVars=function(){b.setVars.call(this);a.link=$("#"+this.linkId);a.list=$("#"+this.listId);a.content=$("#"+this.contentId);a.validateButtonId=this.validateButtonId;a.validateValueId=this.validateValueId;if(this.validateButtonId!=""){a.validateButton=$("#"+this.validateButtonId);}};a.addEvents=function(){b.addEvents.call(this);a.link.click(this.toggleMenuHandler);};a.toggleMenuHandler=function(){for(i=0;i<a.AddOnsArray.length;i+=1){a.AddOnsArray[i].hideContent();}a.list.addClass("selected");a.content.show();};a.triggerValidate=function(){if(this.validateButtonId!=""&&$("#"+this.validateButtonId).length>0){document.getElementById(this.validateButtonId).click();}};a.isValidated=function(){if(a.validateValueId!=""&&$("#"+a.validateValueId).length>0){if($("#"+a.validateValueId).val()=="false"){return false;}}return true;};a.hideContent=function(){a.list.removeClass("selected");a.content.hide();};a.setSettingsByObject=function(c){b.setSettingsByObject.call(this,c);};return a;};SKYSALES.Class.AddOns.createObject=function(a){SKYSALES.Util.createObject("AddOns","AddOns",a);};}function confirmEmail(e,a,c){var b;b=true;if(b==true){showMsg=false;SKYSALES.DisplayLoadingBar();__doPostBack(a,"");return true;}}SKYSALES.Class.MealPanel=function(){var a=new SKYSALES.Class.SkySales(),b=SKYSALES.Util.extendObject(a);b.panelId="";b.maxMeals=0;b.isdisabled=false;b.mealPanelBtn="";b.selectMealText="";b.selectedMealText="";b.selectedMealsText="";b.currencyCode="";b.decimalControl="";b.freeMealCount=0;b.freeMealPolicy=0;b.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();};b.setVars=function(){};b.addEvents=function(){var r=this.maxMeals,c=(isNaN(this.freeMealCount))?0:this.freeMealCount,n=(isNaN(this.freeMealPolicy))?0:this.freeMealCount,e=(this.isdisabled=="")?false:true;$("#"+this.panelId).ucMealPanel({max:r,selectedTab:0,disabled:e,decimalSeparator:".",thousandSeparator:",",freeMealCount:c,freeMealPolicy:n});var f=this.selectedMealText.replace(" %CURRENCY%","");var m=this.selectedMealsText.replace(" %CURRENCY%","");var q=this.decimalControl.split(",");var p=this.currencyCode;var l=this.selectMealText;$(".ucmealpanel").ucMealPanel("onchange",function(x,v){var y=f;var t=m;var s=2;for(var u=0;u<q.length;u++){if(p==q[u]){s=0;}}if(v==undefined||v.count==undefined||v.count==null||v.count==0){$(x).closest("li.meals-row").find(".mealPanelBtn").find("span.label").html(l);}else{var w=+v.totalPrice;$(x).parents("li.meals-row").eq(0).find(".mealPanelBtn span.label").html(v.count==1?y.replace("%COUNT%",v.count).replace("%PRICE%",(w.toFixed(s)+" "+v.currency)):t.replace("%COUNT%",v.count).replace("%PRICE%",(w.toFixed(s)+" "+v.currency)));}});};return b;};SKYSALES.Class.MealPanel.createObject=function(a){SKYSALES.Util.createObject("mealPanel","MealPanel",a);};SKYSALES.Class.ComfortKitPanel=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.panelId="";a.maxMeals=0;a.isdisabled=false;a.mealPanelBtn="";a.selectMealText="";a.selectedMealText="";a.selectedMealsText="";a.currencyCode="";a.decimalControl="";a.freeMealCount=0;a.freeMealPolicy=0;a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();};a.setVars=function(){};a.addEvents=function(){var r=this.maxMeals,c=(isNaN(this.freeMealCount))?0:this.freeMealCount,n=(isNaN(this.freeMealPolicy))?0:this.freeMealCount,e=(this.isdisabled=="")?false:true;$("#"+this.panelId).ucComfortKitPanel({max:r,selectedTab:0,disabled:e,decimalSeparator:".",thousandSeparator:",",freeMealCount:c,freeMealPolicy:n});var f=this.selectedMealText.replace(" %CURRENCY%","");var m=this.selectedMealsText.replace(" %CURRENCY%","");var q=this.decimalControl.split(",");var p=this.currencyCode;var l=this.selectMealText;$(".uccomfortkitpanel").ucComfortKitPanel("onchange",function(x,v){var y=f;var t=m;var s=2;for(var u=0;u<q.length;u++){if(p==q[u]){s=0;}}if(v==undefined||v.count==undefined||v.count==null||v.count==0){$(x).closest("li.comforts-row").find(".comfortKitPanelBtn").find("span.label").html(l);}else{var w=+v.totalPrice;$(x).parents("li.comforts-row").eq(0).find(".comfortKitPanelBtn span.label").html(v.count==1?y.replace("%COUNT%",v.count).replace("%PRICE%",(w.toFixed(s)+" "+v.currency)):t.replace("%COUNT%",v.count).replace("%PRICE%",(w.toFixed(s)+" "+v.currency)));}});};return a;};SKYSALES.Class.ComfortKitPanel.createObject=function(a){SKYSALES.Util.createObject("comfortKitPanel","ComfortKitPanel",a);};SKYSALES.Class.BaggageLegInput=function(){var a=new SKYSALES.Class.SkySales(),b=SKYSALES.Util.extendObject(a);b.clientId="";b.ssrAvailabilityArray=null;b.dropDownBaggageArray=[];b.currencyCode="";b.complimentaryTextArray=null;b.isFlightChange=false;b.disableMarket=null;b.isNewBookingModified=null;b.isBookingModified=null;b.isAgent=null;b.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();this.initSsrAvailabilityArray();this.initDropDownBaggageLegInputArray();};b.initSsrAvailabilityArray=function(){var f=0,l=this.ssrAvailabilityArray||[],c=l.length,e=null;for(f=0;f<c;f+=1){e=new SKYSALES.Class.SSRAvailability();e.init(l[f]);this.ssrAvailabilityArray[f]=e;}};b.initDropDownBaggageLegInputArray=function(){var e=0,l=this.dropDownBaggageArray||[],c=l.length,f=null;for(e=0;e<c;e+=1){f=new SKYSALES.Class.DropDownBaggageLegInput();f.complimentaryTextArray=this.complimentaryTextArray;if(this.disableMarket!="none"&&e<parseInt(this.disableMarket)){f.isDisabled=true;}f.isFlightChange=this.isFlightChange;f.isNewBookingModified=this.isNewBookingModified;f.isBookingModified=this.isBookingModified;f.isAgent=this.isAgent;f.init(l[e],this.ssrAvailabilityArray[0],this.currencyCode);this.dropDownBaggageArray[e]=f;}};return b;};SKYSALES.Class.BaggageLegInput.createObject=function(a){SKYSALES.Util.createObject("baggageLegInput","BaggageLegInput",a);};SKYSALES.Class.DropDownBaggageLegInput=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.dropDownBaggageId="";a.dropDownBaggage={};a.quantityPrefix="";a.del="";a.passengerNumber=0;a.flightReference="";a.selectedItem="";a.currencyCode="";a.hiFlyerBaggageText="";a.arrvCountry="";a.destCountry="";a.isNewBooking=true;a.complimentaryTextArray=null;a.prevSelected=null;a.isFlightChange=false;a.isDisabled=false;a.origDropDownId="";a.baggagePriceArray=null;a.baggageAlertCodeList="";a.baggageAlertMessage="";a.autoSelectBaggage=function(){if(this.selectedItem!=""&&$(this).is("select")){var v=a.dropDownBaggageId;var F=this.options[this.selectedIndex].text;var C=this.options[this.selectedIndex].value;var s=a.flightReference;var M=document.getElementsByTagName("select");var n="";var e=[];if((C.length>0||F.length>0)&&s.length>0){var r=C.substring(C.indexOf("ssrCode"),C.indexOf("flightReference")-1);var f=v.substring(v.indexOf("passengerNumber"),v.indexOf("flightReference")-1);for(var H=0,E=M.length;H<E;H++){if(!M[H].disabled){if(M[H].id&&M[H].id!=v&&M[H].id.indexOf(f)!=-1&&(M[H].id.indexOf("BaggageLegInputViewTravelerView")!=-1||M[H].id.indexOf("BaggageLegInputViewTravelerChangeView")!=-1||M[H].id.indexOf("BaggageLegInputViewTravelerFlightChangeView")!=-1||M[H].id.indexOf("BaggageLegInputViewSSRChangeView")!=-1)){e.push(M[H]);}}}if(e){for(var B=0,z=e.length;B<z;B++){var p=e[B].id;var J=s.substring(s.lastIndexOf("-")+1,s.length);var I=p.substring(p.lastIndexOf("-")+1,p.length);var A=J.substring(0,3);var u=J.substring(J.length-3,J.length);var c=I.substring(0,3);var L=I.substring(I.length-3,I.length);if(!(A==L&&c==u)&&(u==c||A==L)){var D=document.getElementById(p);n=D;if(r.length>0){var G=$(D).val();$(D).find('option[value*="'+r+'"]').attr("selected","selected");var K=$(D).attr("onchange");if(G!=$(D).find('option[value*="'+r+'"]').val()){SKYSALES.Util.updatePriceDisplay($(D));}}else{if(F.length>0){var G=$(D).val();var w=$(D).find("option").filter(function(){return $.trim($(this).text())==F;});w.attr("selected",true);var K=$(D).attr("onchange");if(G!=w){SKYSALES.Util.updatePriceDisplay($(D));}}}}}}}var l=a.baggageAlertCodeList;var q=l.split(",");for(var H=0;H<q.length;H++){var t=q[H];if(C.indexOf(t)!=-1){alert(a.baggageAlertMessage);break;}}}};a.autoSelectBaggageLink=function(){if(a.dropDownBaggage.selectedItem!=""){var s=a.dropDownBaggageId;var w=document.getElementById(s);var C=w.options[w.selectedIndex].text;var z=w.options[w.selectedIndex].value;var q=a.flightReference;var I=document.getElementsByTagName("select");var e=[];if((z.length>0||C.length>0)&&q.length>0){var p=z.substring(z.indexOf("ssrCode"),z.indexOf("flightReference")-1);var f=s.substring(s.indexOf("passengerNumber"),s.indexOf("flightReference")-1);for(var E=0,B=I.length;E<B;E++){if(!I[E].disabled){if(I[E].id&&I[E].id!=s&&I[E].id.indexOf(f)!=-1&&(I[E].id.indexOf("BaggageLegInputViewTravelerView")!=-1||I[E].id.indexOf("BaggageLegInputViewTravelerChangeView")!=-1||I[E].id.indexOf("BaggageLegInputViewTravelerFlightChangeView")!=-1||I[E].id.indexOf("BaggageLegInputViewSSRChangeView")!=-1)){e.push(I[E]);}}}if(e){for(var v=0,t=e.length;v<t;v++){var n=e[v].id;var G=q.substring(q.lastIndexOf("-")+1,q.length);var F=n.substring(n.lastIndexOf("-")+1,n.length);var u=G.substring(0,3);var r=G.substring(G.length-3,G.length);var c=F.substring(0,3);var H=F.substring(F.length-3,F.length);if(!(u==H&&c==r)&&(r==c||u==H)){var A=document.getElementById(n);if(p.length>0){for(var E=0,D=A.options.length;E<D;E++){o=A.options[E];if(o.value.indexOf(p)!=-1){o.selected=true;}}}else{if(C.length>0){for(var E=0,D=A.options.length;E<D;E++){o=A.options[E];if(o.text.indexOf(C)!=-1){o.selected=true;}}}}}}}}}};a.addEvents=function(){a.dropDownBaggage.change(this.autoSelectBaggage);$("#selectNoBaggage_"+a.flightReference+"_passengerNumber_"+this.passengerNumber).click(this.autoSelectBaggageLink);};a.init=function(f,e,c){this.setSettingsByObject(f);this.setVars();this.addEvents();this.currencyCode=c;this.initDropDownBaggageLegInput(e);if(this.dropDownBaggage){this.dropDownBaggage.val(this.selectedItem);}if(this.isDisabled){this.dropDownBaggage.attr("disabled",true);$("#"+this.origDropDownId).val(this.selectedItem);}a.dropDownBaggage.bind("change",function(){SKYSALES.Util.updatePriceDisplay($(this));});a.dropDownBaggage.trigger("change");};a.setVars=function(){this.hiFlyerBaggageText=$("#"+this.dropDownBaggageId+"_hiflyerBaggageText");if(this.isDisabled){this.origDropDownId=this.dropDownBaggageId;this.dropDownBaggageId=this.dropDownBaggageId+"_";}this.dropDownBaggage=$("#"+this.dropDownBaggageId);};a.showLabel=function(f,e){var c=0;for(c=0;c<this.complimentaryTextArray.length;c++){if(this.complimentaryTextArray[c].SsrCode==f&&(this.prevSelected==null||c>this.prevSelected)){this.prevSelected=c;$("#baggagecomplementary").text(this.complimentaryTextArray[c].labelText);if((this.isNewBooking||this.isFlightChange)&&!this.isDisabled){this.selectedItem=e;}break;}}};a.findMCCPrice=function(e){var c=0;if(this.baggagePriceArray!=null){for(c=0;c<this.baggagePriceArray.length;c++){if(this.baggagePriceArray[c].SsrCode==e){return this.baggagePriceArray[c].SsrPrice;}}}return"";};a.initDropDownBaggageLegInput=function(r){len1=r.SsrAvailabilityList.length;SSRAvailability=null;flightCarrierCode=null;var q=0,s=this.selectedItem?this.selectedItem.split("_"):null,p=s?s[jQuery.inArray("ssrCode",s)+1]:"",c=s?s[jQuery.inArray("ssrNum",s)+1]:"1",e="";this.selectedItem=p!==""?this.selectedItem:"";if(this.selectedItem!==""&&!this.isFlightChange){this.isNewBooking=false;}for(q=0;q<len1;q+=1){SSRAvailability=r.SsrAvailabilityList[q];if(SSRAvailability.passengerNumber==this.passengerNumber){len2=SSRAvailability.flightParts.length;flightPart=null;for(j=0;j<len2;j+=1){flightPart=new SKYSALES.Class.FlightPart();flightPart.init(SSRAvailability.flightParts[j]);if(flightPart.flightKey!=null){flightDesignator="";if(flightPart.flightKey.flightDesignator!=null){flightCarrierCode=flightPart.flightKey.flightDesignator.CarrierCode;flightDesignator=flightPart.flightKey.flightDesignator.CarrierCode+flightPart.flightKey.flightDesignator.FlightNumber;flightDesignator=flightDesignator.split(" ").join("-");}flightRef=flightPart.flightKey.departureDate.getDate()+"-"+flightDesignator+"-"+flightPart.flightKey.departureStation+flightPart.flightKey.arrivalStation;if(this.flightReference==flightRef){len3=flightPart.availableSsrs.length;origSelectedItem=this.selectedItem;hasComplimentaryBaggage=false;for(k=0;k<len3;k+=1){if(this.dropDownBaggage){text=flightPart.availableSsrs[k].ssr.name;price=a.findMCCPrice(flightPart.availableSsrs[k].ssr.ssrCode);text=text+" ("+price+")";value=this.quantityPrefix+this.del+"passengerNumber"+this.del+this.passengerNumber+this.del+"ssrCode"+this.del+flightPart.availableSsrs[k].ssr.ssrCode+this.del+"ssrNum"+this.del+c+this.del+"flightReference"+this.del+flightRef;if(flightPart.availableSsrs[k].price==0){this.showLabel(flightPart.availableSsrs[k].ssr.ssrCode,value);hasComplimentaryBaggage=true;}else{if((hasComplimentaryBaggage)&&(value==origSelectedItem)&&(flightPart.availableSsrs[k].price>0)){this.selectedItem=value;}else{if((this.isNewBooking==true)&&(value==origSelectedItem)){this.selectedItem=value;}else{if((this.isNewBooking==true)&&(this.isNewBookingModified=="")&&(this.isBookingModified=="")){if((flightCarrierCode=="AK")||(flightCarrierCode=="FD")||(flightCarrierCode=="QZ"&&this.arrvCountry!=this.destCountry)||(flightCarrierCode=="PQ")||(flightCarrierCode=="Z2")||(flightCarrierCode=="JW")){if(flightPart.availableSsrs[k].ssr.ssrCode=="PBAB"){this.selectedItem=value;}}else{if(flightCarrierCode=="D7"){if(flightPart.availableSsrs[k].ssr.ssrCode=="PBAB"){this.selectedItem=value;}}}if(flightCarrierCode=="QZ"&&this.arrvCountry==this.destCountry){if(flightPart.availableSsrs[k].ssr.ssrCode=="PBAB"){this.selectedItem=value;}}}}}}e=this.dropDownBaggage.get(0);if(e&&e.options){e.options[e.options.length]=new window.Option(text,value,false,false);}}}if(e&&e.options){if(((flightCarrierCode=="QZ"&&this.arrvCountry==this.destCountry)||a.isBookingModified=="True")&&this.selectedItem!=""){if(this.selectedItem.indexOf("__")==-1){e=this.dropDownBaggage.get(0);if(e&&e.options){for(var f=0,n=2;f<n;f++){o=e.options[f];if(f==0&&o.value==""){e.options[0]=null;var t=document.getElementById("selectNoBaggage_"+a.flightReference+"_passengerNumber_"+this.passengerNumber);if(t){t.setAttribute("class","hidden");}break;}}}}}}}}}}}};return a;};SKYSALES.Class.WheelchairInput=function(){var a=new SKYSALES.Class.SkySales(),b=SKYSALES.Util.extendObject(a);b.clientId="";b.ssrAvailabilityArray=null;b.dropDownWheelchairArray=[];b.currencyCode="";b.complimentaryTextArray=null;b.isFlightChange=false;b.disableMarket=null;b.isNewBookingModified=null;b.isBookingModified=null;b.isAgent=null;b.sWCHString=null;b.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();this.initSsrAvailabilityArray();this.initDropDownWheelchairInputArray();};b.initSsrAvailabilityArray=function(){var f=0,l=this.ssrAvailabilityArray||[],c=l.length,e=null;for(f=0;f<c;f+=1){e=new SKYSALES.Class.SSRAvailability();e.init(l[f]);this.ssrAvailabilityArray[f]=e;}};b.initDropDownWheelchairInputArray=function(){var e=0,f=this.dropDownWheelchairArray||[],c=f.length,l=null;for(e=0;e<c;e+=1){l=new SKYSALES.Class.DropDownWheelchairInput();l.complimentaryTextArray=this.complimentaryTextArray;if(this.disableMarket!="none"&&e<parseInt(this.disableMarket)){l.isDisabled=true;}l.isFlightChange=this.isFlightChange;l.isNewBookingModified=this.isNewBookingModified;l.isBookingModified=this.isBookingModified;l.isAgent=this.isAgent;l.init(f[e],this.ssrAvailabilityArray[0],this.currencyCode,this.sWCHString);this.dropDownWheelchairArray[e]=l;}};return b;};SKYSALES.Class.WheelchairInput.createObject=function(a){SKYSALES.Util.createObject("wheelchairInput","WheelchairInput",a);};SKYSALES.Class.DropDownWheelchairInput=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.dropDownWheelchairId="";a.dropDownWheelchair={};a.quantityPrefix="";a.del="";a.passengerNumber=0;a.flightReference="";a.selectedItem="";a.currencyCode="";a.arrvCountry="";a.destCountry="";a.isNewBooking=true;a.complimentaryTextArray=null;a.prevSelected=null;a.isFlightChange=false;a.isDisabled=false;a.origDropDownId="";a.wheelchairPriceArray=null;a.wheelchairAlertCodeList="";a.wheelchairAlertMessage="";a.autoSelectWheelchair=function(){if(this.selectedItem!=""&&$(this).is("select")){var s=a.dropDownWheelchairId;var D=this.options[this.selectedIndex].text;var z=this.options[this.selectedIndex].value;var q=a.flightReference;var K=document.getElementsByTagName("select");var l="";var e=[];if((z.length>0||D.length>0)&&q.length>0){var p=z.substring(z.indexOf("ssrCode"),z.indexOf("flightReference")-1);var f=s.substring(s.indexOf("passengerNumber"),s.indexOf("flightReference")-1);for(var F=0,C=K.length;F<C;F++){if(!K[F].disabled){if(K[F].id&&K[F].id!=s&&K[F].id.indexOf(f)!=-1&&(K[F].id.indexOf("WheelchairInputViewTravelerView")!=-1||K[F].id.indexOf("WheelchairInputViewTravelerChangeView")!=-1||K[F].id.indexOf("WheelchairInputViewTravelerFlightChangeView")!=-1||K[F].id.indexOf("WheelchairInputViewSSRChangeView")!=-1)){e.push(K[F]);}}}if(e){for(var w=0,u=e.length;w<u;w++){var n=e[w].id;var H=q.substring(q.lastIndexOf("-")+1,q.length);var G=n.substring(n.lastIndexOf("-")+1,n.length);var v=H.substring(0,3);var r=H.substring(H.length-3,H.length);var c=G.substring(0,3);var J=G.substring(G.length-3,G.length);if(!(v==J&&c==r)&&(r==c||v==J)){var B=document.getElementById(n);var A=document.getElementById(s);l=B;var E=$(B).val();var z=$(A).val();if(p.length>0){$(B).find('option[value*="'+p+'"]').attr("selected","selected");var I=$(B).attr("onchange");if(E!=$(B).find('option[value*="'+p+'"]').val()){SKYSALES.Util.updatePriceDisplay($(B));if(z!=E){$(B).change();}}}else{if(D.length>0){var t=$(B).find("option").filter(function(){return $.trim($(this).text())==D;});t.attr("selected",true);var I=$(B).attr("onchange");if(E!=t){SKYSALES.Util.updatePriceDisplay($(B));if(z!=E){$(B).change();}}}}}}}}}};a.addEvents=function(){a.dropDownWheelchair.change(this.autoSelectWheelchair);};a.init=function(f,e,c,l){this.setSettingsByObject(f);this.setVars();this.addEvents();this.currencyCode=c;this.initDropDownWheelchairInput(e,l);if(this.dropDownWheelchair){this.dropDownWheelchair.val(this.selectedItem);}if(this.isDisabled){this.dropDownWheelchair.attr("disabled",true);$("#"+this.origDropDownId).val(this.selectedItem);}a.dropDownWheelchair.bind("change",function(){SKYSALES.Util.updatePriceDisplay($(this));});a.dropDownWheelchair.trigger("change");};a.setVars=function(){this.hiFlyerWheelchairText=$("#"+this.dropDownWheelchairId+"_hiflyerWheelchairText");if(this.isDisabled){this.origDropDownId=this.dropDownWheelchairId;this.dropDownWheelchairId=this.dropDownWheelchairId+"_";}this.dropDownWheelchair=$("#"+this.dropDownWheelchairId);};a.showLabel=function(f,e){var c=0;for(c=0;c<this.complimentaryTextArray.length;c++){if(this.complimentaryTextArray[c].SsrCode==f&&(this.prevSelected==null||c>this.prevSelected)){this.prevSelected=c;$("#baggagecomplementary").text(this.complimentaryTextArray[c].labelText);if((this.isNewBooking||this.isFlightChange)&&!this.isDisabled){this.selectedItem=e;}break;}}};a.findMCCPrice=function(e){var c=0;if(this.wheelchairPriceArray!=null){for(c=0;c<this.wheelchairPriceArray.length;c++){if(this.wheelchairPriceArray[c].SsrCode==e){return this.wheelchairPriceArray[c].SsrPrice;}}}return"";};a.initDropDownWheelchairInput=function(s,q){len1=s.SsrAvailabilityList.length;SSRAvailability=null;flightCarrierCode=null;var r=0,t=this.selectedItem?this.selectedItem.split("_"):null,p=t?t[jQuery.inArray("ssrCode",t)+1]:"",c=t?t[jQuery.inArray("ssrNum",t)+1]:"1",e="";this.selectedItem=p!==""?this.selectedItem:"";if(this.selectedItem!==""&&!this.isFlightChange){this.isNewBooking=false;}for(r=0;r<len1;r+=1){SSRAvailability=s.SsrAvailabilityList[r];if(SSRAvailability.passengerNumber==this.passengerNumber){len2=SSRAvailability.flightParts.length;flightPart=null;for(j=0;j<len2;j+=1){flightPart=new SKYSALES.Class.FlightPart();flightPart.init(SSRAvailability.flightParts[j]);if(flightPart.flightKey!=null){flightDesignator="";if(flightPart.flightKey.flightDesignator!=null){flightCarrierCode=flightPart.flightKey.flightDesignator.CarrierCode;flightDesignator=flightPart.flightKey.flightDesignator.CarrierCode+flightPart.flightKey.flightDesignator.FlightNumber;flightDesignator=flightDesignator.split(" ").join("-");}flightRef=flightPart.flightKey.departureDate.getDate()+"-"+flightDesignator+"-"+flightPart.flightKey.departureStation+flightPart.flightKey.arrivalStation;if(this.flightReference==flightRef){len3=flightPart.availableSsrs.length;origSelectedItem=this.selectedItem;hasComplimentaryWheelchair=false;wchList=q.split(";");len4=wchList.length;for(n=0;n<len4;n++){for(k=0;k<len3;k+=1){if(this.dropDownWheelchair&&wchList[n]==flightPart.availableSsrs[k].ssr.ssrCode){text=flightPart.availableSsrs[k].ssr.name;price=a.findMCCPrice(flightPart.availableSsrs[k].ssr.ssrCode);text=text+" ("+price+")";value=this.quantityPrefix+this.del+"passengerNumber"+this.del+this.passengerNumber+this.del+"ssrCode"+this.del+flightPart.availableSsrs[k].ssr.ssrCode+this.del+"ssrNum"+this.del+c+this.del+"flightReference"+this.del+flightRef;e=this.dropDownWheelchair.get(0);if(e&&e.options){e.options[e.options.length]=new window.Option(text,value,false,false);}}}}if(e&&e.options){if((a.isBookingModified=="True")&&this.selectedItem!=""){if(this.selectedItem.indexOf("__")==-1){e=this.dropDownWheelchair.get(0);if(e&&e.options){for(var f=0,n=2;f<n;f++){o=e.options[f];if(f==0&&o.value==""){e.options[0]=null;break;}}}}}}}}}}}};return a;};SKYSALES.Class.SportsEquipment=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.clientId="";a.ssrAvailabilityArray=null;a.dropdownsportEquipmentarray=[];a.currencyCode="";a.disableMarket=null;a.isBookingModified="";a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();this.initSsrAvailabilityArray();this.initdropdownSportEquipmentarray();};a.initSsrAvailabilityArray=function(){var f=0,l=this.ssrAvailabilityArray||[],c=l.length,e=null;for(f=0;f<c;f+=1){e=new SKYSALES.Class.SSRAvailability();e.init(l[f]);this.ssrAvailabilityArray[f]=e;}};a.initdropdownSportEquipmentarray=function(){var f=this.dropdownsportEquipmentarray||[],c=f.length;var l=null;for(var e=0;e<c;e++){l=new SKYSALES.Class.dropdownSportEquipment();if(this.disableMarket!="none"&&e<parseInt(this.disableMarket)){l.isDisabled=true;}l.isBookingModified=this.isBookingModified;l.init(f[e],this.ssrAvailabilityArray[0],this.currencyCode);this.dropdownsportEquipmentarray[e]=l;}};return a;};SKYSALES.Class.SportsEquipment.createObject=function(a){SKYSALES.Util.createObject("sportsEquipment","SportsEquipment",a);};SKYSALES.Class.dropdownSportEquipment=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.sportsdropdown={};a.sportsequipmentid="";a.quantityPrefix="";a.del="";a.passengerNumber=0;a.flightreference="";a.currencyCode="";a.selectedItem="";a.origDropDownId="";a.isDisabled=false;a.sportequipPriceArray=null;a.clientId="";a.isBookingModified="";a.sportsAlertCodeList="";a.sportsAlertMessage="";a.init=function(f,e,c){this.setSettingsByObject(f);this.setVars();this.addEvents();this.currencyCode=c;this.initDropDownSprotEquipment(e);if(this.sportsdropdown){this.sportsdropdown.val(this.selectedItem);}if(this.isDisabled){this.sportsdropdown.attr("disabled",true);$("#"+this.origDropDownId).val(this.selectedItem);}a.sportsdropdown.bind("change",function(){SKYSALES.Util.updatePriceDisplay($(this));});a.sportsdropdown.trigger("change");};a.setVars=function(){if(this.isDisabled){this.origDropDownId=this.sportsequipmentid;this.sportsequipmentid=this.sportsequipmentid+"_";}this.sportsdropdown=$("#"+this.sportsequipmentid);};a.findMCCPrice=function(e){var c=0;if(this.sportequipPriceArray!=null){for(c=0;c<this.sportequipPriceArray.length;c++){if(this.sportequipPriceArray[c].SsrCode==e){return this.sportequipPriceArray[c].SsrPrice;}}}return"";};a.initDropDownSprotEquipment=function(n){len1=n.SsrAvailabilityList.length;SSRAvailability=null;flightCarrierCode=null;var p=0;var e=null;selectedItemArray=this.selectedItem?this.selectedItem.split("_"):null,ssrNum=selectedItemArray?selectedItemArray[jQuery.inArray("ssrNum",selectedItemArray)+1]:"1";for(p=0;p<len1;p+=1){SSRAvailability=n.SsrAvailabilityList[p];if(SSRAvailability.passengerNumber==this.passengerNumber){len2=SSRAvailability.flightParts.length;flightPart=null;for(j=0;j<len2;j+=1){flightPart=new SKYSALES.Class.FlightPart();flightPart.init(SSRAvailability.flightParts[j]);if(flightPart.flightKey!=null){flightDesignator="";if(flightPart.flightKey.flightDesignator!=null){flightCarrierCode=flightPart.flightKey.flightDesignator.CarrierCode;flightDesignator=flightPart.flightKey.flightDesignator.CarrierCode+flightPart.flightKey.flightDesignator.FlightNumber;flightDesignator=flightDesignator.split(" ").join("-");}flightRef=flightPart.flightKey.departureDate.getDate()+"-"+flightDesignator+"-"+flightPart.flightKey.departureStation+flightPart.flightKey.arrivalStation;if(this.flightreference==flightRef){len3=flightPart.availableSsrs.length;for(k=0;k<len3;k+=1){if(this.sportsdropdown){text=flightPart.availableSsrs[k].ssr.name;price=a.findMCCPrice(flightPart.availableSsrs[k].ssr.ssrCode);text=text+" ("+price+")";value=this.quantityPrefix+this.del+"passengerNumber"+this.del+this.passengerNumber+this.del+"ssrCode"+this.del+flightPart.availableSsrs[k].ssr.ssrCode+this.del+"ssrNum"+this.del+ssrNum+this.del+"flightReference"+this.del+flightRef;e=this.sportsdropdown.get(0);if(e&&e.options){e.options[e.options.length]=new window.Option(text,value,false,false);}}}if(e&&e.options){if(a.isBookingModified=="True"&&this.selectedItem!=""){if(this.selectedItem.indexOf("__")==-1){e=this.sportsdropdown.get(0);if(e&&e.options){for(var c=0,f=2;c<f;c++){o=e.options[c];if(c==0&&o.value==""){e.options[0]=null;break;}}}}}}}}}}}};a.autoselectsport=function(){if(this.selectedItem!=""&&$(this).is("select")){var v=a.sportsequipmentid;var F=this.options[this.selectedIndex].text;var C=this.options[this.selectedIndex].value;var s=a.flightreference;var M=document.getElementsByTagName("select");var e=[];if((C.length>0||F.length>0)&&s.length>0){var q=C.substring(C.indexOf("ssrCode"),C.indexOf("flightReference")-1);var f=v.substring(v.indexOf("passengerNumber"),v.indexOf("flightReference")-1);var r=v.substring(0,v.lastIndexOf("flightReference")-1);for(var H=0,E=M.length;H<E;H++){if(!M[H].disabled){if(M[H].id&&M[H].id!=v&&M[H].id.indexOf(f)!=-1&&(M[H].id.indexOf(r)!=-1)){e.push(M[H]);}}}if(e){for(var B=0,z=e.length;B<z;B++){var n=e[B].id;var D=document.getElementById(n);var J=s.substring(s.lastIndexOf("-")+1,s.length);var I=n.substring(n.lastIndexOf("-")+1,n.length);var A=J.substring(0,3);var u=J.substring(J.length-3,J.length);var c=I.substring(0,3);var L=I.substring(I.length-3,I.length);if(!(A==L&&c==u)&&(u==c||A==L)){if(q.length>0){var G=$(D).val();$(D).find('option[value*="'+q+'"]').attr("selected","selected");var K=$(D).attr("onchange");if(G!=$(D).find('option[value*="'+q+'"]').val()){SKYSALES.Util.updatePriceDisplay($(D));}}else{if(F.length>0){var G=$(D).val();var w=$(D).find("option").filter(function(){return $.trim($(this).text())==F;});$(D).find("option").filter(function(){return $.trim($(this).text())==F;}).attr("selected",true);var K=$(D).attr("onchange");if(G!=w){SKYSALES.Util.updatePriceDisplay($(D));}}}}}}}var l=a.sportsAlertCodeList;var p=l.split(",");for(var H=0;H<p.length;H++){var t=p[H];if(C.indexOf(t)!=-1){alert(a.sportsAlertMessage);break;}}}};a.addEvents=function(){a.sportsdropdown.change(this.autoselectsport);};return a;};SKYSALES.Class.SSRAvailability=function(){var a=new SKYSALES.Class.SkySales(),b=SKYSALES.Util.extendObject(a);b.SsrAvailabilityList=[];b.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();this.initSsrAvailabilityList();};b.initSsrAvailabilityList=function(){var l=0,f=this.SsrAvailabilityList||[],c=f.length,e=null;for(l=0;l<c;l+=1){e=new SKYSALES.Class.SsrAvailabilityPassenger();e.init(f[l]);this.SsrAvailabilityList[l]=e;}};return b;};SKYSALES.Class.SsrAvailabilityPassenger=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.passengerNumber=0;a.flightParts=[];a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();this.initFlightPartsArray();};a.initFlightPartsArray=function(){var e=0,l=this.flightParts||[],c=l.length,f=null;for(e=0;e<c;e+=1){f=new SKYSALES.Class.FlightPart();f.init(l[e]);this.flightParts[e]=f;}};return a;};SKYSALES.Class.FlightPart=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.flightKey=null;a.availableSsrs=[];a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();this.initFlightKey();this.initAvailableSsrsArray();};a.initFlightKey=function(){var c=new SKYSALES.Class.FlightKey();c.init(this.flightKey);this.flightKey=c;};a.initAvailableSsrsArray=function(){var f=0,e=this.availableSsrs||[],c=e.length,l=null;for(f=0;f<c;f+=1){l=new SKYSALES.Class.AvailableSsr();l.init(e[f]);this.availableSsrs[f]=l;}};return a;};SKYSALES.Class.FlightKey=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.arrivalStation="";a.departureDate="";a.departureStation="";a.flightDesignator=null;a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();this.initDepartureDate();this.initFlightDesignator();};a.initDepartureDate=function(){var c=SKYSALES.Class.Date();c.init(this.departureDate);this.departureDate=c;};a.initFlightDesignator=function(){var c=SKYSALES.Class.FlightDesignator();c.init(this.flightDesignator);this.flightDesignator=c;};return a;};SKYSALES.Class.FlightDesignator=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.CarrierCode="";a.FlightNumber="";a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();};return a;};SKYSALES.Class.AvailableSsr=function(){var b=new SKYSALES.Class.SkySales(),a=SKYSALES.Util.extendObject(b);a.price="";a.ssr=null;a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();this.initSSR();};a.initSSR=function(){var c=SKYSALES.Class.SSR();c.init(this.ssr);this.ssr=c;};return a;};SKYSALES.Class.SSR=function(){var a=new SKYSALES.Class.SkySales(),b=SKYSALES.Util.extendObject(a);b.name="";b.ssrCode="";b.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();};return b;};SKYSALES.AddOnsInputDataRequestHandler=function AddOnsInputDataRequestHandler(a,e,f,p,q,m,c){var n=p||false,b={inputParams:JSON.stringify(e),optOutAddOn:n,contactInput:JSON.stringify(f)},a=a+"Ajax-resource.aspx",l=(typeof m)=="number"?m:parseInt(m);$.ajax({url:a,data:b,success:q,timeout:l,error:c});};if(SKYSALES.Class.InsuranceInput===undefined){SKYSALES.Class.InsuranceInput=function(){var c=new SKYSALES.Class.SkySales();var e=SKYSALES.Util.extendObject(c);e.clientId="";e.insuranceAcceptInputId="";e.insuranceAcceptInput=null;e.insuranceAcceptMessage="";e.yesInsuranceInputId="";e.yesInsuranceInput=null;e.submitButtonId="";e.submitButton=null;e.addFriendsButtonId="";e.addFriendsButton=null;e.linkButtonDeclineId="";e.linkButtonDecline=null;e.continueButtonId="";e.continueButton=null;e.validateValueId="";e.confirmCancelNote="";e.noAUSInsuranceInputId="";e.noAUSInsuranceInput=null;e.departCountryCode="";e.AUSNoCheckedAlert="";e.confirmCancelNoteOptOut="";e.insuranceAcceptMessageOptOut="";e.isChangeBooking="";e.isWarrantPayment="";e.waitImgLoadingMessage="";e.travelInsuranceHeaderLabel="";e.linkButtonDeclineInsAUSId="";e.linkButtonDeclineInsAUS=null;e.insuranceDivContainerId="";e.insuranceDivContainer=null;e.insuranceContactInputId="";e.insuranceContactInput=null;e.paxControlDetails=null;e.addOnsContactDetails=null;e.contactDetails={};e.paxTravelAgeArray=[];e.insuranceAddOnsUrl="";e.insuranceFeeCode="";e.adultPreErrorText="";e.adultErrorText="";e.adultAgeLimitText="";e.childErrorPreText="";e.childErrorText="";e.infantErrorPreText="";e.infantErrorText="";e.infantBirthDateFutureErrorPreText="";e.infantBirthDateFutureErrorPostText="";e.duplicateAdultTextPre="";e.duplicateAdultText="";e.insuranceTimedOutMessage="";e.timeOutMilliseconds="1000";e.returnDate="";e.departDate="";var b=null;e.setSettingsByObject=function(l){c.setSettingsByObject.call(this,l);var m="";for(m in l){if(e.hasOwnProperty(m)){e[m]=l[m];}}};e.addEvents=function(){c.addEvents.call(this);if($("#"+e.yesInsuranceInputId).length>0){e.yesInsuranceInput.click(e.clickInsuranceInput);}if($("#"+e.insuranceAcceptInputId).length>0){if(e.departCountryCode=="AU"||e.departCountryCode=="NZ"||e.departCountryCode=="JP"){e.insuranceAcceptInput.click(e.clickYesInsuranceInputAUS);}e.continueButton.click(e.validateContinue);}if($("#"+e.linkButtonDeclineId).length>0){e.linkButtonDecline.click(e.confirmCancelInsuranceHandler);}if($("#"+e.noAUSInsuranceInputId).length>0){e.noAUSInsuranceInput.click(e.clickNoInsuranceInputAUS);e.continueButton.click(e.validateCancel);}if($("#"+e.submitButtonId).length>0){e.submitButton.click(e.submitInsuranceTravelerHandler);}if($("#"+e.addFriendsButtonId).length>0){e.addFriendsButton.click(e.insuranceTriggerHandler);}};e.setVars=function(){c.setVars.call(this);if($("#"+e.insuranceDivContainerId).length>0){e.insuranceDivContainer=$("#"+e.insuranceDivContainerId);}if($("#"+e.linkButtonDeclineInsAUSId).length>0){e.linkButtonDeclineInsAUS=$("#"+e.linkButtonDeclineInsAUSId);}if($("#"+e.insuranceAcceptInputId).length>0){e.insuranceAcceptInput=$("#"+e.insuranceAcceptInputId);}if($("#"+e.yesInsuranceInputId).length>0){e.yesInsuranceInput=$("#"+e.yesInsuranceInputId);}if($("#"+e.submitButtonId).length>0){e.submitButton=$("#"+e.submitButtonId);}if($("#"+e.addFriendsButtonId).length>0){e.addFriendsButton=$("#"+e.addFriendsButtonId);}if($("#"+e.continueButtonId).length>0){e.continueButton=$("#"+e.continueButtonId);}if($("#"+e.linkButtonDeclineId).length>0){e.linkButtonDecline=$("#"+e.linkButtonDeclineId);}if($("#"+e.noAUSInsuranceInputId).length>0){e.noAUSInsuranceInput=$("#"+e.noAUSInsuranceInputId);}if(e.paxControlDetails&&e.paxControlDetails.length>0){var l=e.paxControlDetails.length;for(var p=0;p<l;p++){var n=e.paxControlDetails[p],r=null;var s=n.hasOwnProperty("birthDateMonthId")?$("#"+n["birthDateMonthId"]):null,m=n.hasOwnProperty("birthDateDayId")?$("#"+n["birthDateDayId"]):null,q=n.hasOwnProperty("birthDateYearId")?$("#"+n["birthDateYearId"]):null;r=new SKYSALES.Class.TravelerAge();r.init(s,m,q);e.paxTravelAgeArray[p]=r;}}};e.addEventForInsuranceHandler=function(){if(e.paxControlDetails&&e.paxControlDetails.length>0){var l=e.paxControlDetails.length;for(var n=0;n<l;n++){var m=e.paxControlDetails[n];for(propName in m){if(m.hasOwnProperty(propName)){if(!propName.match(/^contentId$/)){var p=$("#"+m[propName]);if(p&&p.length>0){if(p[0].type&&/select/.test(p[0].type)){p.blur(e.insuranceTriggerHandler);}else{p.change(e.insuranceTriggerHandler);}}}}}}}};e.init=function(l){this.setSettingsByObject(l);this.setVars();this.addEvents();this.addEventForInsuranceHandler();if(this.isChangeBooking=="true"||e.collectPassengerData()){e.insuranceTriggerHandler();}};e.insuranceTriggerHandler=function(){var p=false,m=$("#paxJsonDataFromRequest").val()||"";if(e.isWarrantPayment!="true"){p=e.collectPassengerData();}var l=a(p,m);if(p&&l){p=false;}if(p&&!e.validatePassengers()){p=false;}if(!l&&m){var n=$("#checkBoxInsuranceId");if(n&&n.val()){var q=$("#"+n.val());if(q){q.removeAttr("checked").change();}}}if(p!=false&&p!=null){e.addInsuranceHandler(p);}};e.validateContactDetails=function(){if(e.addOnsContactDetails["contactEmailId"]){var l=$("#"+e.addOnsContactDetails["contactEmailId"]).get(),m=l["regex"]!=undefined?l["regex"]:l.getAttribute("regex");}return false;};e.validatePassengers=function(){var s=null,r=null,m=null;var l=e.paxControlDetails.length;for(var n=0;n<l;n++){var p=e.paxControlDetails[n],q="";if(p.paxType=="INF"||p.paxType=="Infant"){if(s==null){s=n;}if(!e.paxTravelAgeArray[n].isNotFutureDate()){q=(e.infantBirthDateFutureErrorPreText+((n-s)+1)+e.infantBirthDateFutureErrorPostText);}else{if(!e.paxTravelAgeArray[n].isInfant(e.returnDate,null,e.departDate)){q=(e.infantErrorPreText+((n-s)+1)+e.infantErrorText);}}}else{if(p.paxType=="CHD"){if(r==null){r=n;}if(!e.paxTravelAgeArray[n].isNotFutureDate()){q=(e.childErrorPreText+((n-r)+1)+e.infantBirthDateFutureErrorPostText);}else{if(!e.paxTravelAgeArray[n].isChild(e.returnDate,null)){q=(e.childErrorPreText+((n-r)+1)+e.childErrorText);}}}else{if(p.paxType=="ADT"){if(m==null){m=n;}if(!e.paxTravelAgeArray[n].isNotFutureDate()){q=(e.adultPreErrorText+((n-m)+1)+e.infantBirthDateFutureErrorPostText);}else{if(!e.paxTravelAgeArray[n].isAdult(e.departDate,null)){q=(e.adultPreErrorText+((n-m)+1)+e.adultAgeLimitText);}else{if(!e.paxTravelAgeArray[n].isScpAge(e.departDate,null,"150",false)){q=(e.adultPreErrorText+((n-m)+1)+e.adultErrorText);}}}}}}if(q){return false;}}return true;};e.addInsuranceOptInHandler=function(){var l=e.collectPassengerData();e.addInsuranceHandler(l);};e.validateDuplicateTravelCompany=function(m){var p=null;for(var n=0;n<m.length;n+=1){if(m[n].isInfant==1){if(p==null){p=n;}for(var l=n;l<m.length;l+=1){if(m[l].isInfant==1&&l!=n){if(m[n].passengerNumber==m[l].passengerNumber){alert(e.duplicateAdultTextPre+(l-p+1)+e.duplicateAdultText);return false;}}}}}return true;};e.addInsuranceHandler=function(l){if(e.validateDuplicateTravelCompany(l)){if(SKYSALES.AddOnsInputDataRequestHandler){var m=[],n=e.contactDetails;m=l||e.collectPassengerData();if(m!=null||m!=false){SKYSALES.AddOnsInputDataRequestHandler(e.insuranceAddOnsUrl,m,n,null,e.insuranceResponseHandler,e.timeOutMilliseconds,e.insuranceTimedOutHandler);e.insuranceDivContainer.html("<h2>"+e.travelInsuranceHeaderLabel+'</h2><div id="waitImgLoadingAnimation"></div>');}}}};e.collectPassengerData=function(){var m=true,D=[],A={};if(e.paxControlDetails&&e.paxControlDetails.length>0){var y=e.paxControlDetails.length;for(var x=0;x<y;x++){var z=e.paxControlDetails[x],t="",q={};for(t in z){if(z.hasOwnProperty(t)&&m){if(z[t]!==undefined&&!t.match(/^contentId$/)){switch(t){case"imFlyingCheckBoxId":break;case"genderId":var p,B,n=$("#"+z[t]);p=t.replace("Id","");B=n.val();if(B){q[p]=n[0].options[B].text;}else{m=false;}break;case"birthDateDayId":case"birthDateMonthId":case"birthDateYearId":var w=$("#"+z.birthDateDayId).val(),C=$("#"+z.birthDateMonthId).val(),r=$("#"+z.birthDateYearId).val(),E=new Date(C.toString()+"/"+w.toString()+"/"+r.toString());if(!q.hasOwnProperty("dateOfBirth")&&(f(E,w,C,r))){q["dateOfBirth"]=SKYSALES.Util.dateDisplayFormat(C.toString()+"/"+w.toString()+"/"+r.toString(),"yy-mm-dd 00:00:00");}else{if(!f(E,w,C,r)){m=false;}}break;default:var p=t;if(t.indexOf("Id")==(t.length-2)){var s=$("#"+z[t]).val();p=t.replace("Id","");if(s){q[p]=s;}else{m=false;}}else{if(z[t]){q[t]=z[t];}else{m=false;}}break;}}}else{if(!m){return false;}}}D[x]=q;}}else{return false;}if(e.addOnsContactDetails){var v=e.addOnsContactDetails;for(contactPropName in v){if(v.hasOwnProperty(contactPropName)&&m){switch(contactPropName){case"contactFirstNameId":case"contactLastNameId":var l=$("#"+v["contactFirstNameId"]).val(),u=$("#"+v["contactLastNameId"]).val();if(l&&u){A["contactName"]=l+" "+u;}else{m=false;}break;default:var p=contactPropName;if(contactPropName.indexOf("Id")==(contactPropName.length-2)){var s=$("#"+v[contactPropName]).val();p=contactPropName.replace("Id","");if(s){A[p]=s;}else{m=false;}}else{if(v[contactPropName]){A[contactPropName]=v[contactPropName];}else{m=false;}}break;}}else{if(!m){return false;}}}e.contactDetails=A;}else{return false;}if(m){return D;}else{return false;}};e.insuranceTimedOutHandler=function(){e.insuranceDivContainer.html('<div class="vspacerSml"></div><p>'+e.insuranceTimedOutMessage+'</p><div class="vspacerSml"></div><div class="vspacerSml"></div>');};e.insuranceResponseHandler=function(l){e.insuranceDivContainer.html(l);e.insuranceCheckBoxChecked();e.addInsuranceCancelEvent();e.addInsuranceOptOutEvents();e.addInsuranceForAUSCheckBoxEvents();};e.submitInsuranceTravelerHandler=function(){var n=$("#waitImgLoadingAnimation"),m=$("#checkBoxInsuranceId"),p=$("#checkBoxAUSNoInsuranceId");if(n&&n.length>0){alert(e.waitImgLoadingMessage);SKYSALES.RemoveLoadingBar();return false;}else{if((m&&m.val())||(p&&p.val())){var l=$("#"+m.val()),q=$("#"+p.val());if(l.length>0&&!l.is(":checked")){alert(e.insuranceAcceptMessage);SKYSALES.RemoveLoadingBar();return false;}}}return true;};e.insuranceCheckBoxChecked=function(){var l=$("#checkBoxInsuranceId");if(l&&l.val()){var m=$("#"+l.val());if(m){if(!m.is(":checked")){m.attr("checked",true);}}}};e.addInsuranceCancelEvent=function(){var l=$("#insuranceLinkCancelId");if(l&&l.val()){var m=$("#"+l.val());if(m.length>0){m.click(e.cancelInsuranceTravelerHandler);}}};e.addInsuranceOptOutEvents=function(){var m=$("#radioButtonNoInsuranceId"),l=$("#radioButtonYesInsuranceId");if(l&&l.val()){var n=$("#"+l.val());if(n.length>0){n.click(e.addInsuranceOptInHandler);}}};e.addInsuranceForAUSCheckBoxEvents=function(){var l=$("#checkBoxInsuranceId"),m=$("#checkBoxAUSNoInsuranceId");if(l&&m&&l.val()&&m.val()){var p=$("#"+l.val()),n=$("#"+m.val());if(p&&p.is(":checked")){p.trigger("change");}if(p&&n&&p.length>0&&n.length>0){p.click(function(){if($("#"+this.id).is(":checked")){n.attr("checked",false);}});n.click(function(){if($("#"+this.id).is(":checked")){p.attr("checked",false).trigger("change");if(!e.cancelInsuranceTravelerHandler()){p.attr("checked",true).trigger("change");$("#"+this.id).attr("checked",false);}}});}}};e.cancelInsuranceTravelerHandler=function(){if(SKYSALES.AddOnsInputDataRequestHandler){var l=e.collectPassengerData(),p=e.contactDetails;var n=$("#checkBoxInsuranceId").val(),m=$("#"+n);if(e.departCountryCode=="AU"||e.departCountryCode=="NZ"){if(confirm(e.confirmCancelNoteOptOut)){if(m&&m.is(":checked")){m.removeAttr("checked");m.trigger("change");}if(l!=null||l!=false){SKYSALES.AddOnsInputDataRequestHandler(e.insuranceAddOnsUrl,l,p,true,e.insuranceResponseHandler,e.timeOutMilliseconds,e.insuranceTimedOutHandler);e.insuranceDivContainer.html('<div id="waitImgLoadingAnimation"></div>');}}else{return false;}}else{if(confirm(e.confirmCancelNote)){if(m&&m.is(":checked")){m.removeAttr("checked").trigger("change");}if(l!=null||l!=false){SKYSALES.AddOnsInputDataRequestHandler(e.insuranceAddOnsUrl,l,p,true,e.insuranceResponseHandler,e.timeOutMilliseconds,e.insuranceTimedOutHandler);e.insuranceDivContainer.html('<div id="waitImgLoadingAnimation"></div>');}}else{return false;}}}return true;};var a=function(m,n){if(n){var s=JSON.parse(n);if(s&&s.length>0){var t=m.length;for(var q=0;q<t;q++){var p=m[q],u=s[q];if(p&&u){for(propName in p){if(p.hasOwnProperty(propName)&&u.hasOwnProperty(propName)){var l=$.trim(p[propName]),r=$.trim(u[propName]);if(l!=r){return false;}}}}}}else{return false;}}else{return false;}return true;};var f=function(p,l,m,n){if(p.getDate()!=Number(l)){return false;}else{if((p.getMonth()+1)!=Number(m)){return false;}else{if(p.getFullYear()!=Number(n)){return false;}}}return true;};e.confirmCancelInsuranceHandler=function(){if(e.departCountryCode=="AU"||e.departCountryCode=="NZ"||e.departCountryCode=="JP"){if(e.noAUSInsuranceInput.attr("checked")){if(window.confirm(e.confirmCancelNoteOptOut)){SKYSALES.DisplayLoadingBar();__doPostBack("CONTROLGROUPADDONS$InsuranceInputAddOnsView$LinkButtonInsuranceDecline","");}else{e.insuranceAcceptInput.attr("checked",true);e.noAUSInsuranceInput.attr("checked",false);return false;}}}else{if(window.confirm(e.confirmCancelNote)){SKYSALES.DisplayLoadingBar();}else{return false;}}};e.clickInsuranceInput=function(){SKYSALES.DisplayLoadingBar();document.getElementById(e.submitButtonId).click();};e.validateCancel=function(){if(e.departCountryCode=="AU"||e.departCountryCode=="NZ"||e.departCountryCode=="JP"){if(e.noAUSInsuranceInput.attr("checked")){$("#"+e.validateValueId).val("false");$("#"+e.linkButtonDeclineId).click();}}};e.validateContinue=function(){if(e.departCountryCode=="AU"||e.departCountryCode=="NZ"||e.departCountryCode=="JP"){if(e.insuranceAcceptInput.attr("checked")){$("#"+e.validateValueId).val("true");}else{if(e.noAUSInsuranceInput.attr("checked")){}else{$("#"+e.validateValueId).val("false");alert(e.insuranceAcceptMessageOptOut);}}}else{if(e.insuranceAcceptInput.attr("checked")){$("#"+e.validateValueId).val("true");}else{$("#"+e.validateValueId).val("false");alert(e.insuranceAcceptMessage);}}};e.clickYesInsuranceInputAUS=function(){var n=e.insuranceAcceptInput!=null?e.insuranceAcceptInput.attr("checked"):true;var m=e.noAUSInsuranceInput!=null?e.noAUSInsuranceInput.attr("checked"):true;if(n&&m){var l=e.noAUSInsuranceInput==undefined?e.insuranceAcceptInput:e.noAUSInsuranceInput;l.attr("checked",false);}};e.clickNoInsuranceInputAUS=function(){if(e.insuranceAcceptInput.attr("checked")&&e.noAUSInsuranceInput.attr("checked")){e.insuranceAcceptInput.attr("checked",false);}};return e;};SKYSALES.Class.InsuranceInput.createObject=function(a){SKYSALES.Util.createObject("insuranceInput","InsuranceInput",a);};}SKYSALES.fareRuleHandler=function(r,m,e){if($("#CheckBoxAgreementLabel").length>0){$("#CheckBoxAgreementLabel").hide();}if($("#CheckBoxAgreementLabelAK").length>0){$("#CheckBoxAgreementLabelAK").hide();}if($("#CheckBoxAgreementLabelFD").length>0){$("#CheckBoxAgreementLabelFD").hide();}if($("#CheckBoxAgreementLabelQZ").length>0){$("#CheckBoxAgreementLabelQZ").hide();}if($("#CheckBoxAgreementLabelPQ").length>0){$("#CheckBoxAgreementLabelPQ").hide();}if($("#CheckBoxAgreementLabelZ2").length>0){$("#CheckBoxAgreementLabelZ2").hide();}if($("#CheckBoxAgreementLabelJW").length>0){$("#CheckBoxAgreementLabelJW").hide();}if($("#CheckBoxAgreementLabelD7").length>0){$("#CheckBoxAgreementLabelD7").hide();}if($("#CheckBoxAgreementLabelConnecting").length>0){$("#CheckBoxAgreementLabelConnecting").hide();}if($(".CheckBoxAgreementLabelBF").length>0){$(".CheckBoxAgreementLabelBF").hide();}if(r.length>0){var a="|";var c="~";var n="^";var b="";var q="";var p="BF";var l=false;flightInfos=r[0].split(a);if(flightInfos[1].indexOf("^")!=-1){carrierInfos=flightInfos[1].split(n);for(var f=0;f<carrierInfos.length;f++){if(carrierInfos[f].split(c).length>0){if(carrierInfos[f].split(c)[0]==p){l=true;break;}}}carrierKey1=carrierInfos[0].split(c);carrierKey2=carrierInfos[1].split(c);b=carrierKey1[0];q=carrierKey2[0];if(b!=q&&(b=="D7"||q=="D7")){b="Connecting";}}else{flightKeys=flightInfos[1].split(c);b=flightKeys[0];carrierInfos=flightInfos[1].split(n);for(var f=0;f<carrierInfos.length;f++){if(carrierInfos[f]==p){l=true;break;}}}if(l&&$("#CheckBoxAgreementLabel_"+p+"_"+e).length>0){$("#CheckBoxAgreementLabel_"+p+"_"+e).css("display","inline");}else{if(l&&$("#CheckBoxAgreementLabel_"+p+"_default").length>0){$("#CheckBoxAgreementLabel_"+p+"_default").css("display","inline");}else{if($("#CheckBoxAgreementLabel"+b).length>0){$("#CheckBoxAgreementLabel"+b).css("display","inline");}else{if($("#CheckBoxAgreementLabel").length>0){$("#CheckBoxAgreementLabel").css("display","inline");}}}}}else{$("#agreementInput").hide();$("#ControlGroupSelectView_ButtonSubmit").hide();}};SKYSALES.dgrGoodsNotify=function(f,b,a){if($("#DgrGoodNotifyJW").length>0){$("#DgrGoodNotifyJW").hide();}if($("#DgrGoodNotifyJW_Icon").length>0){$("#DgrGoodNotifyJW_Icon").hide();}if(f.length>0){var l="|";var m="~";var c="^";var e="";flightInfos=f[0].split(l);flightKeys=flightInfos[1].split(m);e=flightKeys[0];}if(e=="JW"&&(a=="ja-JP"||a=="en-GB"||a=="en-US")){$("#DgrGoodNotify"+e).css("display","inline");$("#DgrGoodNotifyJW_Icon").css("display","inline");$("#standard_disable-icon").hide();}};SKYSALES.Class.PaxSSRDisplayAtaGlance=function(){var a=new SKYSALES.Class.SkySales();var b=SKYSALES.Util.extendObject(a);b.paxNameDisplayId="";b.ssrListDisplayId="";b.paxNameDisplayObj=null;b.paxNameSpanDisplayObj=null;b.ssrListDisplayObj=null;b.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();};b.setVars=function(){b.paxNameSpanDisplayObj=$("#"+this.paxNameDisplayId+"span");b.paxNameDisplayObj=$("#"+this.paxNameDisplayId);b.ssrListDisplayObj=$("#"+this.ssrListDisplayId);};b.addEvents=function(){b.paxNameDisplayObj.click(this.hideShowSSRListHandler);b.paxNameSpanDisplayObj.click(this.hideShowSSRListHandler);};b.hideShowSSRListHandler=function(){if(b.paxNameDisplayObj.hasClass("expand_iconSml")){b.paxNameDisplayObj.removeClass("expand_iconSml").addClass("collapse_iconSml");}else{b.paxNameDisplayObj.removeClass("collapse_iconSml").addClass("expand_iconSml");}b.ssrListDisplayObj.slideToggle();};return b;};SKYSALES.Class.PaxSSRDisplayAtaGlance.createObject=function(a){SKYSALES.Util.createObject("paxSSRDisplayAtaGlance","PaxSSRDisplayAtaGlance",a);};function populatePassengerForAnonymous(a,e,c,b){if(contactData){contactData.title=$("#"+a+"_DropDownListTitle").val();if(contactData.title==="MR"){contactData.gender="1";}else{if(contactData.title==="MS"){contactData.gender="2";}}contactData.firstName=$("#"+a+"_TextBoxFirstName").val();contactData.middleName=$("#"+a+"_TextBoxMiddleName").val();contactData.lastName=$("#"+a+"_TextBoxLastName").val();contactData.ff="";contactData.bdayDay="";contactData.bdayMonth="";contactData.bdayYear="";contactData.nationality=$("#"+a+"_DropDownListCountry").val();contactData.countryOfResidence="";populatePassenger(e,c,b);}}function populatePassenger(c,m,b){if(contactData){var e=m-1;var a=$("#passengerInputContainer"+e);var p="";if(contactData.firstName!=""){p=contactData.firstName;}else{p=contactData.lastName;}var n=[{"name":"DropDownListTitle","value":contactData.title},{"name":"TextBoxFirstName","value":p},{"name":"TextBoxMiddleName","value":contactData.middleName},{"name":"TextBoxLastName","value":contactData.lastName},{"name":"TextBoxCustomerNumber","value":contactData.ff},{"name":"DropDownListBirthDateDay","value":contactData.bdayDay},{"name":"DropDownListBirthDateMonth","value":contactData.bdayMonth},{"name":"DropDownListBirthDateYear","value":contactData.bdayYear},{"name":"DropDownListGender","value":contactData.gender},{"name":"DropDownListNationality","value":contactData.nationality},{"name":"DropDownListResidentCountry","value":contactData.countryOfResidence},{"name":"TextBoxDocumentNumber0","value":contactData.passportNumber},{"name":"DropDownListDocumentCountry0","value":contactData.passportCountry},{"name":"DropDownListDocumentDateDay0","value":contactData.passportDay},{"name":"DropDownListDocumentDateMonth0","value":contactData.passportMonth},{"name":"DropDownListDocumentDateYear0","value":contactData.passportYear},{"name":"TextBoxDocumentNumber1","value":contactData.idCardNumber},{"name":"DropDownListDocumentCountry1","value":contactData.idCardCountry}];}if($("#"+c.id+":checked").val()==null&&b!="False"){$.map(n,function(r){if(r){$("input[id*="+r.name+"]",a).val("");if(r.name=="TextBoxFirstName"||r.name=="TextBoxLastName"){$("input[id*="+r.name+"]").trigger("change");}if(r.name=="DropDownListNationality"||r.name=="DropDownListBirthDateDay"||r.name=="DropDownListBirthDateMonth"||r.name=="DropDownListBirthDateYear"){$("select[id*="+r.name+"]").val("");}if(r.name=="DropDownListTitle"){$("select[id*="+r.name+"]")[1].selectedIndex=0;}}});}else{if(b!="False"){$.map(n,function(r){if(r.name.indexOf("TextBox")>=0){$("input[id*="+r.name+"]",a).val(r.value);}else{$("input[id*="+r.name+"]",a).val(r.value);$("select[id*="+r.name+"]",a).val(r.value);}if(r.name=="TextBoxFirstName"||r.name=="TextBoxLastName"){$("input[id*="+r.name+"]").trigger("change");}});}else{if($("#"+c.id+":checked").val()==null&&b=="False"){$.map(n,function(r){if(r){if((r.name!="TextBoxFirstName")&&(r.name!="TextBoxLastName")){$("input[id*="+r.name+"]",a).val("");}}});}else{if(b=="False"){$.map(n,function(r){if(r){if((r.name!="TextBoxFirstName")&&(r.name!="TextBoxLastName")){if(r.name.indexOf("TextBox")>=0){$("input[id*="+r.name+"]",a).val(r.value);}else{$("input[id*="+r.name+"]",a).val(r.value);$("select[id*="+r.name+"]",a).val(r.value);}}}});}}}}SKYSALES.validateNationality(null,false,true,true);if($.browser.msie||/chrome/.test(navigator.userAgent.toLowerCase())){var q=$("select[id*=DropDownListBirthDateYear]");if(q&&q.length>0){var f=q.length-1;var l=$("select[id*=DropDownListBirthDateYear_"+f+"]");if(l&&l.length>0){l.trigger("blur");}}}}if(!SKYSALES.Class.ControlGroupBookingRetrieve){SKYSALES.Class.ControlGroupBookingRetrieve=function(){var b=new SKYSALES.Class.ControlGroup();var a=SKYSALES.Util.extendObject(b);a.bookingRetrieve=null;a.init=function(c){this.setSettingsByObject(c);var e=new SKYSALES.Class.BookingRetrieve();e.init(c);a.bookingRetrieve=e;this.setVars();this.addEvents();};a.validateHandler=function(){var c=a.validate();return c;};a.validate=function(){var e=false;var c=this.bookingRetrieve;e=c.isOneSectionPopulated();if(e){e=b.validate.call(this);}return e;};return a;};}if(!SKYSALES.Class.BookingRetrieve){SKYSALES.Class.BookingRetrieve=function(){var b=new SKYSALES.Class.FlightSearch();var a=SKYSALES.Util.extendObject(b);a.optionHeaderText=[];a.marketArray=[];a.missingInformation="";a.sectionValidation={};a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();};a.setVars=function(){b.setVars.call(this);var f=0;var c=0;var m=this.sectionValidation;var e=[];var n="";var l=null;for(n in m){if(m.hasOwnProperty(n)){e=m[n]||[];c=e.length;for(f=0;f<c;f+=1){l=e[f];l.input=this.getById(l.id);}}}};a.isOneSectionPopulated=function(){var m=0;var n=0;var t=this.sectionValidation;var q=[];var c="";var p=null;var r=null;var f=false;var s="";var l="";var e=true;for(c in t){if(t.hasOwnProperty(c)){q=t[c]||[];n=q.length;e=true;for(m=0;m<n;m+=1){p=q[m];r=p.input.get(0);if(r){s=r.value;l=s.requiredempty||"";if(s===l){s="";}if(!s){e=false;break;}}}if(e){f=true;break;}}}if(!f){alert(this.missingInformation);SKYSALES.RemoveLoadingBar();}return f;};return a;};}SKYSALES.Class.MCCInput=function(){var a=SKYSALES.Class.SkySales(),e=SKYSALES.Util.extendObject(a),b=SKYSALES.Util.getResource();e.clientId="";e.contentId="";e.bookingCurrencyCode="";e.externalRateId="";e.defaultCurrencyValue="";e.dropDownListCurrencyId="";e.dropDownListCurrency=null;e.dropDownOrigin=null;e.currencyArray=[];e.externalRateInfo=b.externalRateInfo;e.currencyHash=b.currencyHash;e.stationHash=SKYSALES.Util.getResource().stationHash;e.applyMCCBtnId="";e.applyMCCButton=null;e.setVars=function(){e.dropDownListCurrency=this.getById(this.dropDownListCurrencyId);if(this.contentId){e.dropDownOrigin=$("#"+this.contentId+" :input[id*=TextBoxMarketOrigin1]");}else{e.dropDownOrigin=$("input[id*=TextBoxMarketOrigin1]");}if(e.applyMCCBtnId!=""){e.applyMCCButton=$("#"+e.applyMCCBtnId);if(e.applyMCCButton){e.applyMCCButton.attr("onclick","SKYSALES.DisplayLoadingBar()");}}};e.updateCurrencyHandler=function(){e.updateCurrency();};e.populateCurrency=function(){this.updateCurrency();};e.updateCurrency=function(){var p=this.externalRateInfo.ExternalRateList,x="",l="",t=[],y=null,s=null,m=null,u={},w="",v="",n=0,r={};if(this.externalRateInfo.ExternalRateList){p=this.externalRateInfo.ExternalRateList.sort(function(A,z){return A.collectedCurrency>z.collectedCurrency?1:-1;});}if(this.dropDownOrigin.length>0){v=this.dropDownOrigin.val();r=this.stationHash[v];}else{v=$("#MCCOriginCountry").val();r.countryCode=v;}if(v!==""&&v!==undefined){var q=this.currencyArray;for(n in q){if(q[n].countryCode===r.countryCode){s=this.currencyHash[q[n].currencyCode];if(s){w=s.name+" ("+q[n].currencyCode+")";}else{w=q[n].currencyCode;}u={"code":this.defaultCurrencyValue,"name":w};t[t.length]=u;for(x in p){if(p.hasOwnProperty(x)){y=p[x];if(y.quotedCurrency===q[n].currencyCode){s=this.currencyHash[y.collectedCurrency];if(s){y.name=s.name+" ("+s.code+")";}else{y.name=y.collectedCurrency;}t[t.length]=y;}}}break;}}if(!c(this.externalRateId,t)||!this.externalRateId||this.externalRateId==="null"){l="default";}else{l=this.externalRateId;}var f={"objectArray":t,"selectBox":this.dropDownListCurrency,"selectedItem":l,"showCode":false};SKYSALES.Util.populateSelect(f);}};var c=function(l,f){if(l&&l!==null){for(objectIndex in f){if(f[objectIndex].code==l){return true;}}}return false;};e.addEvents=function(){this.dropDownOrigin.change(this.updateCurrencyHandler);};e.init=function(f){this.setSettingsByObject(f);this.setVars();this.addEvents();this.populateCurrency();};return e;};if(!SKYSALES.Class.MCCSearchInput){SKYSALES.Class.MCCSearchInput=function(){var b=new SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.clientId="";a.contentId="";a.currencyArray=[];a.currencyInfoArray=[];a.MCCArray=[];a.dropDownCurrencyId="";a.selectedMCC="";a.resetPaymentsText="";a.hasUncommittedPayment="";a.applyButtonId="";a.dropDownOrigin=null;a.dropDownCurrency=null;a.applyButton=null;a.stationHash=SKYSALES.Util.getResource().stationHash;a.setVars=function(){b.setVars.call(this);a.dropDownOrigin=$("#"+this.contentId+" :input[id=TextBoxMarketOrigin1]");a.dropDownCurrency=$("#"+this.dropDownCurrencyId);a.applyButton=$("#"+this.applyButtonId)||{};};a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();this.initializeCurrency();};a.addEvents=function(){this.dropDownOrigin.change(this.updateCurrencyHandler);this.applyButton.click(this.applyCurrencyHandler);};a.initializeCurrency=function(){this.updateCurrency();};a.getCurrencyDescription=function(e){var c=0;for(c in this.currencyInfoArray){if(this.currencyInfoArray[c].currencyCode===e){return this.currencyInfoArray[c].description;}}};a.applyCurrencyHandler=function(){a.applyCurrency();};a.applyCurrency=function(){if(this.hasUncommittedPayment==="true"){return confirm(this.resetPaymentsText);}};a.updateCurrencyHandler=function(){a.updateCurrency();};a.updateCurrency=function(){var f="",p=0;var e={};if(this.dropDownOrigin.length>0){f=this.dropDownOrigin.val();e=this.stationHash[f];}else{f=$("#MCCOriginCountry").val();e.countryCode=f;}if(f!==""&&f!==undefined){var l=this.currencyArray,c=0;var m=[];for(p in l){if(l[p].countryCode===e.countryCode){var n={};n.name=this.getCurrencyDescription(l[p].currencyCode);n.code=l[p].currencyCode;m.push(n);if(this.MCCArray&&this.MCCArray.length>0){for(c in this.MCCArray){if(this.MCCArray[c].buy===l[p].currencyCode){n={};n.name=this.getCurrencyDescription(this.MCCArray[c].sell);n.code=this.MCCArray[c].sell;m.push(n);}}}selectParamObj={"selectBox":this.dropDownCurrency,"objectArray":m,"showCode":true};SKYSALES.Util.populateSelect(selectParamObj);if(this.selectedMCC!==""){this.dropDownCurrency.val(this.selectedMCC);}else{this.dropDownCurrency.val(l[p].currencyCode);}break;}}if(m.length===0){selectParamObj={"selectBox":this.dropDownCurrency,"objectArray":[],"showCode":true};SKYSALES.Util.populateSelect(selectParamObj);}}};return a;};SKYSALES.Class.MCCSearchInput.createObject=function(a){SKYSALES.Util.createObject("mCCSearchInput","MCCSearchInput",a);};}if(!SKYSALES.Class.AdvancedBookingListSearchInput){SKYSALES.Class.AdvancedBookingListSearchInput=function(){var b=new SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.HyperLinkIdArray={};a.ReportLinkHash={};a.AttachPromptText="";a.ReportPromptText="";a.init=function(c){this.setSettingsByObject(c);this.setVars();this.addEvents();};a.setVars=function(){b.setVars.call(this);};a.addEvents=function(){var c="";for(c in this.HyperLinkIdArray){if(this.HyperLinkIdArray.hasOwnProperty(c)){if(this.HyperLinkIdArray[c].hasOwnProperty("attachId")){$("#"+this.HyperLinkIdArray[c].attachId).click(this.ShowAttachPrompterHandler);}if(this.HyperLinkIdArray[c].hasOwnProperty("reportId")){$("#"+this.HyperLinkIdArray[c].reportId).click(this.ShowReportPrompterHandler);this.ReportLinkHash[this.HyperLinkIdArray[c].reportId]=this.HyperLinkIdArray[c].reportLink;}}}};a.ShowAttachPrompterHandler=function(){return a.ShowPrompter(a.AttachPromptText)?SKYSALES.DisplayLoadingBar():false;};a.ShowReportPrompterHandler=function(){return a.ShowPrompter(a.ReportPromptText,this.id);};a.ShowPrompter=function(e,f){var c=this.ReportLinkHash[f]||"";if(confirm(e)){if(c!==""){window.open(c,"FeedbackURL","height=600,width=720,status=yes,toolbar=no,menubar=no,location=no");}else{return true;}}SKYSALES.RemoveLoadingBar();return false;};return a;};SKYSALES.Class.AdvancedBookingListSearchInput.createObject=function(a){SKYSALES.Util.createObject("advancedBookingListSearchInput","AdvancedBookingListSearchInput",a);};}SKYSALES.Util.itineraryDisable=function(b){$("div[class^='target']").hide();$("table[class^='target']").hide();if(b!=0){if($("#span"+b).attr("selected")){$("#span"+b).removeAttr("selected").removeAttr("class").addClass("arrow-double-down arrow-btn");return;}$("div[class='target"+b+"']").show();$("table[class='target"+b+"']").show();for(var e=1;e<=$("span[id^='span']").length;e++){if(document.getElementById("span"+e)){$("#span"+e).removeAttr("selected").removeAttr("class").addClass("arrow-double-down arrow-btn");}}for(var c=1;c<=$("span[id^='spanINF']").length;c++){if(document.getElementById("spanINF"+c)){$("#spanINF"+c).removeAttr("selected").removeAttr("class").addClass("arrow-double-down arrow-btn");}}$("#span"+b).removeAttr("class").addClass("arrow-double-up arrow-btn").attr("selected","true");}};SKYSALES.Util.itineraryDisableINF=function(b){$("div[class^='target']").hide();$("table[class^='target']").hide();if(b!=0){if($("#spanINF"+b).attr("selected")){$("#spanINF"+b).removeAttr("selected").removeAttr("class").addClass("arrow-double-down arrow-btn");return;}$("div[class='targetINF"+b+"']").show();for(var e=1;e<=$("span[id^='span']").length;e++){if(document.getElementById("span"+e)){$("#span"+e).removeAttr("selected").removeAttr("class").addClass("arrow-double-down arrow-btn");}}for(var c=1;c<=$("span[id^='spanINF']").length;c++){if(document.getElementById("spanINF"+c)){$("#spanINF"+c).removeAttr("selected").removeAttr("class").addClass("arrow-double-down arrow-btn");}}$("#spanINF"+b).removeAttr("class").addClass("arrow-double-up arrow-btn").attr("selected","true");}};SKYSALES.Util.searchToggle=function(b){if(b=="up"){$("div[class^='ucSearchForm-ButtonItem']").hide(400);$("#SearchToggle").hide(400);$("#ShowSearch").show();$("#HideSearch").hide();}else{$("div[class^='ucSearchForm-ButtonItem']").show(400);$("#SearchToggle").show(400);$("#ShowSearch").hide();$("#HideSearch").show();}};SKYSALES.Util.flightDisplayToggle=function(a){if($("#HideFlight_"+a).attr("effect")=="up"){$("#hideSearchArrow_"+a).removeClass("flight-display-arrow-up").addClass("flight-display-arrow-down");$("#HideFlight_"+a).attr("effect","down");$("div[class^='flightDisplay_"+a+"']").slideUp("500");}else{$("#hideSearchArrow_"+a).removeClass("flight-display-arrow-down").addClass("flight-display-arrow-up");$("#HideFlight_"+a).attr("effect","up");$("div[class^='flightDisplay_"+a+"']").slideDown("500");}};SKYSALES.Util.islandDisplayToggle=function(a){if($("#islandTransferShowLink"+a).attr("effect")=="up"){$("#islandTransferArrow_"+a).removeClass("island-display-arrow-up").addClass("island-display-arrow-down");$("#islandTransferShowLink"+a).attr("effect","down");$("div[id^='transferSegments"+a+"']").slideUp("500");}else{$("#islandTransferArrow_"+a).removeClass("island-display-arrow-down").addClass("island-display-arrow-up");$("#islandTransferShowLink"+a).attr("effect","up");$("div[id^='transferSegments"+a+"']").slideDown("500");}};SKYSALES.Util.isDateValid=function(f,a,c,e){var b=false;if(f&&f.toString().toLowerCase()!="invalid date"){a=a?a:f.getDate();c=c?c:f.getMonth()+1;e=e?e:f.getFullYear();if(f.getDate()!=Number(a)){b=false;}else{if((f.getMonth()+1)!=Number(c)){b=false;}else{if(f.getFullYear()!=Number(e)){b=false;}else{b=true;}}}}else{b=false;}return b;};SKYSALES.Util.updatePriceDisplay=function(ag){var s=$(ag).attr("ssr-data"),X=$(ag).attr("journey-pax-index"),A=$(ag).attr("price-display"),an=$(ag).attr("ssr-label"),P=$(ag).attr("flight-ref");var C=function(ay){if(isNaN(ay.charAt(0))){J=ay.charAt(0);ay=ay.replace(J,"");u=true;}return ay.replace(/,/g,"");};var e=function(az){az=az.split(".");wholeNumber=az[0];decimalNumber="";if(az.length>1){decimalNumber=az.length>1?az[1]+"00":"0000";var aB=decimalNumber.substr(0,2);var aA=decimalNumber.substr(2,decimalNumber.length);decimalNumber=String(Math.round(aB+"."+aA));decimalNumber=decimalNumber.length>1?"."+decimalNumber:".0"+decimalNumber;}var ay=/(\d+)(\d{3})/;while(ay.test(wholeNumber)){wholeNumber=wholeNumber.replace(ay,"$1"+","+"$2");}return wholeNumber+decimalNumber;};ag=$(ag);var Q="",n="",aa="",ah="",t=X.split("_"),r=t[0],v=t[1];if(ag.attr("name").indexOf("meal")!=-1){Q=s.split(",")[0];aa=s.split(" ")[0];n=an;}else{if(ag.attr("name").indexOf("comfort")!=-1){Q=s.split(",")[0];aa=s.split(" ")[0];n=an;}else{if(ag.is("select")){Q=ag.val();aa=Q.split("_").length>1?Q.split("_")[4]:Q;ah=ag.find(":selected");n=an?an+" "+ah.text():ah.text();}else{if(ag.is(":checkbox")||ag.is(":radio")){ag.attr("disabled",true);Q=ag.attr("name");aa=s.split(" ")[0];n=an;}}}}var ap=function(aB,aC,ay,aA,az){if(aC){aB.text(ay+e(aA)+" "+az);}else{aB.text(e(aA)+" "+az);}};var O=function(aC,aD,ay,aB,az){var aE='<span id="prevControl_'+aB+"_"+az+'" class="right-text bold black2" style="display:none"></span>',aF='<span id="prevSelected_'+aB+"_"+az+'" class="right-text bold black2" style="display:none"></span>',aA='<span id="'+aB+"PrevControlId_"+az+'" class="right-text bold black2" style="display:none"></span>';if(aC==""&&ay=="1"){aD.append(aE+aF+aA);}else{if(aC==""&&ay=="2"){b.append(aE+aF+aA);}}};var ae=s.split("|"),G=0,R=1,aw=2,E=$('div[id="ssrPrice_'+r+'"]'),ai=$('div[id="ssrCharges"]').length>0?$('div[id="ssrCharges"]'):$('div[id="ssrCharges_'+r+'"]'),W=$('span[id="'+A+"Label_"+r+'"]'),q=$('div[id="'+A+"_"+m+"_"+r+'"]'),l="",c=parseFloat(C(q.text())),K=$("#totalJourneyPrice_"+r),x=$('span[id="overallTotal"]'),am="",m="",p=0,F="",at=parseFloat(C($("#totalJourneyPrice_"+r).text())),al=parseFloat(C($("#overallTotal").text())),Y=$('span[id="'+A+"PrevAmount_"+X+P+'"]').text(),w="",ao=$('span[id="'+A+"PrevControlId_"+X+'"]').text(),N="",f=$('div[id="totalFeePrice_'+r+'"]'),b=$('div[id="totalPrice_'+r+'"]'),ak=false,u=false,J="";if(isNaN($("#totalJourneyPrice_"+r).text().charAt(0))||isNaN($("#overallTotal").text().charAt(0))){u=true;J=$("#totalJourneyPrice_"+r).text().charAt(0);}if(Y==""&&r=="1"){f.append('<span id="'+A+"PrevAmount_"+X+P+'" class="right-text bold black2" style="display:none">0.00</span>');}else{if(Y==""&&r=="2"){b.append('<span id="'+A+"PrevAmount_"+X+P+'" class="right-text bold black2" style="display:none">0.00</span>');}}var I=ae.length;for(var aj=0;aj<I;aj++){ae[aj]=ae[aj].split(" ");ak=ae[aj][R].indexOf(".")!=-1?true:false;m=ae[aj][G];am=ae[aj][aw];p=parseFloat(C(ae[aj][R]));F=ak?parseFloat(C(ae[aj][R])).toFixed(2):parseFloat(C(ae[aj][R]));Y=parseFloat(C($("#"+A+"PrevAmount_"+X+P).text()));ao=$("#"+A+"PrevControlId_"+X).text();l=$('div[id="'+A+"_"+m+"_"+r+'"]');if(aa==ae[aj][G]){W=$('span[id="'+A+"Label_"+m+"_"+r+'"]');q=$('span[id="'+A+"_"+m+"_"+r+'"]');c=q.length>0?parseFloat(C(q.text().split(" ")[0])):parseFloat($('div[id="'+A+"_"+m+"_"+r+'"]').find('span[id="'+A+"_"+m+"_"+r+'"]').text().split(" ")[0]);if(ag.attr("name").indexOf("meal")!=-1){var aq=0,ax=0,Z=$('input[id*=Meal][premium-meal-price="0"][flight-ref="'+P+'"][pax-index="'+v+'"]').length>0?$('input[premium-meal-price="0"][flight-ref="'+P+'"][pax-index="'+v+'"]'):"",z=0,M=0,ar=0,D=$("#complimentaryMealAmount_"+X),T=$('span[id="'+A+"PrevMealTotal_"+r+'"]').text();if(T==""&&r=="1"){f.append('<span id="'+A+"PrevMealTotal_"+r+'" class="right-text bold black2" style="display:none">0.00</span>');}else{if(T==""&&r=="2"){b.append('<span id="'+A+"PrevMealTotal_"+r+'" class="right-text bold black2" style="display:none">0.00</span>');}}T=parseFloat(C($("#"+A+"PrevMealTotal_"+r).text()));M=$(Z).val()>0&&$(Z).attr("data-price")?($(Z).attr("data-price").split(" ")[0]):0;M=parseFloat(C(M.toString()));$.each($('input[id*=Meal][class=ucmealpanel-item-sf-count-input][value!="0"][flight-ref="'+P+'"][pax-index="'+v+'"]'),function(){var ay=$(this).attr("rel");var az=$(this).attr("pax-index");if(p>M&&ag.val()>0){ar=M;ar=parseFloat(ar);D=$(this).attr("meal-code");M=p;$('input[id*=Meal][class=ucmealpanel-item-sf-count-input][flight-ref="'+P+'"][pax-index="'+v+'"][premium-meal-price="0"]').removeAttr("premium-meal-price");ag.attr("premium-meal-price","0");}else{if(p>M&&ag.val()==0){D=$(this).attr("meal-code");z=$(this).val()>0?-(parseFloat($(this).attr("data-price").split(" ")[0])):p;$('input[id*=Meal][class=ucmealpanel-item-sf-count-input][flight-ref="'+P+'"][pax-index="'+v+'"][premium-meal-price="0"]').removeAttr("premium-meal-price");$(this).attr("premium-meal-price","0");}else{if(ag.val()==0){z=-(parseFloat(p));}}}});if($('input[id*=Meal][class=ucmealpanel-item-sf-count-input][value!="0"][flight-ref="'+P+'"][pax-index="'+v+'"]').length==0&&$(Z).val()==0){$(Z).removeAttr("premium-meal-price");}$.each($('input[id*=Meal][class=ucmealpanel-item-sf-count-input][value!=0][id*="'+m+'"]'),function(){var ay=$(this).attr("flight-ref");if(ay==P&&$(this).attr("pax-index")==v){if($(this).attr("premium-meal-price")&&$(this).val()>1){aq=aq+((p*$(this).val())-parseFloat($(this).attr("data-price").split(" ")[0]));}else{if($(this).attr("premium-meal-price")&&$(this).val()==1){aq+=parseFloat($(this).attr("premium-meal-price"));}else{aq+=(p*$(this).val());}}}else{if($(this).attr("rel")==r&&typeof($(this).attr("meal-code"))=="undefined"){aq+=(p*$(this).val());}}});var L=ag.val();var ab=aq;O(w,f,r,A,X);if(l.length>0){ab=ak?parseFloat(ab).toFixed(2):ab;ap($('span[id="'+A+"Amount"+"_"+m+"_"+r+'"]'),u,J,ab.toString(),am);$.each($("span[id*=mealSsrPriceAmount]"),function(){var ay=($(this).attr("id")).split("_")[2],az=0,aA=$('input[id*=Meal][premium-meal-price="0"][flight-ref="'+P+'"][pax-index="'+v+'"]').attr("meal-code");if(Z.length>0&&typeof(ag.attr("premium-meal-price"))=="undefined"&&ag.val()<=1){az=0;}else{if(aA&&aA!=$(this).attr("id").split("_")[1]){az=0;}else{az=$(this).is(":visible")&&ay==r?parseFloat(C($(this).text().replace(" "+am,""))):0;}}ax=parseFloat(ax)+parseFloat(az);});$("#"+A+"PrevMealTotal_"+r).text(e(ax.toString()));if(ax<T&&T>0){if(z!=0){$('span[id="mealSsrPriceAmount_'+D+"_"+r+'"]').text(ab+" "+am);}N=ar>0?at-(T-ax)+ar:at-(T-ax);al=ar>0?al-(T-ax)-ar:al-(T-ax);c=T>=0!=""&&ab>T?c-T+ab:c-T;}else{if(z!=0){N=at+z;al=al+z;$('span[id="mealSsrPriceAmount_'+D+"_"+r+'"]').text(ab+" "+am);}else{N=ar>0?at+(ax-T)+ar:at+(ax-T);al=ar>0?al+(ax-T)+ar:al+(ax-T);if(ar){$('span[id="mealSsrPriceAmount_'+D+"_"+r+'"]').text(parseFloat(ar).toFixed(2)+" "+am);}}}var af=$('input[type=text][id*="'+m+'"][value!=0][rel="'+r+'"] ');if(ab<=0&&ag.val()<=0&&af.length==0){$('div[id="'+A+"_"+m+"_"+r+'"]').remove();}}else{N=ar>0?ar+at:ab+at;al=ar>0?al+ar:al+ab;ai.removeAttr("style");ab=ak?parseFloat(ab).toFixed(2):ab;if(u){E.append('<div id="'+A+"_"+m+"_"+r+'" class="row1"><span id="'+A+"Amount"+"_"+m+"_"+r+'" class="right-text black2">'+J+e(ab.toString())+" "+am+'</span> <span id="'+A+"Label_"+m+"_"+r+'" class="left-text black2">'+n+"</span> </div>");}else{E.append('<div id="'+A+"_"+m+"_"+r+'" class="row1"><span id="'+A+"Amount"+"_"+m+"_"+r+'" class="right-text black2">'+e(ab.toString())+" "+am+'</span> <span id="'+A+"Label_"+m+"_"+r+'" class="left-text black2">'+n+"</span> </div>");}$.each($("span[id*=mealSsrPriceAmount]"),function(){var ay=($(this).attr("id")).split("_")[2];var az=$(this).is(":visible")&&ay==r?parseFloat(C($(this).text().replace(" "+am,""))):0;ax=parseFloat(ax)+parseFloat(az);});if(ar>0){$.each($('input[id*=Meal][value!="0"][flight-ref="'+P+'"][pax-index="'+v+'"]'),function(){if(!($(this).attr("premium-meal-price"))){D=$(this).attr("meal-code");if(D){$('span[id="mealSsrPriceAmount_'+D+"_"+r+'"]').text(parseFloat(ar).toFixed(2)+" "+am);}}});}$("#"+A+"PrevMealTotal_"+r).text(e(ax.toString()));}}else{if(ag.attr("name").indexOf("comfort")!=-1){var aq=0,ax=0,Z=$('input[id*=ComfortKit][premium-meal-price="0"][flight-ref="'+P+'"][pax-index="'+v+'"]').length>0?$('input[id*=ComfortKit][premium-meal-price="0"][flight-ref="'+P+'"][pax-index="'+v+'"]'):"",z=0,M=0,ar=0,D=$("#complimentaryMealAmount_"+X),T=$('span[id="'+A+"PrevMealTotal_"+r+'"]').text();if(T==""&&r=="1"){f.append('<span id="'+A+"PrevMealTotal_"+r+'" class="right-text bold black2" style="display:none">0.00</span>');}else{if(T==""&&r=="2"){b.append('<span id="'+A+"PrevMealTotal_"+r+'" class="right-text bold black2" style="display:none">0.00</span>');}}T=parseFloat(C($("#"+A+"PrevMealTotal_"+r).text()));M=$(Z).val()>0&&$(Z).attr("data-price")?($(Z).attr("data-price").split(" ")[0]):0;M=parseFloat(C(M.toString()));$.each($('input[id*=ComfortKit][class=uccomfortkitpanel-item-sf-count-input][value!="0"][flight-ref="'+P+'"][pax-index="'+v+'"]'),function(){var ay=$(this).attr("rel");var az=$(this).attr("pax-index");if(p>M&&ag.val()>0){ar=M;ar=parseFloat(ar);D=$(this).attr("meal-code");M=p;$('input[id*=ComfortKit][class=uccomfortkitpanel-item-sf-count-input][flight-ref="'+P+'"][pax-index="'+v+'"][premium-meal-price="0"]').removeAttr("premium-meal-price");ag.attr("premium-meal-price","0");}else{if(p>M&&ag.val()==0){D=$(this).attr("meal-code");z=$(this).val()>0?-(parseFloat($(this).attr("data-price").split(" ")[0])):p;$('input[id*=ComfortKit][class=uccomfortkitpanel-item-sf-count-input][flight-ref="'+P+'"][pax-index="'+v+'"][premium-meal-price="0"]').removeAttr("premium-meal-price");$(this).attr("premium-meal-price","0");}else{if(ag.val()==0){z=-(parseFloat(p));}}}});if($('input[id*=ComfortKit][class=uccomfortkitpanel-item-sf-count-input][value!="0"][flight-ref="'+P+'"][pax-index="'+v+'"]').length==0&&$(Z).val()==0){$(Z).removeAttr("premium-meal-price");}$.each($('input[id*=ComfortKit][class=uccomfortkitpanel-item-sf-count-input][value!="0"][id*="'+m+'"]'),function(){var az=$(this).attr("flight-ref");var ay=$(this).attr("ssr-data").split(" ")[1].replace(",","");if(az==P&&$(this).attr("pax-index")==v){if($(this).attr("premium-meal-price")&&$(this).val()>1){aq=aq+((ay*$(this).val())-parseFloat($(this).attr("data-price").split(" ")[0]));}else{if($(this).attr("premium-meal-price")&&$(this).val()==1){aq+=parseFloat($(this).attr("premium-meal-price"));}else{aq+=(ay*$(this).val());}}}else{if($(this).attr("rel")==r&&typeof($(this).attr("meal-code"))=="undefined"){aq+=(ay*$(this).val());}}});var L=ag.val();var ab=aq;O(w,f,r,A,X);if(l.length>0){ab=ak?parseFloat(ab).toFixed(2):ab;ap($('span[id="'+A+"Amount"+"_"+m+"_"+r+'"]'),u,J,ab.toString(),am);$.each($("span[id*=mealSsrPriceAmount]"),function(){var ay=($(this).attr("id")).split("_")[2],az=0,aA=$('input[id*=ComfortKit][premium-meal-price="0"][flight-ref="'+P+'"][pax-index="'+v+'"]').attr("meal-code");if(Z.length>0&&typeof(ag.attr("premium-meal-price"))=="undefined"&&ag.val()<=1){az=0;}else{if(aA&&aA!=$(this).attr("id").split("_")[1]){az=0;}else{az=$(this).is(":visible")&&ay==r?parseFloat(C($(this).text().replace(" "+am,""))):0;}}ax=parseFloat(ax)+parseFloat(az);});$("#"+A+"PrevMealTotal_"+r).text(e(ax.toString()));if(ax<T&&T>0){if(z!=0){$('span[id="mealSsrPriceAmount_'+D+"_"+r+'"]').text(ab+" "+am);}N=ar>0?at-(T-ax)+ar:at-(T-ax);al=ar>0?al-(T-ax)-ar:al-(T-ax);c=T>=0!=""&&ab>T?c-T+ab:c-T;}else{if(z!=0){N=at+z;al=al+z;$('span[id="mealSsrPriceAmount_'+D+"_"+r+'"]').text(ab+" "+am);}else{N=ar>0?at+(ax-T)+ar:at+(ax-T);al=ar>0?al+(ax-T)+ar:al+(ax-T);if(ar){$('span[id="mealSsrPriceAmount_'+D+"_"+r+'"]').text(parseFloat(ar).toFixed(2)+" "+am);}}}var af=$('input[id*=ComfortKit][type=text][id*="'+m+'"][value!="0"][rel="'+r+'"] ');if(ab<=0&&ag.val()<=0&&af.length==0){$('div[id="'+A+"_"+m+"_"+r+'"]').remove();}}else{N=ar>0?ar+at:ab+at;al=ar>0?al+ar:al+ab;ai.removeAttr("style");ab=ak?parseFloat(ab).toFixed(2):ab;if(u){E.append('<div id="'+A+"_"+m+"_"+r+'" class="row1"><span id="'+A+"Amount"+"_"+m+"_"+r+'" class="right-text black2">'+J+e(ab.toString())+" "+am+'</span> <span id="'+A+"Label_"+m+"_"+r+'" class="left-text black2">'+n+"</span> </div>");}else{E.append('<div id="'+A+"_"+m+"_"+r+'" class="row1"><span id="'+A+"Amount"+"_"+m+"_"+r+'" class="right-text black2">'+e(ab.toString())+" "+am+'</span> <span id="'+A+"Label_"+m+"_"+r+'" class="left-text black2">'+n+"</span> </div>");}$.each($("span[id*=mealSsrPriceAmount]"),function(){var ay=($(this).attr("id")).split("_")[2];var az=$(this).is(":visible")&&ay==r?parseFloat(C($(this).text().replace(" "+am,""))):0;ax=parseFloat(ax)+parseFloat(az);});if(ar>0){$.each($('input[id*=ComfortKit][value!=0][flight-ref="'+P+'"][pax-index="'+v+'"]'),function(){if(!($(this).attr("premium-meal-price"))){D=$(this).attr("meal-code");if(D){$('span[id="mealSsrPriceAmount_'+D+"_"+r+'"]').text(parseFloat(ar).toFixed(2)+" "+am);}}});}$("#"+A+"PrevMealTotal_"+r).text(e(ax.toString()));}}else{if(ag.is("select")){w=$("#prevControl_"+A+"_"+X).text();prevSelected=$("#prevSelected_"+A+"_"+X).text();var B=ak?e(F.toString())+" "+am:e(F.toString())+" "+am;n=n.replace(B,"");n=n.replace("(","");n=n.replace(")","");var U=$('span[id="'+A+"_"+m+"_"+r+'"]');O(w,f,r,A,X);var y="";var av=$(ag).attr("id").split("_");if(av.length>3&&av[3].indexOf("WheelchairInputView")>=0){y=av[3].substring(av[3].indexOf("WheelchairInputView"),av[3].indexOf("WheelchairInputView")+"WheelchairInputView".length);OKUTextBox=$("[id$=TextBoxOKUNumber_"+av[5]+"]");if(OKUTextBox&&OKUTextBox.val().split(" ").join("")!=""){var V=$(ag).attr("WCHOverrideFee");p=parseFloat(V);}}if(Y>0){at=at-Y;al=al-Y;}N=p+at;al=al+p;var S=p;if(w==A+"_"+m+"_"+r&&"WheelchairInputView"!=y){p=p+c;p=ak?parseFloat(p).toFixed(2):p;ap($('span[id="'+A+"_"+m+"_"+r+'"]'),u,J,p.toString(),am);var a=$('span[id="'+ao+'"]').text().split(" ");var ad=parseFloat(C($('span[id="'+w+'"]').text().split(" ")[0]));ad-=Y;ad=ak?parseFloat(ad).toFixed(2):ad;ap($('span[id="'+A+"_"+prevSelected+"_"+r+'"]'),u,J,ad.toString(),am);if(ad<=0&&$.trim(ao)!=""){$("div#"+ao).remove();}}else{if(l.length>0){p=p+c;p=ak?parseFloat(p).toFixed(2):p;if(u){U.text(e(J+p.toString())+" "+am);}else{U.text(e(p.toString())+" "+am);}var ad=parseFloat(C($('span[id="'+w+'"]').text().split(" ")[0]));ad-=Y;ad=ak?parseFloat(ad).toFixed(2):ad;ap($('span[id="'+A+"_"+prevSelected+"_"+r+'"]'),u,J,ad.toString(),am);if(av.length>3&&av[3].indexOf("WheelchairInputView")>=0){var au=SKYSALES.numberSelectedWCH(prevSelected,P);if(au==0){$('div[id="'+A+"_"+prevSelected+"_"+r+'"]').remove();}}else{if(ad<=0&&$.trim(prevSelected)!=""){$('div[id="'+A+"_"+prevSelected+"_"+r+'"]').remove();}}}else{p=ak?parseFloat(p).toFixed(2):p;if(u){E.append('<div id="'+A+"_"+m+"_"+r+'" class="row1"><span id="'+A+"_"+m+"_"+r+'" class="right-text black2">'+J+e(p.toString())+" "+am+'</span> <span id="'+A+"Label_"+m+"_"+r+'" class="left-text black2">'+n+"</span> </div>");}else{E.append('<div id="'+A+"_"+m+"_"+r+'" class="row1"><span id="'+A+"_"+m+"_"+r+'" class="right-text black2">'+e(p.toString())+" "+am+'</span> <span id="'+A+"Label_"+m+"_"+r+'" class="left-text black2">'+n+"</span> </div>");}var ad=parseFloat(C($('span[id="'+w+'"]').text().split(" ")[0]));ad-=Y;ad=ak?parseFloat(ad).toFixed(2):ad;ap($('span[id="'+A+"_"+prevSelected+"_"+r+'"]'),u,J,ad.toString(),am);if(av.length>3&&av[3].indexOf("WheelchairInputView")>=0){var au=SKYSALES.numberSelectedWCH(prevSelected,P);if(au==0){$('div[id="'+A+"_"+prevSelected+"_"+r+'"]').remove();}}else{if(ad<=0&&$.trim(prevSelected)!=""){$('div[id="'+A+"_"+prevSelected+"_"+r+'"]').remove();}}}}$("#prevControl_"+A+"_"+X).text(A+"_"+m+"_"+r);$("#prevSelected_"+A+"_"+X).text(m);S=ak?parseFloat(S).toFixed(2):S;$("#"+A+"PrevAmount_"+X+P).text(e(S.toString()));if(prevSelected){$("#"+A+"PrevControlId_"+X).text(A+"_"+prevSelected+"_"+r);}ai.removeAttr("style");break;}else{if(ag.is(":checkbox")||ag.is(":radio")){if(ag.is(":checked")){N=p+at;al=al+p;$("#"+A+"PrevAmount_"+X).text(e(p.toString()));ai.removeAttr("style");if(l.length>0){p=p+c;p=ak?parseFloat(p).toFixed(2):p;ap($('span[id="'+A+"_"+m+"_"+r+'"]'),u,J,p.toString(),am);}else{p=ak?parseFloat(p).toFixed(2):p;if(u){E.append('<div id="'+A+"_"+m+"_"+r+'" class="row1"><span id="'+A+"_"+m+"_"+r+'" class="right-text black2">'+J+e(p.toString())+" "+am+'</span> <span id="'+A+"Label_"+m+"_"+r+'" class="left-text black2">'+n+"</span> </div>");}else{E.append('<div id="'+A+"_"+m+"_"+r+'" class="row1"><span id="'+A+"_"+m+"_"+r+'" class="right-text black2">'+e(p.toString())+" "+am+'</span> <span id="'+A+"Label_"+m+"_"+r+'" class="left-text black2">'+n+"</span> </div>");}}}else{var ac=$('div[id*="'+A+'"]');N=ac.length>0?at-p:at;al=ac.length>0?al-p:al;p=ac.length>0?c-p:0;p=ak?parseFloat(p).toFixed(2):p;ap($('span[id="'+A+"_"+m+"_"+r+'"]'),u,J,p.toString(),am);if(p<=0){$('div[id="'+A+"_"+m+"_"+r+'"]').remove();}$("#"+A+"PrevAmount_"+X).text(e(p.toString()));}}}}}}else{if(ag.is("select")){if(ah.index()==0||ah.val()==""){p=0;if(typeof(prevSelected)!="undefined"){w=w==""&&prevSelected==""?$("#prevControl_"+A+"_"+X).text():A+"_"+prevSelected+"_"+r;prevSelected=$("#prevSelected_"+A+"_"+X).text()!=""?$("#prevSelected_"+A+"_"+X).text():prevSelected;}else{prevSelected=$("#prevSelected_"+A+"_"+X).text();}var U=$('span[id="'+A+"_"+prevSelected+"_"+r+'"]');c=parseFloat(C(U.text().split(" ")[0]));if(w==""&&r=="1"){f.append('<span id="prevControl_'+A+"_"+X+'" class="right-text bold black2" style="display:none"></span>').append('<span id="prevSelected_'+A+"_"+X+'" class="right-text bold black2" style="display:none"></span>').append('<span id="'+A+"PrevControlId_"+X+'" class="right-text bold black2" style="display:none"></span>');}else{if(Y==""&&r=="2"){b.append('<span id="prevControl_'+A+"_"+X+'" class="right-text bold black2" style="display:none"></span>').append('<span id="prevSelected_'+A+"_"+X+'" class="right-text bold black2" style="display:none"></span>').append('<span id="'+A+"PrevControlId_"+X+'" class="right-text bold black2" style="display:none"></span>');}}if(Y>0){at=at-Y;al=al-Y;}N=p+at;al=al+p;var S=p;var H=c>0?c-Y:p;H=ak?parseFloat(H).toFixed(2):H;p=ak?parseFloat(p).toFixed(2):p;ap(U,u,J,H.toString(),am);if($.trim(ao)!=""&&$('span[id="'+ao+'"]').length>0){var ad=parseFloat(C($('span[id="'+ao+'"]').text().split(" ")[0]));}else{if($.trim(w)!=""){var ad=parseFloat(C($('span[id="'+w+'"]').text().split(" ")[0]));ao=w;}}ad=ak?parseFloat(ad).toFixed(2):ad;if(u){if($.trim(ao)!=""){$('span[id="'+ao+'"]').text(J+e(ad.toString())+" "+am);}}else{if($.trim(ao)!=""){$('span[id="'+ao+'"]').text(e(ad.toString())+" "+am);}}if((isNaN(ad)==false&&ad<=0)&&$.trim(prevSelected)!=""){$('div[id="'+A+"_"+prevSelected+"_"+r+'"]').remove();}if(H<=0&&$.trim(U.attr("id"))!=""){$('div[id="'+U.attr("id")+'"]').remove();}$("#prevControl_"+A+"_"+X).text("");$("#prevSelected_"+A+"_"+X).text("");$("#"+A+"PrevAmount_"+X+P).text(e(S.toString()));break;}}}}if(E.children().length<=1){ai.attr("style","display:none;");}N=ak?parseFloat(N).toFixed(2):N;al=ak?parseFloat(al).toFixed(2):al;if(u){K.text(J+e(N.toString())+" "+am);x.text(J+e(al.toString()));}else{K.text(e(N.toString())+" "+am);x.text(e(al.toString()));}if(!ag.is("select")){ag.removeAttr("disabled");}};SKYSALES.expandDisplayEvent=function(a){if($(a).hasClass("expand_iconSml")){$(a).removeClass("expand_iconSml").addClass("collapse_iconSml");}else{$(a).removeClass("collapse_iconSml").addClass("expand_iconSml");}};if(!SKYSALES.Class.AccountTransactionHistory){SKYSALES.Class.AccountTransactionHistory=function(){var b=new SKYSALES.Class.SkySales();var a=SKYSALES.Util.extendObject(b);a.linkedDates={};a.yearMonthId="";a.dayInputId="";a.transactionDateFormat="";a.init=function(c){this.setSettingsByObject(c);this.setVars();this.initDatePicker();};a.setVars=function(){b.setVars.call(this);};a.initDatePicker=function(){for(var e=0;e<this.linkedDates.length;e++){var c=new SKYSALES.Class.DatePickerManager();c.isAOS=false;c.textBoxInputId=$("#"+this.linkedDates[e].textBoxDateInputId);c.controlInputId=$("#"+this.linkedDates[e].controlInputId);c.linkedDate=$("#"+this.linkedDates[e].inputId);c.transactionDateFormat=this.transactionDateFormat;c.init();}};return a;};SKYSALES.Class.AccountTransactionHistory.createObject=function(a){SKYSALES.Util.createObject("accountTransactionHistory","AccountTransactionHistory",a);};}OpenAccountTransactionsWindow=function(){var b=(screen.width-800)/2,a=(screen.height-500)/2;window.open("AccountTransactionHistory.aspx",null,"height="+500+",width="+800+",left="+b+",top="+a+",status=no,toolbar=no,menubar=no,location=no,scrollbars=yes");return false;};if(!SKYSALES.Class.WebCheckIn){SKYSALES.Class.WebCheckIn=function(){var a=new SKYSALES.Class.SkySales(),b=SKYSALES.Util.extendObject(a);b.showWebCheckInPrompt="";b.webCheckInPrompt="";b.webCheckInButtonId="";b.init=function(c){this.setSettingsByObject(c);b.displayPrompt();};b.displayPrompt=function(){$(document).ready(function(){if(b.showWebCheckInPrompt==="true"&&$("#"+b.webCheckInButtonId)!=null){if(confirm(b.webCheckInPrompt)){$("#"+b.webCheckInButtonId).click();}}});};return b;};SKYSALES.Class.WebCheckIn.createObject=function(a){SKYSALES.Util.createObject("webCheckIn","WebCheckIn",a);};}SKYSALES.AutoSubmit=function(){if(document.getElementById("AutoSubmit")!=null){var a=document.getElementById("AutoSubmit").value;if(a==="True"){$("#loadingDimmer").show();$("#loadingBarBox").show();if(document.getElementById("ControlGroupSearchView_ButtonSubmit")){document.getElementById("ControlGroupSearchView_ButtonSubmit").click();}else{document.getElementById("ControlGroupAvailabilitySearchInputSelectView_ButtonSubmit").click();}}}};SKYSALES.imageClick=function(b){var c=b.id;var a=$(b).attr("clicked");if(a!==undefined&&a!=="false"){$(b).attr("clicked","false");$(b).change();}else{$(b).attr("clicked","true");$(b).change();}return true;};SKYSALES.inputClick=function(b,c){var a=$(b).attr("checked");if(a!==undefined&&a!=="false"){$("#imgPDUV"+c).attr("clicked","true");$("#imgPDUV"+c).change();}else{$("#imgPDUV"+c).attr("clicked","false");$("#imgPDUV"+c).change();}return true;};SKYSALES.TnCCookies=function(f){var l=f;var c=1;var b="TnCId";var n=new Date();n.setTime(n.getTime()+(30*1000));var m=escape(l)+((c==null)?"":"; expires="+n.toUTCString());document.cookie=b+"="+m;var e=document.cookie;var a=e.indexOf(" "+b+"=");if(a==-1){a=e.indexOf(b+"=");}if(a==-1){e=null;}else{a=e.indexOf("=",a)+1;var p=e.indexOf(";",a);if(p==-1){p=e.length;}e=unescape(e.substring(a,p));}};